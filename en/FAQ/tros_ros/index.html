<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-FAQ/tros_ros" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">8.6 TROS/ROS Development | RDK DOC</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://developer.d-robotics.cc/rdk_doc/en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://developer.d-robotics.cc/rdk_doc/en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://developer.d-robotics.cc/rdk_doc/en/FAQ/tros_ros"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="8.6 TROS/ROS Development | RDK DOC"><meta data-rh="true" name="description" content="This section addresses frequently asked questions about developing and using TogetheROS.Bot (TROS.b) and general ROS/ROS2 on the RDK platform."><meta data-rh="true" property="og:description" content="This section addresses frequently asked questions about developing and using TogetheROS.Bot (TROS.b) and general ROS/ROS2 on the RDK platform."><link data-rh="true" rel="icon" href="/rdk_doc/en/img/logo.png"><link data-rh="true" rel="canonical" href="https://developer.d-robotics.cc/rdk_doc/en/FAQ/tros_ros"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/FAQ/tros_ros" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/en/FAQ/tros_ros" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/FAQ/tros_ros" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"8. FAQs","item":"https://developer.d-robotics.cc/rdk_doc/en/FAQ"},{"@type":"ListItem","position":2,"name":"8.6 TROS/ROS Development","item":"https://developer.d-robotics.cc/rdk_doc/en/FAQ/tros_ros"}]}</script><script src="https://hm.baidu.com/hm.js?24dd63cad43b63889ea6bede5fd1ab9e" async></script><link rel="stylesheet" href="/rdk_doc/en/assets/css/styles.0fbd7d27.css">
<script src="/rdk_doc/en/assets/js/runtime~main.f45f4f29.js" defer="defer"></script>
<script src="/rdk_doc/en/assets/js/main.5a13f851.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://d-robotics.cc/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/rdk_doc/en/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rdk_doc/en/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">D-Robotics</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rdk_doc/en/RDK">RDK X3 / X5</a><a class="navbar__item navbar__link" href="/rdk_doc/en/rdk_s/RDK">RDK S100</a><a href="https://developer.d-robotics.cc/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/D-Robotics" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>EN</a><ul class="dropdown__menu"><li><a href="/rdk_doc/FAQ/tros_ros" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-Hans">CN</a></li><li><a href="/rdk_doc/en/FAQ/tros_ros" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">EN</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rdk_doc/en/RDK">D-Robotics RDK Suite</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Quick_start">1. Quick Start</a><button aria-label="Expand sidebar category &#x27;1. Quick Start&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/System_configuration">2. System Configuration</a><button aria-label="Expand sidebar category &#x27;2. System Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Basic_Application">3. Basic Application Development</a><button aria-label="Expand sidebar category &#x27;3. Basic Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Basic_Development">4. Algorithm Application Development</a><button aria-label="Expand sidebar category &#x27;4. Algorithm Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Robot_development">5. Robotics Application Development</a><button aria-label="Expand sidebar category &#x27;5. Robotics Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Application_case">6. Application Development Guide</a><button aria-label="Expand sidebar category &#x27;6. Application Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Advanced_development">7. Advanced Development</a><button aria-label="Expand sidebar category &#x27;7. Advanced Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/rdk_doc/en/FAQ">8. FAQs</a><button aria-label="Collapse sidebar category &#x27;8. FAQs&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/FAQ/hardware_and_system">8.1 Hardware, System, and Environment Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/FAQ/interface">8.2 Interfaces, Peripherals, and Drivers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/FAQ/applications_and_examples">8.3 Application Development, Compilation, and Examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/FAQ/multimedia">8.4 Multimedia Processing and Applications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/FAQ/toolchain">8.5 Algorithm toolchain class</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rdk_doc/en/FAQ/tros_ros">8.6 TROS/ROS Development</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Appendix">9. Appendix</a><button aria-label="Expand sidebar category &#x27;9. Appendix&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rdk_doc/en/Release_Note/release_note">10. Version release</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rdk_doc/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rdk_doc/en/FAQ"><span>8. FAQs</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">8.6 TROS/ROS Development</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>8.6 TROS/ROS Development</h1></header>
<p>This section addresses frequently asked questions about developing and using TogetheROS.Bot (TROS.b) and general ROS/ROS2 on the RDK platform.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q1-what-are-the-recommended-troubleshooting-steps-if-tros-related-packages-fail-to-run">Q1: What are the recommended troubleshooting steps if TROS-related packages fail to run?<a href="#q1-what-are-the-recommended-troubleshooting-steps-if-tros-related-packages-fail-to-run" class="hash-link" aria-label="Direct link to Q1: What are the recommended troubleshooting steps if TROS-related packages fail to run?" title="Direct link to Q1: What are the recommended troubleshooting steps if TROS-related packages fail to run?">​</a></h3>
<p><strong>A:</strong></p>
<ol>
<li><strong>Ensure your TROS packages are up to date:</strong> Many issues may have been fixed in newer versions. After confirming that the official Horizon APT sources (such as <code>sunrise.horizon.cc</code> or the latest <code>archive.d-robotics.cc</code>) are correctly configured, update all TROS-related packages:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt update &amp;&amp; sudo apt upgrade</span><br></span></code></pre></div></div>
<!-- -->When seeking help, please provide your system and package version information using commands like <code>rdkos_info</code>, <code>apt list --installed | grep tros</code>, and <code>apt show &lt;tros_package_name&gt;</code>.</li>
<li><strong>Try to locate the problematic ROS node:</strong>
<ul>
<li>Refer to the launch file of the relevant package and set the log level to <code>debug</code> (e.g., add <code>[&#x27;--ros-args&#x27;, &#x27;--log-level&#x27;, &#x27;DEBUG&#x27;]</code> to the node&#x27;s arguments).</li>
<li>Relaunch the file and use the detailed debug logs to identify which node is causing the issue.</li>
<li>TROS package launch files are usually located at <code>/opt/tros/&lt;tros_distro&gt;/share/&lt;package_name&gt;/launch/</code> (e.g., <code>/opt/tros/humble/share/mipi_cam/launch/</code>).</li>
<li>ROS2 log files are typically stored in <code>~/.ros/log/</code> or <code>/root/.ros/log/</code>. Before troubleshooting, you can clear old logs with <code>rm -rf ~/.ros/log/*</code> (or the corresponding root path), then rerun the package to collect fresh logs.</li>
</ul>
</li>
<li><strong>Reinstall the relevant TROS package:</strong>
<ul>
<li>If you suspect a package&#x27;s configuration is corrupted or incomplete, try reinstalling it.</li>
<li>For example, to reinstall <code>hobot_usb_cam</code>:<!-- -->
<ol>
<li>Find the exact package name: <code>apt list --installed | grep hobot-usb-cam</code></li>
<li>Remove the package: <code>sudo apt remove &lt;tros_package_name_found&gt;</code></li>
<li>Ensure APT sources are correct and update: <code>sudo apt update</code></li>
<li>Reinstall the package: <code>sudo apt install &lt;tros_package_name_found&gt;</code></li>
</ol>
</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q2-what-are-the-differences-between-tros-and-standard-ros2-how-to-upgrade-tros-foxy-to-tros-humble">Q2: What are the differences between TROS and standard ROS2? How to upgrade TROS Foxy to TROS Humble?<a href="#q2-what-are-the-differences-between-tros-and-standard-ros2-how-to-upgrade-tros-foxy-to-tros-humble" class="hash-link" aria-label="Direct link to Q2: What are the differences between TROS and standard ROS2? How to upgrade TROS Foxy to TROS Humble?" title="Direct link to Q2: What are the differences between TROS and standard ROS2? How to upgrade TROS Foxy to TROS Humble?">​</a></h3>
<p><strong>A:</strong></p>
<ul>
<li>
<p><strong>Relationship between TROS and ROS2:</strong></p>
<ul>
<li>TROS (TogetheROS.Bot) is Horizon&#x27;s robot operating system, optimized and adapted from open-source ROS2 for its RDK hardware platform.</li>
<li>It is usually built on a ROS2 LTS version, for example:<!-- -->
<ul>
<li>On RDK OS 2.x (Ubuntu 20.04), TROS is based on <strong>ROS2 Foxy Fitzroy</strong>.</li>
<li>On RDK OS 3.x (Ubuntu 22.04), TROS is based on <strong>ROS2 Humble Hawksbill</strong>.</li>
</ul>
</li>
<li>TROS integrates Horizon hardware drivers (BPU, VPU, JPU, sensors, etc.), hardware acceleration libraries, and optimized solutions and examples for common robotics functions.</li>
<li>TROS is <strong>fully compatible</strong> with the core APIs and communication mechanisms of the corresponding ROS2 version, meaning nodes and services developed for standard ROS2 Foxy/Humble can usually run on TROS with little or no modification, and vice versa.</li>
</ul>
</li>
<li>
<p><strong>TROS version upgrade (e.g., Foxy to Humble):</strong></p>
<ul>
<li>Since TROS versions are tightly coupled with the underlying Ubuntu version (e.g., Foxy with Ubuntu 20.04, Humble with Ubuntu 22.04), <strong>you cannot upgrade TROS from one major LTS version to another (e.g., Foxy to Humble) simply via <code>apt upgrade</code></strong>.</li>
<li><strong>The correct way is:</strong> Flash a complete RDK OS system image that includes the new TROS version (e.g., Humble) and the corresponding Ubuntu version (e.g., 22.04).</li>
</ul>
</li>
<li>
<p><strong>ROS2 runtime environment on the board:</strong></p>
<ul>
<li>TROS itself is a complete ROS2 runtime environment on the RDK board.</li>
<li>You can also install other standard ROS2 distributions (e.g., Foxy, Humble) or ROS1 (e.g., Noetic) on the board; they can coexist, but <strong>only one ROS environment should be sourced in a terminal session</strong>.</li>
<li><code>colcon</code> is a common ROS2 build tool. If not pre-installed, you may need to install it manually:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install python3-colcon-common-extensions python3-catkin-pkg-modules python3-rosdep</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Or via pip:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># pip3 install -U colcon-common-extensions empy</span><br></span></code></pre></div></div>
</li>
</ul>
</li>
<li>
<p><strong>Note:</strong> ROS packages compiled directly on x86 (not cross-compiled) cannot run on ARM-based RDK boards, and vice versa. Ensure your programs are compiled for the target architecture.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q3-how-is-tros-installed-on-the-rdk-board-is-manual-installation-required">Q3: How is TROS installed on the RDK board? Is manual installation required?<a href="#q3-how-is-tros-installed-on-the-rdk-board-is-manual-installation-required" class="hash-link" aria-label="Direct link to Q3: How is TROS installed on the RDK board? Is manual installation required?" title="Direct link to Q3: How is TROS installed on the RDK board? Is manual installation required?">​</a></h3>
<p><strong>A:</strong></p>
<ul>
<li>TROS is <strong>pre-installed</strong> on the board when you flash the official RDK OS system image. You do not need to manually install TROS after flashing.</li>
<li>You can update or incrementally install TROS packages via the APT package manager. With the official Horizon APT source configured, <code>sudo apt update &amp;&amp; sudo apt upgrade</code> will update installed TROS packages.</li>
<li>Older tools like <code>hhp</code> or manual symlink steps are generally no longer needed in newer TROS versions.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q4-where-can-i-find-the-source-code-for-tros-related-packages">Q4: Where can I find the source code for TROS-related packages?<a href="#q4-where-can-i-find-the-source-code-for-tros-related-packages" class="hash-link" aria-label="Direct link to Q4: Where can I find the source code for TROS-related packages?" title="Direct link to Q4: Where can I find the source code for TROS-related packages?">​</a></h3>
<p><strong>A:</strong></p>
<ul>
<li><strong>TROS Manual:</strong> The official TROS user manual usually provides GitHub repository links for core packages or examples.</li>
<li><strong>NodeHub:</strong> If a package is provided via NodeHub (the Horizon robotics app store/component platform), its introduction page usually includes a source code link.</li>
<li><strong>GitHub D-Robotics Organization:</strong> Most open-source TROS packages are hosted under the <strong>D-Robotics</strong> organization (<a href="https://github.com/D-Robotics" target="_blank" rel="noopener noreferrer">https://github.com/D-Robotics</a>). Search for the package name to find its repository.</li>
<li><strong>README:</strong> Each TROS package repository typically contains a detailed <code>README.md</code> with build instructions, usage, parameters, dependencies, etc.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q5-what-should-i-pay-attention-to-when-compiling-tros-packages-from-source">Q5: What should I pay attention to when compiling TROS packages from source?<a href="#q5-what-should-i-pay-attention-to-when-compiling-tros-packages-from-source" class="hash-link" aria-label="Direct link to Q5: What should I pay attention to when compiling TROS packages from source?" title="Direct link to Q5: What should I pay attention to when compiling TROS packages from source?">​</a></h3>
<p><strong>A:</strong></p>
<ol>
<li>
<p><strong>When to compile from source:</strong></p>
<ul>
<li><strong>For experience:</strong> If you just want to try existing TROS features, you <strong>do not need</strong> to compile from source. Flash the latest RDK OS image and run pre-built packages.</li>
<li><strong>For secondary development:</strong> If you need to modify an official TROS package, download its source, modify, and compile it. It&#x27;s recommended to compile <strong>directly on the RDK board</strong> (if resources allow), or in a <strong>cross-compilation Docker environment</strong>.</li>
<li><strong>Full TROS build:</strong> Building the entire TROS distribution from scratch is complex and usually requires the official cross-compilation Docker environment on a powerful x86 Ubuntu machine.</li>
</ul>
</li>
<li>
<p><strong>Cross-compilation Docker environment:</strong></p>
<ul>
<li><strong>Version matching:</strong> Ensure the Docker image version matches your target TROS version (Foxy or Humble) and RDK OS version.</li>
<li><strong>Source branch:</strong> When pulling source code, switch to the branch matching your TROS version (e.g., <code>foxy</code>, <code>humble</code>, or a specific release tag). <strong>Avoid using <code>main</code> or <code>develop</code> unless you know it&#x27;s compatible.</strong></li>
</ul>
</li>
<li>
<p><strong>Dependency issues:</strong></p>
<ul>
<li>You may encounter missing dependencies during compilation. Carefully read error messages to identify missing libraries or headers.</li>
<li>Use <code>apt search &lt;package_name&gt;</code> to find the Debian package, and install with <code>sudo apt install &lt;package_name-dev&gt;</code>.</li>
<li>For ROS dependencies, use <code>rosdep</code>:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install python3-rosdep</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo rosdep init # Only once</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rosdep update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd &lt;your_ros_workspace_root&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rosdep install --from-paths src --ignore-src -r -y</span><br></span></code></pre></div></div>
</li>
<li>The community usually cannot provide one-on-one support for individual build environments.</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q6-what-if-i-get-errors-when-installing-standard-ros2-on-the-rdk-board">Q6: What if I get errors when installing standard ROS2 on the RDK board?<a href="#q6-what-if-i-get-errors-when-installing-standard-ros2-on-the-rdk-board" class="hash-link" aria-label="Direct link to Q6: What if I get errors when installing standard ROS2 on the RDK board?" title="Direct link to Q6: What if I get errors when installing standard ROS2 on the RDK board?">​</a></h3>
<p><strong>A:</strong> If you try to install a standard ROS2 distribution (e.g., Foxy, Humble) on the RDK board (which may already have TROS pre-installed) and encounter issues:</p>
<ol>
<li><strong>Use recommended installation tools:</strong>
<ul>
<li>Try popular third-party ROS installation tools, such as &quot;FishROS One-Click Installer&quot;:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">wget http://fishros.com/install -O fishros &amp;&amp; bash fishros</span><br></span></code></pre></div></div>
</li>
</ul>
</li>
<li><strong>Install from source (if tools fail):</strong>
<ul>
<li>If the one-click tool fails, clone the installer script from GitHub and run the Python script manually for more detailed output or customization:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/fishros/install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo python3 install.py</span><br></span></code></pre></div></div>
</li>
</ul>
</li>
<li><strong>Check network and sources:</strong> Ensure the board has network access and can reach ROS and Ubuntu official sources.</li>
<li><strong>Check error logs:</strong> Carefully read any error messages during installation for clues (dependency conflicts, download failures, build errors, etc.).</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q7-what-are-recommended-resources-for-multimedia-video-streaming-encodingdecoding-in-tros">Q7: What are recommended resources for multimedia (video streaming, encoding/decoding) in TROS?<a href="#q7-what-are-recommended-resources-for-multimedia-video-streaming-encodingdecoding-in-tros" class="hash-link" aria-label="Direct link to Q7: What are recommended resources for multimedia (video streaming, encoding/decoding) in TROS?" title="Direct link to Q7: What are recommended resources for multimedia (video streaming, encoding/decoding) in TROS?">​</a></h3>
<p><strong>A:</strong> The official TROS manual usually has dedicated sections or examples on using RDK multimedia capabilities in ROS2.</p>
<ul>
<li><strong>Community Manual - Robot Development - Application Examples - Video Applications (video_boxs):</strong>
<a href="https://developer.d-robotics.cc/rdk_doc/Robot_development/apps/video_boxs" target="_blank" rel="noopener noreferrer">https://developer.d-robotics.cc/rdk_doc/Robot_development/apps/video_boxs</a>
(Please verify the link is current and valid.)
This page or its subpages typically cover:<!-- -->
<ul>
<li>How to publish image topics using MIPI or USB cameras.</li>
<li>How to use hardware codecs (<code>hobot_codec</code>) for image/video encoding (H.264, H.265, MJPEG) and decoding.</li>
<li>How to efficiently transfer image data between ROS2 nodes (possibly using zero-copy).</li>
<li>Related sample code and launch files.
<img decoding="async" loading="lazy" src="https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/08_FAQ/image/tros1.png" alt="TROS Multimedia Solution Diagram" class="img_ev3q">
<img decoding="async" loading="lazy" src="https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/08_FAQ/image/tros2.png" alt="TROS Multimedia Solution Diagram" class="img_ev3q">
<img decoding="async" loading="lazy" src="https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/08_FAQ/image/tros3.png" alt="TROS Multimedia Solution Diagram" class="img_ev3q"></li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q8-after-launching-a-usb-or-mipi-camera-node-the-terminal-says-usb_camera_calibrationyaml-does-not-exist-is-this-normal">Q8: After launching a USB or MIPI camera node, the terminal says &quot;[usb_camera_calibration.yaml] does not exist!&quot; Is this normal?<a href="#q8-after-launching-a-usb-or-mipi-camera-node-the-terminal-says-usb_camera_calibrationyaml-does-not-exist-is-this-normal" class="hash-link" aria-label="Direct link to Q8: After launching a USB or MIPI camera node, the terminal says &quot;[usb_camera_calibration.yaml] does not exist!&quot; Is this normal?" title="Direct link to Q8: After launching a USB or MIPI camera node, the terminal says &quot;[usb_camera_calibration.yaml] does not exist!&quot; Is this normal?">​</a></h3>
<p><strong>A:</strong> This message is <strong>usually normal and does not necessarily mean the camera isn&#x27;t working</strong>.</p>
<ul>
<li><strong>Log level:</strong> Many ROS nodes default to <code>INFO</code> or <code>WARN</code>. When starting, the camera node tries to load an intrinsic calibration file (usually a <code>.yaml</code> with focal length, distortion, etc.). If not found, it warns but usually continues with default or uncalibrated parameters.</li>
<li><strong>Function check:</strong>
<ul>
<li>Even with this warning, the camera may be publishing images.</li>
<li>In another terminal (after sourcing TROS), check:<!-- -->
<ol>
<li><code>ros2 topic list</code>: See if image topics (e.g., <code>/image_raw</code>, <code>/image_color</code>, <code>/hbmem_img</code>) are published.</li>
<li><code>ros2 topic hz /your_image_topic_name</code>: Check publish rate.</li>
<li><code>ros2 topic echo /your_image_topic_name</code>: See if image messages are output (will scroll quickly).</li>
<li>Use <code>rqt_image_view</code> (on PC or board desktop) to view the image topic.</li>
</ol>
</li>
</ul>
</li>
<li><strong>When calibration is needed:</strong> If your application needs precise image measurements, 3D reconstruction, or undistortion, a correct calibration file is important. For simple display or AI inference, missing calibration may not matter.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q9-why-does-the-browser-not-display-images-or-ai-results-when-using-tros-websocket-visualization">Q9: Why does the browser not display images or AI results when using TROS WebSocket visualization?<a href="#q9-why-does-the-browser-not-display-images-or-ai-results-when-using-tros-websocket-visualization" class="hash-link" aria-label="Direct link to Q9: Why does the browser not display images or AI results when using TROS WebSocket visualization?" title="Direct link to Q9: Why does the browser not display images or AI results when using TROS WebSocket visualization?">​</a></h3>
<p><strong>A:</strong> There are many possible causes. Troubleshoot step by step:</p>
<ol>
<li>
<p><strong>Ensure relevant ROS nodes are running:</strong></p>
<ul>
<li><strong>Image publisher node:</strong> A node (e.g., <code>mipi_cam</code>, <code>usb_cam</code>, or playback node) must be publishing image topics.</li>
<li><strong>AI inference node (if displaying AI results):</strong> A node must be publishing AI result topics.</li>
<li><strong>WebSocket node (<code>hobot_websocket</code> or similar):</strong> This node converts ROS topics to WebSocket messages for the browser.</li>
<li>Use <code>ros2 node list</code> and <code>ros2 topic list</code> to check node and topic activity.</li>
</ul>
</li>
<li>
<p><strong>Network connection and IP address:</strong></p>
<ul>
<li>Ensure your PC (browser) and RDK board (WebSocket server) are on the same LAN.</li>
<li>The browser must access the correct RDK board IP.</li>
<li>Check for IP conflicts or routing issues.</li>
</ul>
</li>
<li>
<p><strong>Proxy server settings:</strong></p>
<ul>
<li>If your PC uses a proxy, check if it blocks LAN IPs. Try disabling the proxy or setting exceptions.</li>
</ul>
</li>
<li>
<p><strong>WebSocket node parameters and AI message sync (for AI results):</strong></p>
<ul>
<li>If <code>only_show_image</code> is <code>False</code>, <code>hobot_websocket</code> may wait for the first AI result (<code>ai_msg</code>) before syncing and rendering.</li>
<li><strong>Check:</strong> Ensure your AI node is publishing at least one AI result. If not, the WebSocket may not display overlays.</li>
</ul>
</li>
<li>
<p><strong>Network bandwidth and quality:</strong></p>
<ul>
<li>Uncompressed images (especially high-res, high-FPS) require high bandwidth. Poor network (weak Wi-Fi, congestion, mobile hotspot) may cause lag or failure.</li>
<li>Try lowering image resolution/FPS or use compressed formats.</li>
</ul>
</li>
<li>
<p><strong>High CPU load on RDK board:</strong></p>
<ul>
<li>If you open the browser on the RDK board&#x27;s desktop (via VNC or direct display), the CPU may be overloaded by ROS nodes, WebSocket service, desktop rendering, and browser.</li>
<li><strong>Recommendation:</strong> Use a separate PC for browser access.</li>
</ul>
</li>
<li>
<p><strong>Browser compatibility or cache:</strong></p>
<ul>
<li>Clear browser cache or try a different browser (latest Chrome, Firefox, Edge).</li>
<li>Check browser developer tools (Console, Network) for JS errors, WebSocket errors, or resource failures.</li>
</ul>
</li>
<li>
<p><strong>Refresh the page:</strong> Sometimes, simply refreshing (Ctrl+R or Cmd+R) resolves temporary issues.</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q10-how-to-configure-tros-for-smart-voice-features-or-use-a-custom-usb-microphone">Q10: How to configure TROS for smart voice features or use a custom USB microphone?<a href="#q10-how-to-configure-tros-for-smart-voice-features-or-use-a-custom-usb-microphone" class="hash-link" aria-label="Direct link to Q10: How to configure TROS for smart voice features or use a custom USB microphone?" title="Direct link to Q10: How to configure TROS for smart voice features or use a custom USB microphone?">​</a></h3>
<p><strong>A:</strong></p>
<ol>
<li>
<p><strong>Check sound card devices:</strong></p>
<ul>
<li>Confirm your microphone (onboard or USB) is recognized:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cat /proc/asound/cards</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ls /dev/snd/</span><br></span></code></pre></div></div>
<code>cat /proc/asound/cards</code> lists sound cards and their numbers (card 0, card 1). <code>ls /dev/snd/</code> shows PCM device nodes (e.g., <code>pcmC0D0c</code> means card 0, device 0, capture).</li>
</ul>
</li>
<li>
<p><strong>Configure TROS voice node microphone device:</strong></p>
<ul>
<li>TROS voice nodes usually have a parameter (in launch or config files) to specify the microphone device, such as <code>micphone_name</code>, <code>device_name</code>, or <code>alsa_device</code>.</li>
<li>The value is typically an ALSA device name, <code>hw:X,Y</code>, where <code>X</code> is the card number and <code>Y</code> is the PCM device number.</li>
<li><strong>Default:</strong> Usually <code>&quot;hw:0,0&quot;</code> (card 0, device 0).</li>
<li><strong>Modify:</strong> If your USB mic is card 1, device 0 capture (<code>pcmC1D0c</code>), set the parameter to <code>&quot;hw:1,0&quot;</code>.</li>
<li><strong>Example:</strong> If <code>cat /proc/asound/cards</code> shows your USB mic as <code>card 1</code> and <code>arecord -l</code> shows device 0, set the parameter to <code>hw:1,0</code>.</li>
</ul>
</li>
<li>
<p><strong>Check ALSA volume and mute settings:</strong></p>
<ul>
<li>Use <code>alsamixer</code>, press <code>F6</code> to select the card, then <code>F4</code> to adjust capture controls (e.g., &#x27;Mic&#x27;, &#x27;Capture&#x27;, &#x27;ADC PGA Gain&#x27;), ensure they&#x27;re not muted (MM, toggle with M) and volume is appropriate.</li>
</ul>
</li>
<li>
<p><strong>Permissions:</strong> Ensure the process running the voice node has permission to access audio devices.</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q11-why-is-it-not-recommended-to-run-rviz-or-gazebo-directly-on-rdk-embedded-devices-what-is-the-recommended-approach">Q11: Why is it not recommended to run Rviz or Gazebo directly on RDK embedded devices? What is the recommended approach?<a href="#q11-why-is-it-not-recommended-to-run-rviz-or-gazebo-directly-on-rdk-embedded-devices-what-is-the-recommended-approach" class="hash-link" aria-label="Direct link to Q11: Why is it not recommended to run Rviz or Gazebo directly on RDK embedded devices? What is the recommended approach?" title="Direct link to Q11: Why is it not recommended to run Rviz or Gazebo directly on RDK embedded devices? What is the recommended approach?">​</a></h3>
<p><strong>A:</strong></p>
<ul>
<li>
<p><strong>Resource consumption:</strong> Rviz and Gazebo are powerful but resource-intensive, requiring strong CPU, lots of RAM, and (especially for Gazebo and complex Rviz configs) good GPU acceleration.</p>
</li>
<li>
<p><strong>Embedded device limitations:</strong> RDK boards have limited CPU, memory, and graphics power. Running Rviz or Gazebo directly may:</p>
<ul>
<li>Exhaust resources, causing severe lag or system freeze.</li>
<li>Result in poor user experience and slow visualization/simulation.</li>
<li>Severely impact real-time performance of core robot programs.</li>
</ul>
</li>
<li>
<p><strong>Recommended approach:</strong></p>
<ol>
<li><strong>Distributed ROS network:</strong> Run Rviz or Gazebo on a powerful PC or Ubuntu VM <strong>on the same LAN as the RDK board</strong>.</li>
<li><strong>Topic subscription/publication:</strong>
<ul>
<li>RDK nodes publish sensor data, robot state, AI results, etc.</li>
<li>PC Rviz subscribes to these topics for visualization.</li>
<li>PC Gazebo simulates the robot/environment and interacts with RDK nodes via ROS topics.</li>
</ul>
</li>
<li><strong>Network configuration:</strong> Ensure PC and RDK are networked correctly, with matching ROS_DOMAIN_ID (ROS2) or ROS_MASTER_URI/ROS_IP (ROS1). For ROS2, same network and DOMAIN_ID usually suffice.</li>
<li><strong>VM configuration:</strong> If using a VM, set network mode to &quot;Bridged Adapter&quot; so the VM gets an IP on the same subnet as the RDK board.</li>
</ol>
</li>
</ul>
<p>This way, compute-intensive visualization and simulation run on the PC, while the RDK board focuses on real-time robot applications, ensuring overall performance and stability.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q12-the-rdk-x3-kernel-is-old-can-it-still-support-realsense-d435i-how-to-install">Q12: The RDK X3 kernel is old. Can it still support RealSense D435i? How to install?<a href="#q12-the-rdk-x3-kernel-is-old-can-it-still-support-realsense-d435i-how-to-install" class="hash-link" aria-label="Direct link to Q12: The RDK X3 kernel is old. Can it still support RealSense D435i? How to install?" title="Direct link to Q12: The RDK X3 kernel is old. Can it still support RealSense D435i? How to install?">​</a></h3>
<p><strong>A:</strong></p>
<ul>
<li><strong>Support:</strong> Although RDK X3&#x27;s Linux kernel may be old (e.g., 4.14.x), Horizon usually <strong>pre-integrates required kernel patches and drivers</strong> for common peripherals (like Intel RealSense cameras) in the official RDK OS image.</li>
<li><strong>Installation:</strong> You <strong>do not need</strong> to build kernel modules from RealSense SDK source. Horizon provides APT packages for RealSense drivers and tools.<!-- -->
<ul>
<li><strong>Official guide:</strong> Refer to the Horizon developer community or RDK X3 manual for &quot;Sensor Demo&quot; or &quot;Peripheral Support&quot; sections on RealSense D435i.
For example: <a href="https://developer.d-robotics.cc/rdk_doc/Robot_development/quick_demo/demo_sensor#realsense%E5%9B%BE%E5%83%8F%E9%87%87%E9%9B%86" target="_blank" rel="noopener noreferrer">RDK Docs - RealSense Image Acquisition</a>.</li>
<li><strong>APT install:</strong> After configuring the official APT source, install with:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install librealsense2-dkms librealsense2-utils librealsense2-dev</span><br></span></code></pre></div></div>
</li>
</ul>
</li>
<li><strong>Usage:</strong> After installation, you can use the RealSense SDK (librealsense2) API to get depth, color, IR, and IMU data (for D435i).</li>
<li><strong>API details:</strong> For programming with librealsense2, refer to Intel RealSense SDK documentation and examples.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q13-how-to-configure-zero-copy-data-transfer-in-tros">Q13: How to configure zero-copy data transfer in TROS?<a href="#q13-how-to-configure-zero-copy-data-transfer-in-tros" class="hash-link" aria-label="Direct link to Q13: How to configure zero-copy data transfer in TROS?" title="Direct link to Q13: How to configure zero-copy data transfer in TROS?">​</a></h3>
<p><strong>A:</strong> Zero-copy is a technique to optimize large data (e.g., images) transfer between ROS2 nodes by avoiding unnecessary memory copies, often via shared memory. TROS (based on ROS2) supports zero-copy.</p>
<ul>
<li>
<p><strong>TROS Foxy (ROS2 Foxy):</strong></p>
<ul>
<li>ROS2 Foxy has limited zero-copy support. Horizon may provide a custom shared memory solution (e.g., <code>hobot_shm</code> package).</li>
<li>Refer to the TROS Foxy documentation or <code>hobot_shm</code> README for details.</li>
</ul>
</li>
<li>
<p><strong>TROS Humble (ROS2 Humble):</strong></p>
<ul>
<li>ROS2 Humble has more mature zero-copy support (Loaned Messages, DDS shared memory).</li>
<li><strong>Configuration:</strong> Set environment variables to enable Fast DDS shared memory. See FAQ &quot;8.3 Applications and Examples&quot; <strong>Q15: How to configure and use zero-copy in TROS Humble?</strong> for details.
Key variables:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export RMW_IMPLEMENTATION=rmw_fastrtps_cpp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export FASTRTPS_DEFAULT_PROFILES_FILE=/opt/tros/humble/lib/hobot_shm/config/shm_fastdds.xml # Confirm path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export RMW_FASTRTPS_USE_QOS_FROM_XML=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export ROS_DISABLE_LOANED_MESSAGES=0</span><br></span></code></pre></div></div>
</li>
</ul>
</li>
<li>
<p><strong>General reference:</strong></p>
<ul>
<li>Horizon&#x27;s official docs on TROS communication optimization or specific demos (e.g., image transfer) usually include zero-copy configuration guides.
For example: <a href="https://developer.d-robotics.cc/rdk_doc/Robot_development/quick_demo/demo_communication" target="_blank" rel="noopener noreferrer">RDK Docs - ROS Communication - Zero-Copy Configuration</a> (verify link validity).</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q14-besides-the-official-horizon-apt-source-are-there-other-public-ros2-sources-available">Q14: Besides the official Horizon APT source, are there other public ROS2 sources available?<a href="#q14-besides-the-official-horizon-apt-source-are-there-other-public-ros2-sources-available" class="hash-link" aria-label="Direct link to Q14: Besides the official Horizon APT source, are there other public ROS2 sources available?" title="Direct link to Q14: Besides the official Horizon APT source, are there other public ROS2 sources available?">​</a></h3>
<p><strong>A:</strong> Yes. Standard ROS2 distributions (Foxy, Humble, Iron, etc.) have official APT sources maintained by Open Robotics (now Intrinsic).</p>
<ul>
<li>
<p><strong>ROS2 official source:</strong></p>
<ul>
<li>Usually at <code>http://packages.ros.org/ros2/ubuntu</code>.</li>
<li>When installing standard ROS2 or third-party packages, you may need to add this source.</li>
<li>Example (for Humble on Ubuntu Jammy 22.04):<!-- -->
<ol>
<li><strong>Set locale:</strong>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt update &amp;&amp; sudo apt install locales</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo locale-gen en_US en_US.UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo update-locale LC_ALL=en_US.UTF-8 LANG=en_US.UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export LANG=en_US.UTF-8</span><br></span></code></pre></div></div>
</li>
<li><strong>Add ROS2 GPG key and source:</strong>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install software-properties-common</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo add-apt-repository universe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt update &amp;&amp; sudo apt install curl -y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key -o /usr/share/keyrings/ros-archive-keyring.gpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu $(. /etc/os-release &amp;&amp; echo $UBUNTU_CODENAME) main&quot; | sudo tee /etc/apt/sources.list.d/ros2.list &gt; /dev/null</span><br></span></code></pre></div></div>
</li>
<li><strong>Update APT cache:</strong>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt update</span><br></span></code></pre></div></div>
</li>
</ol>
</li>
<li>Then you can install packages with <code>sudo apt install ros-humble-desktop</code> (full desktop) or <code>ros-humble-&lt;package_name&gt;</code> (specific package).</li>
</ul>
</li>
<li>
<p><strong>China mirror sources:</strong></p>
<ul>
<li>For faster downloads, some Chinese universities/institutions (e.g., TUNA, USTC LUG, SJTUG) provide ROS2 mirror sources. Replace <code>packages.ros.org</code> with the mirror address as needed.</li>
</ul>
</li>
</ul>
<p><strong>Note:</strong> When both Horizon TROS and ROS2 official sources are present, <code>apt</code> will choose packages based on version and priority. TROS packages are usually optimized for RDK hardware.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-09-03T11:55:53.000Z" itemprop="dateModified">Sep 3, 2025</time></b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/rdk_doc/en/FAQ/toolchain"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">8.5 Algorithm toolchain class</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rdk_doc/en/Appendix"><div class="pagination-nav__sublabel">Next </div><div class="pagination-nav__label">9. 附录</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#q1-what-are-the-recommended-troubleshooting-steps-if-tros-related-packages-fail-to-run" class="table-of-contents__link toc-highlight">Q1: What are the recommended troubleshooting steps if TROS-related packages fail to run?</a></li><li><a href="#q2-what-are-the-differences-between-tros-and-standard-ros2-how-to-upgrade-tros-foxy-to-tros-humble" class="table-of-contents__link toc-highlight">Q2: What are the differences between TROS and standard ROS2? How to upgrade TROS Foxy to TROS Humble?</a></li><li><a href="#q3-how-is-tros-installed-on-the-rdk-board-is-manual-installation-required" class="table-of-contents__link toc-highlight">Q3: How is TROS installed on the RDK board? Is manual installation required?</a></li><li><a href="#q4-where-can-i-find-the-source-code-for-tros-related-packages" class="table-of-contents__link toc-highlight">Q4: Where can I find the source code for TROS-related packages?</a></li><li><a href="#q5-what-should-i-pay-attention-to-when-compiling-tros-packages-from-source" class="table-of-contents__link toc-highlight">Q5: What should I pay attention to when compiling TROS packages from source?</a></li><li><a href="#q6-what-if-i-get-errors-when-installing-standard-ros2-on-the-rdk-board" class="table-of-contents__link toc-highlight">Q6: What if I get errors when installing standard ROS2 on the RDK board?</a></li><li><a href="#q7-what-are-recommended-resources-for-multimedia-video-streaming-encodingdecoding-in-tros" class="table-of-contents__link toc-highlight">Q7: What are recommended resources for multimedia (video streaming, encoding/decoding) in TROS?</a></li><li><a href="#q8-after-launching-a-usb-or-mipi-camera-node-the-terminal-says-usb_camera_calibrationyaml-does-not-exist-is-this-normal" class="table-of-contents__link toc-highlight">Q8: After launching a USB or MIPI camera node, the terminal says &quot;[usb_camera_calibration.yaml] does not exist!&quot; Is this normal?</a></li><li><a href="#q9-why-does-the-browser-not-display-images-or-ai-results-when-using-tros-websocket-visualization" class="table-of-contents__link toc-highlight">Q9: Why does the browser not display images or AI results when using TROS WebSocket visualization?</a></li><li><a href="#q10-how-to-configure-tros-for-smart-voice-features-or-use-a-custom-usb-microphone" class="table-of-contents__link toc-highlight">Q10: How to configure TROS for smart voice features or use a custom USB microphone?</a></li><li><a href="#q11-why-is-it-not-recommended-to-run-rviz-or-gazebo-directly-on-rdk-embedded-devices-what-is-the-recommended-approach" class="table-of-contents__link toc-highlight">Q11: Why is it not recommended to run Rviz or Gazebo directly on RDK embedded devices? What is the recommended approach?</a></li><li><a href="#q12-the-rdk-x3-kernel-is-old-can-it-still-support-realsense-d435i-how-to-install" class="table-of-contents__link toc-highlight">Q12: The RDK X3 kernel is old. Can it still support RealSense D435i? How to install?</a></li><li><a href="#q13-how-to-configure-zero-copy-data-transfer-in-tros" class="table-of-contents__link toc-highlight">Q13: How to configure zero-copy data transfer in TROS?</a></li><li><a href="#q14-besides-the-official-horizon-apt-source-are-there-other-public-ros2-sources-available" class="table-of-contents__link toc-highlight">Q14: Besides the official Horizon APT source, are there other public ROS2 sources available?</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.guyuehome.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GuYueHome<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Contact US</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/D-Robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@D-Robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 D-Robotics.</div></div></div></footer></div>
</body>
</html>