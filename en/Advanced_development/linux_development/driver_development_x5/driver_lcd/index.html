<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Advanced_development/linux_development/driver_development_x5/driver_lcd" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">LCD Driver Debugging Guide | RDK DOC</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://developer.d-robotics.cc/rdk_doc/en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://developer.d-robotics.cc/rdk_doc/en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://developer.d-robotics.cc/rdk_doc/en/Advanced_development/linux_development/driver_development_x5/driver_lcd"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="LCD Driver Debugging Guide | RDK DOC"><meta data-rh="true" name="description" content="1. Specifications"><meta data-rh="true" property="og:description" content="1. Specifications"><link data-rh="true" rel="icon" href="/rdk_doc/en/img/logo.png"><link data-rh="true" rel="canonical" href="https://developer.d-robotics.cc/rdk_doc/en/Advanced_development/linux_development/driver_development_x5/driver_lcd"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/Advanced_development/linux_development/driver_development_x5/driver_lcd" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/en/Advanced_development/linux_development/driver_development_x5/driver_lcd" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/Advanced_development/linux_development/driver_development_x5/driver_lcd" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"7. Advanced Development","item":"https://developer.d-robotics.cc/rdk_doc/en/Advanced_development"},{"@type":"ListItem","position":2,"name":"7.2. Linux Development Guide","item":"https://developer.d-robotics.cc/rdk_doc/en/linux_development"},{"@type":"ListItem","position":3,"name":"7.2.3 RDK X5 Driver Development Guide","item":"https://developer.d-robotics.cc/rdk_doc/en/Advanced_development/linux_development/driver_development_x5/"},{"@type":"ListItem","position":4,"name":"LCD Driver Debugging Guide","item":"https://developer.d-robotics.cc/rdk_doc/en/Advanced_development/linux_development/driver_development_x5/driver_lcd"}]}</script><script src="https://hm.baidu.com/hm.js?24dd63cad43b63889ea6bede5fd1ab9e" async></script><link rel="stylesheet" href="/rdk_doc/en/assets/css/styles.0fbd7d27.css">
<script src="/rdk_doc/en/assets/js/runtime~main.b2ae5f3c.js" defer="defer"></script>
<script src="/rdk_doc/en/assets/js/main.1fa7cd58.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://d-robotics.cc/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/rdk_doc/en/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rdk_doc/en/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">D-Robotics</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rdk_doc/en/RDK">RDK X3 / X5</a><a class="navbar__item navbar__link" href="/rdk_doc/en/rdk_s/RDK">RDK S100</a><a href="https://developer.d-robotics.cc/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/D-Robotics" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>EN</a><ul class="dropdown__menu"><li><a href="/rdk_doc/Advanced_development/linux_development/driver_development_x5/driver_lcd" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-Hans">CN</a></li><li><a href="/rdk_doc/en/Advanced_development/linux_development/driver_development_x5/driver_lcd" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">EN</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rdk_doc/en/RDK">D-Robotics RDK Suite</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Quick_start">1. Quick Start</a><button aria-label="Expand sidebar category &#x27;1. Quick Start&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/System_configuration">2. System Configuration</a><button aria-label="Expand sidebar category &#x27;2. System Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Basic_Application">3. Basic Application Development</a><button aria-label="Expand sidebar category &#x27;3. Basic Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Basic_Development">4. Algorithm Application Development</a><button aria-label="Expand sidebar category &#x27;4. Algorithm Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Robot_development">5. Robotics Application Development</a><button aria-label="Expand sidebar category &#x27;5. Robotics Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Application_case">6. Application Development Guide</a><button aria-label="Expand sidebar category &#x27;6. Application Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/rdk_doc/en/Advanced_development">7. Advanced Development</a><button aria-label="Collapse sidebar category &#x27;7. Advanced Development&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/hardware_development">7.1 Hardware Development Guide</a><button aria-label="Expand sidebar category &#x27;7.1 Hardware Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/rdk_doc/en/linux_development">7.2. Linux Development Guide</a><button aria-label="Collapse sidebar category &#x27;7.2. Linux Development Guide&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/linux_development/environment_build">7.2.1 Development Environment Setup and Compilation Instructions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/Advanced_development/linux_development/driver_development/">7.2.2 RDK X3 Driver Development Guide</a><button aria-label="Expand sidebar category &#x27;7.2.2 RDK X3 Driver Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/rdk_doc/en/Advanced_development/linux_development/driver_development_x5/">7.2.3 RDK X5 Driver Development Guide</a><button aria-label="Collapse sidebar category &#x27;7.2.3 RDK X5 Driver Development Guide&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/linux_development/driver_development_x5/memory">Linux 系统内存使用情况</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/linux_development/driver_development_x5/uboot_kernel_config">Configure U-Boot and Kernel Option Parameters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/linux_development/driver_development_x5/driver_pwm">PWM Driver Debugging Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/linux_development/driver_development_x5/driver_uart_dev">UART Driver Debugging Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/linux_development/driver_development_x5/driver_i2c_dev">I2C Debugging Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rdk_doc/en/Advanced_development/linux_development/driver_development_x5/driver_lcd">LCD Driver Debugging Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/linux_development/driver_development_x5/driver_gpio_dev">GPIO Debugging Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/linux_development/driver_development_x5/driver_pinctrl_dev">Pinctrl Debugging Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/linux_development/driver_development_x5/driver_io_domain_dev">IO-DOMAIN Debugging Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/linux_development/driver_development_x5/driver_spi_dev">SPI Debugging Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/linux_development/driver_development_x5/driver_thermal_dev">Thermal System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/linux_development/driver_development_x5/driver_lowpower">Low Power Mode Debugging Guide</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/Advanced_development/linux_development/hardware_unit_test/">7.2.4 Hardware Unit Testing</a><button aria-label="Expand sidebar category &#x27;7.2.4 Hardware Unit Testing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/linux_development/kernel_headers">7.2.5 Kernel Header Files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/linux_development/realtime_kernel">7.2.6 Applying Real-Time Kernel</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/03_multimedia_development">7.3 RDK X3 Multimedia Development Guide</a><button aria-label="Expand sidebar category &#x27;7.3 RDK X3 Multimedia Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/04_toolchain_development">7.4 Algorithm Toolchain Development Guide</a><button aria-label="Expand sidebar category &#x27;7.4 Algorithm Toolchain Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/FAQ">8. FAQs</a><button aria-label="Expand sidebar category &#x27;8. FAQs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Appendix">9. Appendix</a><button aria-label="Expand sidebar category &#x27;9. Appendix&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rdk_doc/en/Release_Note/release_note">10. Version release</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rdk_doc/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rdk_doc/en/Advanced_development"><span>7. Advanced Development</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rdk_doc/en/linux_development"><span>7.2. Linux Development Guide</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rdk_doc/en/Advanced_development/linux_development/driver_development_x5/"><span>7.2.3 RDK X5 Driver Development Guide</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">LCD Driver Debugging Guide</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>LCD Driver Debugging Guide</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-specifications">1. Specifications<a href="#1-specifications" class="hash-link" aria-label="Direct link to 1. Specifications" title="Direct link to 1. Specifications">​</a></h2>
<p>The MIPI-DSI interface specifications for X5 are as follows:</p>
<ul>
<li>Supports up to four data lanes</li>
<li>The maximum rate for each lane is <font color="red">2.5Gbps</font></li>
<li>Supports <font color="red">Non-Burst-Sync-Pulse</font> synchronous pulse mode, <font color="red">Non-Burst-Sync-Even</font> synchronous event mode, and Burst mode</li>
<li>Supports <font color="red">MIPI_DSI_CLOCK_NON_CONTINUOUS</font> non-continuous clock mode and <font color="red">MIPI_DSI_CLOCK_CONTINUOUS</font> continuous clock mode</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-debugging-process">2. Debugging Process<a href="#2-debugging-process" class="hash-link" aria-label="Direct link to 2. Debugging Process" title="Direct link to 2. Debugging Process">​</a></h2>
<p>Before adding a new screen driver, the following information needs to be determined:</p>
<ul>
<li>The screen&#x27;s timing, including hbp (horizontal back porch), hfp (horizontal front porch), hsa (horizontal sync active), vbp (vertical back porch), vfp (vertical front porch), and vsa (vertical sync active)</li>
<li>The screen&#x27;s initialization sequence</li>
<li>The supported transmission mode of the screen, whether it is burst or non-burst</li>
<li>The supported clock mode of the screen, whether it is continuous or non-continuous</li>
</ul>
<p>Taking the <code>JC050HD134</code> screen as an example, the following information can be derived from the configuration provided by the manufacturer:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#define Width 720</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define Height 1280</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define VFP 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define VBP 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define VSA 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define HFP 32</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define HBP 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define HSA 20</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="kernel-driver-layer">Kernel Driver Layer<a href="#kernel-driver-layer" class="hash-link" aria-label="Direct link to Kernel Driver Layer" title="Direct link to Kernel Driver Layer">​</a></h3>
<p>In the kernel, there is a pre-debugged reference driver: <code>panel-atk-md0550.c</code>. Future panel drivers can be derived from this driver.</p>
<p>Copy the <code>panel-atk-md0550.c</code> file from <code>kernel/drivers/gpu/drm/panel/</code> and rename it as <code>panel-jc-050hd134.c</code>.</p>
<p>The following modifications are based on <code>panel-jc-050hd134.c</code>.</p>
<p>Modify the <code>name</code> attribute in <code>panel_simple_dsi_driver</code> to <code>panel-jc-050hd134</code>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">static struct mipi_dsi_driver panel_simple_dsi_driver = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	.driver =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			.name		= &quot;panel-jc-050hd134&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			.of_match_table = dsi_of_match,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	.probe	  = panel_simple_dsi_probe,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	.remove	  = panel_simple_dsi_remove,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	.shutdown = panel_simple_dsi_shutdown,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div>
<p>Modify the <code>drm_display_mode</code> structure:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">static const struct drm_display_mode jc_050hd134_mode = { // Change structure name to jc_050hd134_mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .clock       = 65000, // Pixel clock in kHz, calculated by: fps * (htotal + vtotal)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .hdisplay    = 720, // Horizontal display area width</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .hsync_start = 720 + 32, // hdisplay + hfp (Horizontal Front Porch)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .hsync_end   = 720 + 32 + 20, // hsync_start + hsa (Horizontal Sync Active)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .htotal      = 720 + 32 + 20 + 20, // hsync_end + hbp (Horizontal Back Porch)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .vdisplay    = 1280, // Vertical display area height</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .vsync_start = 1280 + 20, // vdisplay + vfp (Vertical Front Porch)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .vsync_end   = 1280 + 20 + 4, // vsync_start + vsa (Vertical Sync Active)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .vtotal      = 1280 + 20 + 4 + 20, // vsync_end + vbp (Vertical Back Porch)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .flags       = DRM_MODE_FLAG_NHSYNC | DRM_MODE_FLAG_NVSYNC, // Polarity flags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div>
<p>Modify the <code>panel_desc_dsi</code> structure as follows:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">static const struct panel_desc_dsi jc_050hd134 = { // Rename structure to jc_050hd134</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .desc =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .modes      = &amp;jc_050hd134_mode, // Points to the timing structure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .num_modes  = 1, // Number of timing modes for this panel, typically 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .bpc        = 8, // Bits per color, RGB888 means 8 bits per color, RGB666 means 6 bits per color</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .size = // Physical size of the visible area in mm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .width  = 62,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .height = 110,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .connector_type = DRM_MODE_CONNECTOR_DSI, // DSI connector type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .flags   = MIPI_DSI_MODE_VIDEO | MIPI_DSI_MODE_VIDEO_SYNC_PULSE, // DSI mode flags, indicating video mode and non-burst mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // For more flags, refer to kernel/include/drm/drm_mipi_dsi.h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .format  = MIPI_DSI_FMT_RGB888, // Panel color format</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .lanes   = 4, // Number of data lanes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div>
<p>Modify the <code>dsi_of_match</code> to prepare for binding the device tree:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">static const struct of_device_id dsi_of_match[] = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {.compatible = &quot;jc-050hd134&quot;, .data = &amp;jc_050hd134}, // Bind the device tree compatible string to the panel description</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /* sentinel */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MODULE_DEVICE_TABLE(of, dsi_of_match); // Register the device table for device tree matching</span><br></span></code></pre></div></div>
<p>Modify the <code>panel_simple_dsi_init</code> function. This function essentially calls the <code>dsi_dcs_write_seq</code> function to write the MIPI initialization sequence to the panel.</p>
<p>If you receive the initialization parameters from the screen manufacturer in the following format:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DSI_CMD(0x04);DSI_PA(0xB9);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0xF1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x12);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x83);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_CMD(0x1C);DSI_PA(0xBA);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x33); // 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x81); // 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x05); // 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0xF9); // 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x0E); // 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x0E); // 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x20); // 7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x00); // 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x00); // 9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x00); //10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x00); //11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x00); //12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x00); //13</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x00); //14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x44); //15</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x25); //16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x00); //17</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x91); //18</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x0A); //19</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x00); //20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x00); //21</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x02); //22</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x4F); //23</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0xD1); //24</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x00); //25</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x00); //26</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSI_PA(0x37); //27</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">......</span><br></span></code></pre></div></div>
<p>Convert to Driver Code</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dsi_dcs_write_seq(dsi, 0xb9, 0xF1, 0x12, 0x83);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dsi_dcs_write_seq(dsi, 0xBA, 0x33, 0x81, 0x05, 0xF9, 0x0E, 0x0E, 0x20, 0x00, 0x00, 0x00,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			  0x00, 0x00, 0x00, 0x00, 0x44, 0x25, 0x00, 0x91, 0x0A, 0x00, 0x00, 0x02,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			  0x4F, 0xD1, 0x00, 0x00, 0x37);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">......</span><br></span></code></pre></div></div>
<p>You can see that in the two sets of initialization sequences provided by the manufacturer, the first value written is the length of the initialization sequence itself. When converting this into driver code, you don&#x27;t need to include it manually as it will be calculated automatically during the writing process.</p>
<p>If the initialization sequence provided by the screen manufacturer looks like the following:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">panel-init-sequence-zero = [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 39 00 04 B9 FF 83 94</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 15 00 02 36 01</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 39 00 07 BA 63 03 68 6B B2 C0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 39 00 0B B1 48 12 72 09 32 54 71 71 57 47</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">......</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre></div></div>
<p>Converting to Driver Code:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	dsi_dcs_write_seq(dsi, 0xb9, 0xff, 0x83, 0x94);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	dsi_dcs_write_seq(dsi, 0x36, 0x01);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	dsi_dcs_write_seq(dsi, 0xba, 0x63, 0x03, 0x68, 0x6b, 0xb2, 0xc0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	dsi_dcs_write_seq(dsi, 0xb1, 0x48, 0x12, 0x72, 0x09, 0x32, 0x54, 0x71, 0x71, 0x57, 0x47);</span><br></span></code></pre></div></div>
<p>Here, we will explain the conversion using the first sequence <code>39 00 04 B9 FF 83 94</code> as an example:</p>
<ul>
<li><code>39</code> indicates that this sequence is written using the MIPI_DSI_DCS_LONG_WRITE (0x39) data type. When converting to driver code, you do not need to specify this manually; it will be automatically generated based on the length of the sequence.</li>
<li><code>00</code> indicates that after this write operation, the system will sleep for 0ms, which can be implemented using the <code>msleep(ms)</code> function.</li>
<li><code>04</code> marks the length of the write sequence, which will be automatically generated, so you do not need to fill it in.</li>
<li>The remaining data represents the initialization sequence itself.</li>
</ul>
<p>For displays that require specific power-on-reset timing, you can modify the GPIO behavior in the <code>panel_simple_prepare</code> and <code>panel_simple_unprepare</code> functions, which correspond to the initialization and de-initialization states respectively.</p>
<p>To apply the changes, modify the following files:</p>
<ul>
<li><code>kernel/drivers/gpu/drm/panel/Kconfig</code></li>
<li><code>kernel/drivers/gpu/drm/panel/Makefile</code></li>
</ul>
<p>Kconfig:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">config DRM_PANEL_JC_050HD134</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	tristate &quot;JC 050HD134 panel&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	depends on OF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	depends on DRM_MIPI_DSI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	depends on BACKLIGHT_CLASS_DEVICE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	select VIDEOMODE_HELPERS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	help</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	  Say Y here if you want to enable support for the JC050HD134</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	  panel with 720x1280 resolution. This panel support</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	  MIPI DSI interface.</span><br></span></code></pre></div></div>
<p>Makefile:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">obj-$(CONFIG_DRM_PANEL_JC_050HD134) += panel-jc-050hd134.o</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="kernel-device-tree-level">Kernel Device Tree Level<a href="#kernel-device-tree-level" class="hash-link" aria-label="Direct link to Kernel Device Tree Level" title="Direct link to Kernel Device Tree Level">​</a></h3>
<p>At the board-level device tree, here we take <code>kernel/arch/arm64/boot/dts/hobot/x5-evb.dts</code> as an example.</p>
<p>Add the following properties to the <code>mipi_dsi0</code> node:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&amp;mipi_dsi0 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status = &quot;okay&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dsi_panel0@0 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        compatible = &quot;jc-050hd134&quot;; // This should match dsi_of_match</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        reg = &lt;0&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pinctrl-names = &quot;default&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pinctrl-0 = &lt;&amp;lsio_gpio0_14&gt;; // Related to the reset pin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        reset-gpios = &lt;&amp;ls_gpio0_porta 14 GPIO_ACTIVE_HIGH&gt;; // Related to the reset pin. The active level should be decided based on your screen&#x27;s specifications.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        backlight = &lt;&amp;dsi_backlight&gt;; // Backlight related</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        port {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            panel_in: endpoint {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                remote-endpoint =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;&amp;mipi_dsi_out&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>添加dsi_backlight节点：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&amp;dsi_backlight {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status = &quot;okay&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pwms = &lt;&amp;lpwm1 1 1000000&gt;; // Related to hardware PCB, check where the backlight PWM signal is sourced from. This indicates the backlight signal comes from LPWM1_1.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // For other properties and details, please refer to kernel/Documentation/devicetree/bindings/leds/backlight/pwm-backlight.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-compile">3. Compile<a href="#3-compile" class="hash-link" aria-label="Direct link to 3. Compile" title="Direct link to 3. Compile">​</a></h2>
<p>Please refer to section 7.2.1 to set up the build environment and successfully compile the image before proceeding with the following steps!</p>
<p>Execute <code>./mk_kernel.sh menuconfig</code> to enter the kernel configuration menu, and follow the path below to enter the Panels compilation options:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Device Drivers  ---&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Graphics support  ---&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Display Panels  ---&gt;</span><br></span></code></pre></div></div>
<p>Find the JC 050HD134 panel, press the spacebar to compile it as a module. Then, save the configuration and exit.</p>
<p>Execute <code>./mk_kernel.sh</code> to compile the kernel. After compilation, you can find the corresponding driver file <code>panel-jc-050hd134.ko</code> in the <code>deploy/kernel/modules/lib/modules/6.1.83/kernel/drivers/gpu/drm/panel</code> directory.</p>
<p>Execute the following commands to generate the required <code>.deb</code> packages:</p>
<ul>
<li><code>./mk_deb.sh hobot-dtb</code></li>
<li><code>./mk_deb.sh hobot-boot</code></li>
<li><code>./mk_deb.sh hobot-kernel-headers</code></li>
</ul>
<p>The resulting <code>.deb</code> packages, such as <code>hobot-dtb*.dtb</code>, <code>hobot-boot*.dtb</code>, and <code>hobot-kernel-headers*.dtb</code>, will be located in the <code>deploy/deb_pkgs/</code> directory.</p>
<p>These three <code>.deb</code> packages can be directly transferred to the device to update the device tree, kernel, driver files, and kernel headers. Alternatively, you can execute <code>./pack_image.sh</code> to include them in the filesystem.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-testing">4. Testing<a href="#4-testing" class="hash-link" aria-label="Direct link to 4. Testing" title="Direct link to 4. Testing">​</a></h2>
<p>After powering on the RDK X5, the display-related drivers will be loaded, and the Ubuntu desktop will appear. To enable the JC-050HD134 panel, you need to edit the <code>/etc/init.d/S70loadko</code> script. Add the <code>modprobe panel-jc-050hd134</code> command before <code>modprobe vio_n2d</code>.</p>
<p>Since the RDK X5 system defaults to HDMI output, you need to switch to the MIPI DSI display mode by executing the following command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mv /etc/X11/xorg.conf.d/xorg_dsi_ignore.conf /etc/X11/xorg.conf.d/xorg_dsi_ignore.conf.disable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mv /etc/X11/xorg.conf.d/xorg_hdmi_ignore.conf.disable /etc/X11/xorg.conf.d/xorg_hdmi_ignore.conf</span><br></span></code></pre></div></div>
<p>You can also choose the display output method using <code>raspi-config</code>. For details, refer to the <a href="/rdk_doc/en/System_configuration/srpi-config#display-options">Display Choose DSI or HDMI</a> section.</p>
<p>After rebooting the device, you should see the system desktop on the LCD screen.</p>
<p>If the LCD does not display anything, please verify the following steps:</p>
<ol>
<li>
<p>Check if the screen has backlight or a control chip and whether the corresponding driver has been loaded successfully.</p>
</li>
<li>
<p>Confirm whether the DRM and MIPI drivers have loaded correctly by running the command:</p>
</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~# dmesg | grep drm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[    6.717478] systemd[1]: Starting Load Kernel Module drm...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[   13.676055] vs-drm 3e000000.disp_apb:display-subsystem: bound 3e080000.vs-sif (ops sif_component_ops [vs_drm])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[   13.676374] vs-drm 3e000000.disp_apb:display-subsystem: bound 3e000000.dc8000Nano (ops dc_component_ops [vs_drm])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[   13.676514] vs-drm 3e000000.disp_apb:display-subsystem: bound 3e010000.bt1120 (ops bt1120_component_ops [vs_drm])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[   13.676553] vs-drm 3e000000.disp_apb:display-subsystem: bound 3e000000.disp_apb:bt1120_bridge (ops bt1120_bridge_component_ops [vs_drm])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[   13.676595] vs-drm 3e000000.disp_apb:display-subsystem: bound 3e000000.disp_apb:bt1120_bridge_wb (ops bt1120_bridge_component_ops [vs_drm])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[   13.676710] vs-drm 3e000000.disp_apb:display-subsystem: bound 3e060000.mipi_dsi0 (ops dsi_component_ops [vs_drm])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[   13.676834] vs-drm 3e000000.disp_apb:display-subsystem: bound 3e000000.disp_apb:dsi-encoder (ops encoder_component_ops [vs_drm])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[   13.676940] vs-drm 3e000000.disp_apb:display-subsystem: bound 3e000000.disp_apb:hdmi-encoder (ops encoder_component_ops [vs_drm])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[   13.678810] [drm] Initialized vs-drm 1.0.0 20191101 for 3e000000.disp_apb:display-subsystem on minor 0</span><br></span></code></pre></div></div>
<p>1.The message <code>vs-drm 3e000000.disp_apb:display-subsystem: bound 3e060000.mipi_dsi0 (ops dsi_component_ops [vs_drm])</code> indicates that the MIPI DSI interface has been successfully loaded and initialized.</p>
<p>2.The message <code>[drm] Initialized vs-drm 1.0.0 20191101 for 3e000000.disp_apb:display-subsystem on minor 0</code> indicates that the display driver has been successfully loaded.</p>
<p>3.To check the status of the connectors, run the following command:<code>modetest -M vs-drm -c</code></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~# modetest -M vs-drm -c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Connectors:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">id      encoder status          name            size (mm)       modes   encoders</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">73      72      connected       DSI-1           800x480         1       72</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  modes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        index name refresh (Hz) hdisp hss hse htot vdisp vss vse vtot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  #0 800x480 60.00 800 890 892 950 480 487 489 510 29070 flags: nhsync, nvsync; type: preferred, driver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  props:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        1 EDID:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                flags: immutable blob</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                blobs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                value:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        2 DPMS:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                flags: enum</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                enums: On=0 Standby=1 Suspend=2 Off=3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                value: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        5 link-status:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                flags: enum</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                enums: Good=0 Bad=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                value: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        6 non-desktop:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                flags: immutable range</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                values: 0 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                value: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        4 TILE:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                flags: immutable blob</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                blobs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                value:</span><br></span></code></pre></div></div>
<ol start="4">
<li><strong>Test with <code>modetest</code> command</strong></li>
</ol>
<p>Use the following command to stop the <code>lightdm</code> desktop:<code>sudo systemctl stop lightdm</code></p>
<p>Then use the modetest command to perform the test:<code>modetest -M vs-drm -a -s 73@31:800x480 -P 33@31:800x480@NV12</code></p>
<p>If everything is successful, the connected screen will light up and display the following pattern:</p>
<p><img decoding="async" loading="lazy" src="https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/07_Advanced_development/02_linux_development/driver_development_x5/screenshot-20241125-162524.png" alt="image-20220518111319607" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-remarks">5. Remarks<a href="#5-remarks" class="hash-link" aria-label="Direct link to 5. Remarks" title="Direct link to 5. Remarks">​</a></h2>
<p>Currently, the RDK X5 supports 7 models of Waveshare LCD screens. For usage instructions, refer to the <a href="/rdk_doc/en/Advanced_development/hardware_development/rdk_x5/display">Display Screen Usage</a> section.</p>
<p>The drivers have been integrated into the kernel:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kernel/drivers/gpu/drm/panel/panel-wh-cm480.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel/drivers/gpu/drm/panel/panel-waveshare-dsi.c</span><br></span></code></pre></div></div>
<p>Device tree modifications are implemented through <code>dtoverlay</code>. For more details, refer to <code>source/hobot-display</code>.</p>
<p>You can also follow this approach to support additional LCD screens.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-08-18T06:39:59.000Z" itemprop="dateModified">Aug 18, 2025</time></b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/rdk_doc/en/Advanced_development/linux_development/driver_development_x5/driver_i2c_dev"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">I2C Debugging Guide</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rdk_doc/en/Advanced_development/linux_development/driver_development_x5/driver_gpio_dev"><div class="pagination-nav__sublabel">Next </div><div class="pagination-nav__label">GPIO Debugging Guide</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-specifications" class="table-of-contents__link toc-highlight">1. Specifications</a></li><li><a href="#2-debugging-process" class="table-of-contents__link toc-highlight">2. Debugging Process</a><ul><li><a href="#kernel-driver-layer" class="table-of-contents__link toc-highlight">Kernel Driver Layer</a></li><li><a href="#kernel-device-tree-level" class="table-of-contents__link toc-highlight">Kernel Device Tree Level</a></li></ul></li><li><a href="#3-compile" class="table-of-contents__link toc-highlight">3. Compile</a></li><li><a href="#4-testing" class="table-of-contents__link toc-highlight">4. Testing</a></li><li><a href="#5-remarks" class="table-of-contents__link toc-highlight">5. Remarks</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.guyuehome.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GuYueHome<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Contact US</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/D-Robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@D-Robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 D-Robotics.</div></div></div></footer></div>
</body>
</html>