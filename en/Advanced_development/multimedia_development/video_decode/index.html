<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Advanced_development/multimedia_development/video_decode" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">7.3.10 Video Decoding | RDK DOC</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://developer.d-robotics.cc/rdk_doc/en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://developer.d-robotics.cc/rdk_doc/en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://developer.d-robotics.cc/rdk_doc/en/Advanced_development/multimedia_development/video_decode"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="7.3.10 Video Decoding | RDK DOC"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/rdk_doc/en/img/logo.png"><link data-rh="true" rel="canonical" href="https://developer.d-robotics.cc/rdk_doc/en/Advanced_development/multimedia_development/video_decode"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/Advanced_development/multimedia_development/video_decode" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/en/Advanced_development/multimedia_development/video_decode" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/Advanced_development/multimedia_development/video_decode" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"7. Advanced Development","item":"https://developer.d-robotics.cc/rdk_doc/en/Advanced_development"},{"@type":"ListItem","position":2,"name":"7.3 Multimedia Development Guide","item":"https://developer.d-robotics.cc/rdk_doc/en/03_multimedia_development"},{"@type":"ListItem","position":3,"name":"7.3.10 Video Decoding","item":"https://developer.d-robotics.cc/rdk_doc/en/Advanced_development/multimedia_development/video_decode"}]}</script><script src="https://hm.baidu.com/hm.js?24dd63cad43b63889ea6bede5fd1ab9e" async></script><link rel="stylesheet" href="/rdk_doc/en/assets/css/styles.50b7a244.css">
<script src="/rdk_doc/en/assets/js/runtime~main.185ec097.js" defer="defer"></script>
<script src="/rdk_doc/en/assets/js/main.4e710b95.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://d-robotics.cc/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/rdk_doc/en/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rdk_doc/en/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">D-Robotics</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rdk_doc/en/RDK">RDK X3 / X5</a><a class="navbar__item navbar__link" href="/rdk_doc/en/rdk_s/RDK">RDK S100</a><a href="https://developer.d-robotics.cc/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/D-Robotics" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>EN</a><ul class="dropdown__menu"><li><a href="/rdk_doc/Advanced_development/multimedia_development/video_decode" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-Hans">CN</a></li><li><a href="/rdk_doc/en/Advanced_development/multimedia_development/video_decode" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">EN</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rdk_doc/en/RDK">D-Robotics RDK Suite</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Quick_start">1. Quick Start</a><button aria-label="Expand sidebar category &#x27;1. Quick Start&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/System_configuration">2. System Configuration</a><button aria-label="Expand sidebar category &#x27;2. System Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Basic_Application">3. Basic Application Development</a><button aria-label="Expand sidebar category &#x27;3. Basic Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Basic_Development">4. Algorithm Application Development</a><button aria-label="Expand sidebar category &#x27;4. Algorithm Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Robot_development">5. Robotics Application Development</a><button aria-label="Expand sidebar category &#x27;5. Robotics Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Application_case">6. Application Development Guide</a><button aria-label="Expand sidebar category &#x27;6. Application Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/rdk_doc/en/Advanced_development">7. Advanced Development</a><button aria-label="Collapse sidebar category &#x27;7. Advanced Development&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/hardware_development">7.1 Hardware Development Guide</a><button aria-label="Expand sidebar category &#x27;7.1 Hardware Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/linux_development">7.2. Linux Development Guide</a><button aria-label="Expand sidebar category &#x27;7.2. Linux Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/rdk_doc/en/03_multimedia_development">7.3 Multimedia Development Guide</a><button aria-label="Collapse sidebar category &#x27;7.3 Multimedia Development Guide&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/multimedia_development/overview">7.3.1 System Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/multimedia_development/multimedia_samples">7.3.2 Sample Program</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/multimedia_development/system_control">7.3.3 System Control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/multimedia_development/video_input">7.3.4 Video Input</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/multimedia_development/isp_system">7.3.5 ISP Image System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/multimedia_development/video_processing">7.3.6 Video Processing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/multimedia_development/region_processing">7.3.7 Region Processing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/multimedia_development/video_output">7.3.8 Video Output</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/multimedia_development/video_encode">7.3.9 Video Encoding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rdk_doc/en/Advanced_development/multimedia_development/video_decode">7.3.10 Video Decoding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/multimedia_development/debug_info">7.3.11 Query Multimedia Module Debug Information</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Advanced_development/multimedia_development/performance_debug">7.3.12 Multimedia Performance Debugging</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/04_toolchain_development">7.4 Algorithm Toolchain Development Guide</a><button aria-label="Expand sidebar category &#x27;7.4 Algorithm Toolchain Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/FAQ">8. FAQs</a><button aria-label="Expand sidebar category &#x27;8. FAQs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Appendix">9. Appendix</a><button aria-label="Expand sidebar category &#x27;9. Appendix&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rdk_doc/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rdk_doc/en/Advanced_development"><span>7. Advanced Development</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rdk_doc/en/03_multimedia_development"><span>7.3 Multimedia Development Guide</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">7.3.10 Video Decoding</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>7.3.10 Video Decoding</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>The video decoding module supports hardware decoding of H.264/H.265/JPEG/MJPEG. This module supports multi-channel real-time encoding, with each channel being independent. Common use cases include smart boxes and classroom recording.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="function-description">Function Description<a href="#function-description" class="hash-link" aria-label="Direct link to Function Description" title="Direct link to Function Description">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="basic-specifications">Basic Specifications<a href="#basic-specifications" class="hash-link" aria-label="Direct link to Basic Specifications" title="Direct link to Basic Specifications">​</a></h3>
<p>The decoding specifications supported by X3 are as follows:</p>
<table><thead><tr><th>Hardware Decoding Module</th><th>Maximum Number of Channels</th><th>Supported Protocols</th><th>Resolution Support</th><th>Maximum Performance</th></tr></thead><tbody><tr><td>VPU<br>JPU</td><td>32</td><td><strong>VPU:</strong><br>H.264/H.265<br><strong>JPU:</strong><br>JPEG/MJPEG</td><td><strong>VPU:</strong><br>- H264:<br>max 8192×8192<br>min：32×32<br>- H265:<br>max 8192×8192<br>Min: 8×8<br><strong>JPU:</strong><br>- JPEG/MJPEG:<br>max 32768×32768<br>min:16×16</td><td><strong>H264/H265:</strong><br>3840×2160 @60fps<br><strong>JPEG/MJPEG:</strong><br>YUV4:2:0 290M pixel/sec<br></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bitstream-transmission-mode">Bitstream Transmission Mode<a href="#bitstream-transmission-mode" class="hash-link" aria-label="Direct link to Bitstream Transmission Mode" title="Direct link to Bitstream Transmission Mode">​</a></h3>
<p>The X3 video decoder supports the frame-by-frame transmission (VIDEO_MODE_FRAME) mode of the bitstream:</p>
<p>Each time the user sends a complete frame of the bitstream to the decoder, the decoder considers that the frame of the bitstream has ended and starts decoding the image. Therefore, it is necessary to ensure that each time the send interface is called, the bitstream sent must be a complete frame, otherwise decoding errors may occur.</p>
<p>The bitstream transmission mode enMode is defined in the decoding channel attribute structure VDEC_CHN_ATTR_S. Users can use the HB_VDEC_SetChnAttr() function to configure the decoding channel attribute.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="image-output-mode">Image Output Mode<a href="#image-output-mode" class="hash-link" aria-label="Direct link to Image Output Mode" title="Direct link to Image Output Mode">​</a></h3>
<p>According to the H.264/H.265 protocol, the decoded image may not be output immediately after decoding. The X3 video decoder can achieve faster output by setting different image output modes. The image output modes include the following:</p>
<ul>
<li>Decode Order: The decoded image is output in the order of decoding.</li>
<li>Display Order: The decoded image is output according to the H.264/H.265 protocol.</li>
</ul>
<p>According to the H.264/H.265 protocol, the decoding order of the video may not be the same as the output order (i.e. the display order) of the video. For example, when decoding B frames, the previous and subsequent P frames are required as parameters, so the P frames after the B frames are decoded before the B frames, but the B frames are output before the P frames. Outputting in decode order is a necessary condition for rapid output. If the user selects output in decode order, it is necessary to ensure that the decoding order of the bitstream is the same as the display order.</p>
<ul>
<li>
<p>Combining the frame-by-frame transmission mode with the output in decode order can achieve rapid decoding and output. The user must ensure that each time a complete frame of the bitstream is sent, the decoding order of the bitstream is the same as the display order.</p>
</li>
<li>
<p>Combining the frame-by-frame transmission mode with the output in display order, it is important to set the stream_end flag to HB_TRUE when setting the end of the bitstream for the last frame; otherwise, the current frame is considered incomplete and decoding exceptions may occur.</p>
</li>
</ul>
<p>The image output mode enOutPutOrder is defined in the decoding channel attribute structure VDEC_CHN_ATTR_S. Users can use the HB_VDEC_SetChnAttr() function to configure the decoding channel attribute.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="timestamp-pts-processing">Timestamp (PTS) Processing<a href="#timestamp-pts-processing" class="hash-link" aria-label="Direct link to Timestamp (PTS) Processing" title="Direct link to Timestamp (PTS) Processing">​</a></h3>
<p>When the VDEC module sends the bitstream in frame-sending (VIDEO_MODE_FRAME) mode, the timestamp (PTS) of the decoded output image is the PTS provided by the user in the send bitstream interface (HB_VDEC_SendStream). The decoder does not modify this value.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bitstream-buffer-configuration-mode">Bitstream Buffer Configuration Mode<a href="#bitstream-buffer-configuration-mode" class="hash-link" aria-label="Direct link to Bitstream Buffer Configuration Mode" title="Direct link to Bitstream Buffer Configuration Mode">​</a></h3>
<p>The decoding bitstream buffer configuration supports external mode and internal mode.</p>
<ul>
<li>
<p>External mode: The user initializes the Video Pool pool by calling the HB_VP_Init() function, and then can choose the public pool or create a private pool of mmz memory using the HB_SYS_Alloc() function to store the bitstreams to be decoded. The number of ion memory buffers created by the user is recommended to be consistent with the number of stream buffers set in the decoding channel (u32StreamBufCnt). Each time a decoding is performed, the virtual address of the allocated ion memory buffer is assigned to the vir_ptr field of the VIDEO_STREAM_S structure, and the size of the stream to be decoded is assigned to the size field of the VIDEO_STREAM_S structure. The decoder actually decodes the bitstreams by rotating the buffers, that is, taking turns to use the buffer number of the bitstream. If the image output mode is set to display order, all frames within a GOP need to be read before decoding can start.</p>
<p>Set the bExternalBitStreamBuff field of the VDEC_CHN_ATTR_S structure in the decoder channel attribute to HB_TRUE to use the external buffer mode.- Internal mode: Users can use other tools such as FFMPEG to split the bitstream (usually read in frame mode). In this case, users do not need to apply for VB cache. They only need to pass the address of the buffer after the bitstream is split to the vir_ptr field of the VIDEO_STREAM_S structure. The system will automatically copy it to the address space of the stream buffer allocated by the encoder, saving the use of VB.</p>
<p>Use external buffer mode by setting the bExternalBitStreamBuff field in the VDEC_CHN_ATTR_S structure of the decoder channel attribute to HB_FALSE.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-skip-frame-decoding">Advanced skip frame decoding<a href="#advanced-skip-frame-decoding" class="hash-link" aria-label="Direct link to Advanced skip frame decoding" title="Direct link to Advanced skip frame decoding">​</a></h3>
<p>Users can control whether to use skip frame decoding by setting the enDecMode field in the VDEC_CHN_ATTR_S structure of the decoder channel attributes (default is not enabled, i.e. all frames are decoded). It is possible to choose to decode only IRAP frames or only parameter frames, please refer to frame skip settings for more details.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bandwidth-optimization-mode-decoding">Bandwidth optimization mode decoding<a href="#bandwidth-optimization-mode-decoding" class="hash-link" aria-label="Direct link to Bandwidth optimization mode decoding" title="Direct link to Bandwidth optimization mode decoding">​</a></h3>
<p>Users can control whether to use bandwidth optimization during decoding by setting the bandwidth_Opt field in the VDEC_CHN_ATTR_S structure of the decoder channel attributes (default is enabled).
This mode supports VPU ignoring the compressed non-referenced frames or linear format non-display frames written into the frame buffer, thus saving bandwidth.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="decoder-binding">Decoder binding<a href="#decoder-binding" class="hash-link" aria-label="Direct link to Decoder binding" title="Direct link to Decoder binding">​</a></h3>
<p>After the decoder is bound, HB_VDEC_GetFrame cannot be called again.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="notes">Notes<a href="#notes" class="hash-link" aria-label="Direct link to Notes" title="Direct link to Notes">​</a></h3>
<ul>
<li>When decoding H.264/H.265, the first frame must provide sps, pps, idr. If only sps is provided, an error will occur, and the error message is <code>FAILED TO DEC_PIC_HDR: ret(1), SEQERR(00005000)</code>.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-reference">API Reference<a href="#api-reference" class="hash-link" aria-label="Direct link to API Reference" title="Direct link to API Reference">​</a></h2>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HB_VDEC_CreateChn</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Create a video decoding channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HB_VDEC_DestroyChn</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Destroy a video decoding channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HB_VDEC_StartRecvStream</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> The decoder starts receiving bitstream sent by the user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HB_VDEC_StopRecvStream</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> The decoder stops receiving bitstream sent by the user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HB_VDEC_ResetChn</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Reset the decoding channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HB_VDEC_SendStream</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Send bitstream data to the video decoding channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HB_VDEC_GetFrame</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Get the decoded image of the video decoding channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HB_VDEC_ReleaseFrame</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Release the decoded image of the video decoding channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HB_VDEC_GetFd</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Get the device file handle of the video decoding channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HB_VDEC_CloseFd</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Close the device file handle of the video decoding channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HB_VDEC_SetChnAttr</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Set the decoding channel parameters</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HB_VDEC_GetChnAttr</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Get the decoding channel parameters</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HB_VDEC_QueryStatus</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Query the decoding status</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HB_VDEC_GetUserData</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Get the user data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HB_VDEC_ReleaseUserData</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Release the user data</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vdec_createchn">HB_VDEC_CreateChn<a href="#hb_vdec_createchn" class="hash-link" aria-label="Direct link to HB_VDEC_CreateChn" title="Direct link to HB_VDEC_CreateChn">​</a></h3>
<p>[Function declaration]</p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">int32_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VDEC_CreateChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_CHN VdChn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> VDEC_CHN_ATTR_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">pstAttr</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>[Function description]</p>
<blockquote>
<p>Create a video decoding channel.</p>
</blockquote>
<p>[Parameter description]</p>
<table><thead><tr><th style="text-align:center">Parameter Name</th><th style="text-align:center">Description</th><th style="text-align:center">Input/Output</th></tr></thead><tbody><tr><td style="text-align:center">VdChn</td><td style="text-align:center">Channel number for encoding.<br>Valid range: [0, VDEC_MAX_CHN_NUM).</td><td style="text-align:center">Input</td></tr><tr><td style="text-align:center">pstAttr</td><td style="text-align:center">Pointer to the channel attribute of the decoder.</td><td style="text-align:center">Input</td></tr></tbody></table>
<p>【Return Value】</p>
<table><thead><tr><th style="text-align:center">Return Value</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:left">Success</td></tr><tr><td style="text-align:center">Non-zero</td><td style="text-align:left">Failure, returns error code.</td></tr></tbody></table>
<p>【Notes】</p>
<blockquote>
<p>None</p>
</blockquote>
<p>【Reference Code】</p>
<blockquote>
<p>Reference code for HB_VDEC_ResetChn.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vdec_destroychn">HB_VDEC_DestroyChn<a href="#hb_vdec_destroychn" class="hash-link" aria-label="Direct link to HB_VDEC_DestroyChn" title="Direct link to HB_VDEC_DestroyChn">​</a></h3>
<p>【Function Declaration】</p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">int32_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VDEC_DestroyChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_CHN VdChn</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【Function Description】</p>
<blockquote>
<p>Destroy video decoding channel.</p>
</blockquote>
<p>【Parameter Description】</p>
<table><thead><tr><th style="text-align:center">Parameter Name</th><th style="text-align:center">Description</th><th style="text-align:center">Input/Output</th></tr></thead><tbody><tr><td style="text-align:center">VdChn</td><td style="text-align:center">Channel number for encoding.<br>Valid range: [0, VDEC_MAX_CHN_NUM).</td><td style="text-align:center">Input</td></tr></tbody></table>
<p>【Return Value】</p>
<table><thead><tr><th style="text-align:center">Return Value</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:left">Success</td></tr><tr><td style="text-align:center">Non-zero</td><td style="text-align:left">Failure, returns error code.</td></tr></tbody></table>
<p>【Notes】</p>
<blockquote>
<p>None</p>
</blockquote>
<p>【Reference Code】</p>
<blockquote>
<p>Reference code for HB_VDEC_ResetChn.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vdec_startrecvstream">HB_VDEC_StartRecvStream<a href="#hb_vdec_startrecvstream" class="hash-link" aria-label="Direct link to HB_VDEC_StartRecvStream" title="Direct link to HB_VDEC_StartRecvStream">​</a></h3>
<p><strong>Function Declaration</strong></p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">int32_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VDEC_StartRecvStream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_CHN VdChn</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>Function Description</strong></p>
<blockquote>
<p>Starts the decoder to receive user-sent streams.</p>
</blockquote>
<p><strong>Parameter Descriptions</strong></p>
<table><thead><tr><th style="text-align:center">Parameter Name</th><th style="text-align:center">Description</th><th style="text-align:center">Input/Output</th></tr></thead><tbody><tr><td style="text-align:center">VdChn</td><td style="text-align:center">Video decoding channel number.<br>Range: [0, VDEC_MAX_CHN_NUM).</td><td style="text-align:center">Input</td></tr></tbody></table>
<p><strong>Return Values</strong></p>
<table><thead><tr><th style="text-align:center">Return Value</th><th style="text-align:center">Description</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">Success</td></tr><tr><td style="text-align:center">Non-zero</td><td style="text-align:center">Failure, returns an error code.</td></tr></tbody></table>
<p><strong>Notes</strong></p>
<blockquote>
<p>None</p>
</blockquote>
<p><strong>Reference Code</strong></p>
<blockquote>
<p>See HB_VDEC_ResetChn for a reference.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vdec_stoprecvstream">HB_VDEC_StopRecvStream<a href="#hb_vdec_stoprecvstream" class="hash-link" aria-label="Direct link to HB_VDEC_StopRecvStream" title="Direct link to HB_VDEC_StopRecvStream">​</a></h3>
<p><strong>Function Declaration</strong></p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">int32_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VDEC_StopRecvStream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_CHN VdChn</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>Function Description</strong></p>
<blockquote>
<p>Stops the decoder from receiving user-sent streams.</p>
</blockquote>
<p><strong>Parameter Descriptions</strong></p>
<table><thead><tr><th style="text-align:center">Parameter Name</th><th style="text-align:center">Description</th><th style="text-align:center">Input/Output</th></tr></thead><tbody><tr><td style="text-align:center">VdChn</td><td style="text-align:center">Video decoding channel number.<br>Range: [0, VDEC_MAX_CHN_NUM).</td><td style="text-align:center">Input</td></tr></tbody></table>
<p><strong>Return Values</strong></p>
<table><thead><tr><th style="text-align:center">Return Value</th><th style="text-align:center">Description</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">Success</td></tr><tr><td style="text-align:center">Non-zero</td><td style="text-align:center">Failure, returns an error code.</td></tr></tbody></table>
<p><strong>Notes</strong></p>
<blockquote>
<p>None</p>
</blockquote>
<p><strong>Reference Code</strong></p>
<blockquote>
<p>See HB_VDEC_ResetChn for a reference.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vdec_resetchn">HB_VDEC_ResetChn<a href="#hb_vdec_resetchn" class="hash-link" aria-label="Direct link to HB_VDEC_ResetChn" title="Direct link to HB_VDEC_ResetChn">​</a></h3>
<p><strong>Function Declaration</strong></p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">int32_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VDEC_ResetChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_CHN VdChn</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>Function Description</strong></p>
<blockquote>
<p>Resets the video decoding channel.</p>
</blockquote>
<p><strong>Parameter Descriptions</strong></p>
<table><thead><tr><th style="text-align:center">Parameter Name</th><th style="text-align:center">Description</th><th style="text-align:center">Input/Output</th></tr></thead><tbody><tr><td style="text-align:center">VdChn</td><td style="text-align:center">Video decoding channel number.<br>Range: [0, VDEC_MAX_CHN_NUM).</td><td style="text-align:center">Input</td></tr></tbody></table>
<p><strong>Return Values</strong></p>
<table><thead><tr><th style="text-align:center">Return Value</th><th style="text-align:center">Description</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">Success</td></tr><tr><td style="text-align:center">Non-zero</td><td style="text-align:center">Failure, returns an error code.</td></tr></tbody></table>
<p><strong>Notes</strong></p>
<blockquote>
<p>None</p>
</blockquote>
<p><strong>Reference Code</strong></p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">VDEC_CHN VDEC_Chn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">int32_t</span><span class="token plain"> s32Ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">int32_t</span><span class="token plain"> Width </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1920</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">int32_t</span><span class="token plain"> Height </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1080</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">VDEC_CHN_ATTR_S m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">memset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_CHN_ATTR_S</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enType </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> PT_H264</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enMode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> VIDEO_MODE_FRAME</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enPixelFormat </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> HB_PIXEL_FORMAT_NV12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">u32FrameBufCnt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">u32StreamBufCnt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">u32StreamBufSize </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Width </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> Height </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bExternalBitStreamBuf </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> HB_TRUE</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enType </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> PT_H265</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH265</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bandwidth_Opt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> HB_TRUE</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH265</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enDecMode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> VIDEO_DEC_MODE_NORMAL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH265</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enOutputOrder </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> VIDEO_OUTPUT_ORDER_DISP</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH265</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cra_as_bla </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> HB_FALSE</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH265</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dec_temporal_id_mode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH265</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">target_dec_temporal_id_plus1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enType </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> PT_H264</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH264</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bandwidth_Opt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> HB_TRUE</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH264</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enDecMode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> VIDEO_DEC_MODE_NORMAL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH264</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enOutputOrder </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> VIDEO_OUTPUT_ORDER_DISP</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s32Ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VDEC_CreateChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_Chn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">HB_VDEC_SetChnAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_Chn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">HB_VDEC_StartRecvStream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_Chn</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">HB_VDEC_StopRecvStream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_Chn</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">HB_VDEC_ResetChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_Chn</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">HB_VDEC_DestroyChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_Chn</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vdec_sendstream">HB_VDEC_SendStream<a href="#hb_vdec_sendstream" class="hash-link" aria-label="Direct link to HB_VDEC_SendStream" title="Direct link to HB_VDEC_SendStream">​</a></h3>
<p><strong>Function Declaration</strong></p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">int32_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VDEC_SendStream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_CHN VdChn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> VIDEO_STREAM_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">pstStream</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">int32_t</span><span class="token plain"> s32MilliSec</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>Function Description</strong></p>
<blockquote>
<p>Sends stream data to the video decoding channel.</p>
</blockquote>
<p><strong>Parameter Descriptions</strong></p>
<table><thead><tr><th style="text-align:center">Parameter Name</th><th style="text-align:center">Description</th><th style="text-align:center">Input/Output</th></tr></thead><tbody><tr><td style="text-align:center">VdChn</td><td style="text-align:center">Video decoding channel number.<br>Range: [0, VDEC_MAX_CHN_NUM).</td><td style="text-align:center">Input</td></tr><tr><td style="text-align:center">pstStream</td><td style="text-align:center">Pointer to decoded stream data.</td><td style="text-align:center">Input</td></tr><tr><td style="text-align:center">s32MilliSec</td><td style="text-align:center">Timeout for sending the stream.<br>Range: [-1, +∞)<br>-1: Blocking.<br>0: Non-blocking.<br>Positive: Timeout in milliseconds.</td><td style="text-align:center"></td></tr></tbody></table>
<p><strong>Return Values</strong></p>
<table><thead><tr><th style="text-align:center">Return Value</th><th style="text-align:center">Description</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">Success</td></tr><tr><td style="text-align:center">Non-zero</td><td style="text-align:center">Failure, returns an error code.</td></tr></tbody></table>
<p><strong>Notes</strong></p>
<blockquote>
<p>None</p>
</blockquote>
<p><strong>Reference Code</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vdec_getframe">HB_VDEC_GetFrame<a href="#hb_vdec_getframe" class="hash-link" aria-label="Direct link to HB_VDEC_GetFrame" title="Direct link to HB_VDEC_GetFrame">​</a></h3>
<p><strong>Function Declaration</strong></p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">int32_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VDEC_GetFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_CHN VdChn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> VIDEO_FRAME_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">pstFrameInfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">int32_t</span><span class="token plain"> s32MilliSec</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>Function Description</strong></p>
<blockquote>
<p>Retrieves a decoded image from the video decoding channel.</p>
</blockquote>
<p><strong>Parameter Descriptions</strong></p>
<table><thead><tr><th style="text-align:center">Parameter Name</th><th style="text-align:center">Description</th><th style="text-align:center">Input/Output</th></tr></thead><tbody><tr><td style="text-align:center">VdChn</td><td style="text-align:center">Video decoding channel number.<br>Range: [0, VDEC_MAX_CHN_NUM).</td><td style="text-align:center">Input</td></tr><tr><td style="text-align:center">pstFrameInfo</td><td style="text-align:center">Pointer to the retrieved decoded image information.</td><td style="text-align:center">Input</td></tr><tr><td style="text-align:center">s32MilliSec</td><td style="text-align:center">Timeout for retrieving the frame.<br>Range: [-1, +∞)<br>-1: Blocking.<br>0: Non-blocking.<br>Positive: Timeout in milliseconds.</td><td style="text-align:center"></td></tr></tbody></table>
<p><strong>Return Values</strong></p>
<table><thead><tr><th style="text-align:center">Return Value</th><th style="text-align:center">Description</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">Success</td></tr><tr><td style="text-align:center">Non-zero</td><td style="text-align:center">Failure, returns an error code.</td></tr></tbody></table>
<p><strong>Notes</strong></p>
<blockquote>
<p>None</p>
</blockquote>
<p><strong>Reference Code</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vdec_releaseframe">HB_VDEC_ReleaseFrame<a href="#hb_vdec_releaseframe" class="hash-link" aria-label="Direct link to HB_VDEC_ReleaseFrame" title="Direct link to HB_VDEC_ReleaseFrame">​</a></h3>
<p><strong>Function Declaration</strong></p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">int32_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VDEC_ReleaseFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_CHN VdChn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> VIDEO_FRAME_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">pstFrameInfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>Function Description</strong></p>
<blockquote>
<p>Releases a decoded image from the video decoding channel.</p>
</blockquote>
<p><strong>Parameter Descriptions</strong></p>
<table><thead><tr><th style="text-align:center">Parameter Name</th><th style="text-align:center">Description</th><th style="text-align:center">Input/Output</th></tr></thead><tbody><tr><td style="text-align:center">VdChn</td><td style="text-align:center">Video decoding channel number.<br>Range: [0, VDEC_MAX_CHN_NUM).</td><td style="text-align:center">Input</td></tr><tr><td style="text-align:center">pstFrameInfo</td><td style="text-align:center">Pointer to the decoded image information.</td><td style="text-align:center">Input</td></tr></tbody></table>
<p><strong>Return Values</strong></p>
<table><thead><tr><th style="text-align:center">Return Value</th><th style="text-align:center">Description</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">Success</td></tr><tr><td style="text-align:center">Non-zero</td><td style="text-align:center">Failure, returns an error code.</td></tr></tbody></table>
<p><strong>Notes</strong></p>
<blockquote>
<p>None</p>
</blockquote>
<p><strong>Reference Code</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vdec_getfd">HB_VDEC_GetFd<a href="#hb_vdec_getfd" class="hash-link" aria-label="Direct link to HB_VDEC_GetFd" title="Direct link to HB_VDEC_GetFd">​</a></h3>
<p>【Function Declaration】</p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">int32_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VDEC_GetFd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_CHN VdChn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">int32_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">fd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【Function Description】</p>
<blockquote>
<p>Get the device file handle corresponding to the decoding channel.</p>
</blockquote>
<p>【Parameter Description】</p>
<table><thead><tr><th style="text-align:center">Parameter Name</th><th style="text-align:center">Description</th><th style="text-align:center">Input/Output</th></tr></thead><tbody><tr><td style="text-align:center">VdChn</td><td style="text-align:center">Encoding channel number.<br>Range: [0, VDEC_MAX_CHN_NUM)</td><td style="text-align:center">Input</td></tr><tr><td style="text-align:center">fd</td><td style="text-align:center">Returns the file handle of the encoding channel.</td><td style="text-align:center">Output</td></tr></tbody></table>
<p>【Return Value】</p>
<table><thead><tr><th style="text-align:center">Return Value</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:left">Success</td></tr><tr><td style="text-align:center">Non-zero</td><td style="text-align:left">Failure, returns error code.</td></tr></tbody></table>
<p>【Notes】</p>
<blockquote>
<p>None</p>
</blockquote>
<p>【Reference Code】</p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    VDEC_CHN VDEC_Chn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">int32_t</span><span class="token plain"> fd </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">int32_t</span><span class="token plain"> s32Ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">int32_t</span><span class="token plain"> Width </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1920</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">int32_t</span><span class="token plain"> Height </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1080</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VDEC_CHN_ATTR_S m_VdecChnAttr </span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">memset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">m_VdecChnAttr </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_CHN_ATTR_S</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enType </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> PT_H264</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enMode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> VIDEO_MODE_FRAME</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enPixelFormat </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> HB_PIXEL_FORMAT_NV12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">u32FrameBufCnt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">u32StreamBufCnt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">u32StreamBufSize </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Width </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> Height </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bExternalBitStreamBuf  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> HB_TRUE</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enType </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> PT_H265</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH265</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bandwidth_Opt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> HB_TRUE</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH265</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enDecMode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> VIDEO_DEC_MODE_NORMAL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH265</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enOutputOrder </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> VIDEO_OUTPUT_ORDER_DISP</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH265</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cra_as_bla </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> HB_FALSE</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH265</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dec_temporal_id_mode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH265</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">target_dec_temporal_id_plus1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enType </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> PT_H264</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH264</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bandwidth_Opt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> HB_TRUE</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH264</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enDecMode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> VIDEO_DEC_MODE_NORMAL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH264</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enOutputOrder </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> VIDEO_OUTPUT_ORDER_DISP</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    s32Ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VDEC_CreateChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_Chn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_VDEC_SetChnAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_Chn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_VDEC_GetFd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_Chn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">fd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_VDEC_CloseFd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_Chn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    s32Ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VDEC_DestroyChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_Chn</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vdec_closefd">HB_VDEC_CloseFd<a href="#hb_vdec_closefd" class="hash-link" aria-label="Direct link to HB_VDEC_CloseFd" title="Direct link to HB_VDEC_CloseFd">​</a></h3>
<p>【Function Declaration】</p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">int32_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VDEC_CloseFd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_CHN VdChn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">int32_t</span><span class="token plain"> fd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【Function Description】</p>
<blockquote>
<p>Close the device file handle corresponding to the decoding channel.</p>
</blockquote>
<p>【Parameter Description】</p>
<table><thead><tr><th style="text-align:center">Parameter Name</th><th style="text-align:center">Description</th><th style="text-align:center">Input/Output</th></tr></thead><tbody><tr><td style="text-align:center">VdChn</td><td style="text-align:center">Encoding channel number.<br>Range: [0, VDEC_MAX_CHN_NUM).</td><td style="text-align:center">Input</td></tr><tr><td style="text-align:center">fd</td><td style="text-align:center">Set the encoding channel file handle.</td><td style="text-align:center">Input</td></tr></tbody></table>
<p>【Return Value】</p>
<table><thead><tr><th style="text-align:center">Return Value</th><th style="text-align:center">Description</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">Success</td></tr><tr><td style="text-align:center">Non-zero</td><td style="text-align:center">Failed, returns error code.</td></tr></tbody></table>
<p>【Precautions】</p>
<blockquote>
<p>None</p>
</blockquote>
<p>【Reference Code】</p>
<blockquote>
<p>Reference code for HB_VDEC_GetFd</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vdec_getchnattr">HB_VDEC_GetChnAttr<a href="#hb_vdec_getchnattr" class="hash-link" aria-label="Direct link to HB_VDEC_GetChnAttr" title="Direct link to HB_VDEC_GetChnAttr">​</a></h3>
<p><strong>Function Declaration</strong></p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">int32_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VDEC_GetChnAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_CHN VdChn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> VDEC_CHN_ATTR_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">pstAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>Function Description</strong></p>
<blockquote>
<p>Retrieves video decoding channel parameters.</p>
</blockquote>
<p><strong>Parameter Descriptions</strong></p>
<table><thead><tr><th style="text-align:center">Parameter Name</th><th style="text-align:center">Description</th><th style="text-align:center">Input/Output</th></tr></thead><tbody><tr><td style="text-align:center">VdChn</td><td style="text-align:center">Channel ID. <br>Range: [0, VDEC_MAX_CHN_NUM).</td><td style="text-align:center">Input</td></tr><tr><td style="text-align:center">pstAttr</td><td style="text-align:center">Pointer to decoded channel attributes.</td><td style="text-align:center">Output</td></tr></tbody></table>
<p><strong>Return Values</strong></p>
<table><thead><tr><th style="text-align:center">Return Value</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:left">Success</td></tr><tr><td style="text-align:center">Non-zero</td><td style="text-align:left">Failure, returns an error code.</td></tr></tbody></table>
<p><strong>Note</strong></p>
<blockquote>
<p>None</p>
</blockquote>
<p><strong>Reference Code</strong></p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    VDEC_CHN VDEC_Chn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">int32_t</span><span class="token plain"> s32Ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">int32_t</span><span class="token plain"> Width </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1920</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">int32_t</span><span class="token plain"> Height </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1080</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VDEC_CHN_ATTR_S m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">memset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_CHN_ATTR_S</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enType </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> PT_H264</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enMode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> VIDEO_MODE_FRAME</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enPixelFormat </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> HB_PIXEL_FORMAT_NV12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">u32FrameBufCnt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">u32StreamBufCnt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">u32StreamBufSize </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Width </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> Height </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bExternalBitStreamBuf </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> HB_TRUE</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enType </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> PT_H265</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH265</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bandwidth_Opt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> HB_TRUE</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH265</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enDecMode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> VIDEO_DEC_MODE_NORMAL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH265</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enOutputOrder </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> VIDEO_OUTPUT_ORDER_DISP</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH265</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cra_as_bla </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> HB_FALSE</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH265</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dec_temporal_id_mode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH265</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">target_dec_temporal_id_plus1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enType </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> PT_H264</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH264</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bandwidth_Opt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> HB_TRUE</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH264</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enDecMode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> VIDEO_DEC_MODE_NORMAL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stAttrH264</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enOutputOrder </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> VIDEO_OUTPUT_ORDER_DISP</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    s32Ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VDEC_CreateChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_Chn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_VDEC_SetChnAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_Chn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">m_VdecChnAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_VDEC_GetChnAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_Chn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">VdecChnAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    s32Ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VDEC_DestroyChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_Chn</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vdec_setchnattr">HB_VDEC_SetChnAttr<a href="#hb_vdec_setchnattr" class="hash-link" aria-label="Direct link to HB_VDEC_SetChnAttr" title="Direct link to HB_VDEC_SetChnAttr">​</a></h3>
<p><strong>Function Declaration</strong></p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">int32_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VDEC_SetChnAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_CHN VdChn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> VDEC_CHN_ATTR_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">pstAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>Function Description</strong></p>
<blockquote>
<p>Sets video decoding channel parameters.</p>
</blockquote>
<p><strong>Parameter Descriptions</strong></p>
<table><thead><tr><th style="text-align:center">Parameter Name</th><th style="text-align:center">Description</th><th style="text-align:center">Input/Output</th></tr></thead><tbody><tr><td style="text-align:center">VdChn</td><td style="text-align:center">Channel ID. <br>Range: [0, VDEC_MAX_CHN_NUM).</td><td style="text-align:center">Input</td></tr><tr><td style="text-align:center">pstAttr</td><td style="text-align:center">Pointer to decoded channel attributes.</td><td style="text-align:center">Input</td></tr></tbody></table>
<p><strong>Return Values</strong></p>
<table><thead><tr><th style="text-align:center">Return Value</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:left">Success</td></tr><tr><td style="text-align:center">Non-zero</td><td style="text-align:left">Failure, returns an error code.</td></tr></tbody></table>
<p><strong>Note</strong></p>
<blockquote>
<p>None</p>
</blockquote>
<p><strong>Reference Code</strong></p>
<blockquote>
<p>HB_VDEC_GetChnAttr reference code</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vdec_querystatus">HB_VDEC_QueryStatus<a href="#hb_vdec_querystatus" class="hash-link" aria-label="Direct link to HB_VDEC_QueryStatus" title="Direct link to HB_VDEC_QueryStatus">​</a></h3>
<p><strong>Function Declaration</strong></p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">int32_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VDEC_QueryStatus</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_CHN VdChn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> VDEC_CHN_STATUS_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">pstStatus</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>Function Description</strong></p>
<blockquote>
<p>Queries the status of a decoding channel.</p>
</blockquote>
<p><strong>Parameter Descriptions</strong></p>
<table><thead><tr><th style="text-align:center">Parameter Name</th><th style="text-align:center">Description</th><th style="text-align:center">Input/Output</th></tr></thead><tbody><tr><td style="text-align:center">VdChn</td><td style="text-align:center">Decoding channel ID. <br>Range: [0, VDEC_MAX_CHN_NUM).</td><td style="text-align:center">Input</td></tr><tr><td style="text-align:center">pstStatus</td><td style="text-align:center">Pointer to channel status.</td><td style="text-align:center">Input</td></tr></tbody></table>
<p><strong>Return Values</strong></p>
<table><thead><tr><th style="text-align:center">Return Value</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:left">Success</td></tr><tr><td style="text-align:center">Non-zero</td><td style="text-align:left">Failure, returns an error code.</td></tr></tbody></table>
<p><strong>Note</strong></p>
<blockquote>
<p>None</p>
</blockquote>
<p><strong>Reference Code</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vdec_getuserdata">HB_VDEC_GetUserData<a href="#hb_vdec_getuserdata" class="hash-link" aria-label="Direct link to HB_VDEC_GetUserData" title="Direct link to HB_VDEC_GetUserData">​</a></h3>
<p><strong>Function Declaration</strong></p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">int32_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VDEC_GetUserData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_CHN VdChn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> VDEC_USERDATA_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">pstUserData</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">int32_t</span><span class="token plain"> s32MilliSec</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>Function Description</strong></p>
<blockquote>
<p>Retrieves video decoding channel user data.</p>
</blockquote>
<p><strong>Parameter Descriptions</strong></p>
<table><thead><tr><th style="text-align:center">Parameter Name</th><th style="text-align:center">Description</th><th style="text-align:center">Input/Output</th></tr></thead><tbody><tr><td style="text-align:center">VdChn</td><td style="text-align:center">Channel ID. <br>Range: [0, VDEC_MAX_CHN_NUM).</td><td style="text-align:center">Input</td></tr><tr><td style="text-align:center">pstUserData</td><td style="text-align:center">Pointer to user data.</td><td style="text-align:center">Input</td></tr><tr><td style="text-align:center">s32MilliSec</td><td style="text-align:center">Timeout in milliseconds.</td><td style="text-align:center">Input</td></tr></tbody></table>
<p><strong>Return Values</strong></p>
<table><thead><tr><th style="text-align:center">Return Value</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:left">Success</td></tr><tr><td style="text-align:center">Non-zero</td><td style="text-align:left">Failure, returns an error code.</td></tr></tbody></table>
<p><strong>Note</strong></p>
<blockquote>
<p>None</p>
</blockquote>
<p><strong>Reference Code</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vdec_releaseuserdata">HB_VDEC_ReleaseUserData<a href="#hb_vdec_releaseuserdata" class="hash-link" aria-label="Direct link to HB_VDEC_ReleaseUserData" title="Direct link to HB_VDEC_ReleaseUserData">​</a></h3>
<p>【Function Declaration】</p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">int32_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VDEC_ReleaseUserData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VDEC_CHN VdChn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> VDEC_USERDATA_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">pstUserData</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【Function Description】</p>
<blockquote>
<p>Release user data for decoding channel.</p>
</blockquote>
<p>【Parameter Description】</p>
<table><thead><tr><th style="text-align:center">Parameter Name</th><th style="text-align:center">Description</th><th style="text-align:center">Input/Output</th></tr></thead><tbody><tr><td style="text-align:center">VdChn</td><td style="text-align:center">Encoding channel ID.<br>Range: [0, VDEC_MAX_CHN_NUM).</td><td style="text-align:center">Input</td></tr><tr><td style="text-align:center">pstUserData</td><td style="text-align:center">Pointer to user data</td><td style="text-align:center">Input</td></tr></tbody></table>
<p>【Return Value】</p>
<table><thead><tr><th style="text-align:center">Return Value</th><th style="text-align:center">Description</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">Success</td></tr><tr><td style="text-align:center">Non-zero</td><td style="text-align:center">Failure, returning error code</td></tr></tbody></table>
<p>【Notes】</p>
<blockquote>
<p>None</p>
</blockquote>
<p>【Reference Code】Please refer to the code of HB_VDEC_GetFd.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-structures">Data Structures<a href="#data-structures" class="hash-link" aria-label="Direct link to Data Structures" title="Direct link to Data Structures">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="video_mode_e">VIDEO_MODE_E<a href="#video_mode_e" class="hash-link" aria-label="Direct link to VIDEO_MODE_E" title="Direct link to VIDEO_MODE_E">​</a></h3>
<p>【Description】</p>
<blockquote>
<p>Defines the method of sending video stream.</p>
</blockquote>
<p>【Structure Definition】</p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">HB_VIDEO_MODE_E</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIDEO_MODE_FRAME </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIDEO_MODE_BUTT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIDEO_MODE_E</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【Member Description】</p>
<table><thead><tr><th style="text-align:center">Member</th><th style="text-align:center">Meaning</th></tr></thead><tbody><tr><td style="text-align:center">VIDEO_MODE_FRAME</td><td style="text-align:center">Send the video stream by frame.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="video_output_order_e">VIDEO_OUTPUT_ORDER_E<a href="#video_output_order_e" class="hash-link" aria-label="Direct link to VIDEO_OUTPUT_ORDER_E" title="Direct link to VIDEO_OUTPUT_ORDER_E">​</a></h3>
<p>【Description】</p>
<blockquote>
<p>Defines the enumeration of video decoding output order.</p>
</blockquote>
<p>【Structure Definition】</p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">HB_VIDEO_OUTPUT_ORDER_E</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIDEO_OUTPUT_ORDER_DISP </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIDEO_OUTPUT_ORDER_DEC</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIDEO_OUTPUT_ORDER_BUTT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIDEO_OUTPUT_ORDER_E</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【Member Description】</p>
<table><thead><tr><th style="text-align:center">Member</th><th style="text-align:center">Meaning</th></tr></thead><tbody><tr><td style="text-align:center">VIDEO_OUTPUT_ORDER_DISP</td><td style="text-align:center">Display order output.</td></tr><tr><td style="text-align:center">VIDEO_OUTPUT_ORDER_DEC</td><td style="text-align:center">Decoding order output.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="video_dec_mode_e">VIDEO_DEC_MODE_E<a href="#video_dec_mode_e" class="hash-link" aria-label="Direct link to VIDEO_DEC_MODE_E" title="Direct link to VIDEO_DEC_MODE_E">​</a></h3>
<p>【Description】</p>
<blockquote>
<p>Defines the enumeration of video decoding modes.</p>
</blockquote>
<p>【Structure Definition】</p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">HB_VIDEO_DEC_MODE_E</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIDEO_DEC_MODE_NORMAL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIDEO_DEC_MODE_IRAP</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIDEO_DEC_MODE_REF</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIDEO_DEC_MODE_THUMB</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIDEO_DEC_MODE_BUTT </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIDEO_DEC_MODE_E</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>[Member Description]</p>
<table><thead><tr><th style="text-align:center">Member</th><th style="text-align:center">Meaning</th></tr></thead><tbody><tr><td style="text-align:center">VIDEO_DEC_MODE_NORMAL</td><td style="text-align:center">Decode IPB frame</td></tr><tr><td style="text-align:center">VIDEO_DEC_MODE_IRAP</td><td style="text-align:center">Decode IRAP frame</td></tr><tr><td style="text-align:center">VIDEO_DEC_MODE_REF</td><td style="text-align:center">Decode reference frame</td></tr><tr><td style="text-align:center">VIDEO_DEC_MODE_THUMB</td><td style="text-align:center">Decode IRAP frame without DPB</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vdec_attr_h264_s">VDEC_ATTR_H264_S<a href="#vdec_attr_h264_s" class="hash-link" aria-label="Direct link to VDEC_ATTR_H264_S" title="Direct link to VDEC_ATTR_H264_S">​</a></h3>
<p>[Description]</p>
<blockquote>
<p>Define H264 decoding parameters.</p>
</blockquote>
<p>[Structure Definition]</p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VDEC_ATTR_H264_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIDEO_DEC_MODE_E enDecMode</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIDEO_OUTPUT_ORDER_E enOutputOrder</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HB_BOOL bandwidth_Opt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VDEC_ATTR_H264_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>[Member Description]</p>
<table><thead><tr><th style="text-align:center">Member</th><th style="text-align:center">Meaning</th></tr></thead><tbody><tr><td style="text-align:center">enDecMode</td><td style="text-align:center">Decoding mode, normal decoding or skip frame mode decoding.</td></tr><tr><td style="text-align:center">enOutputOrder</td><td style="text-align:center">Decoding image output order, decoding sequence output or display sequence output.</td></tr><tr><td style="text-align:center">bandwidth_Opt</td><td style="text-align:center">Enable bandwidth saving mode, this mode supports VPU to ignore compress format non-reference frame or linear format non-display frame written into frame buffer, in order to save bandwidth.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vdec_attr_h265_s">VDEC_ATTR_H265_S<a href="#vdec_attr_h265_s" class="hash-link" aria-label="Direct link to VDEC_ATTR_H265_S" title="Direct link to VDEC_ATTR_H265_S">​</a></h3>
<p>[Description]</p>
<blockquote>
<p>Define H265 decoding parameters.</p>
</blockquote>
<p>[Structure Definition]</p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VDEC_ATTR_H265_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIDEO_DEC_MODE_E enDecMode</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIDEO_OUTPUT_ORDER_E enOutputOrder</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HB_BOOLcra_as_bla</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HB_BOOL bandwidth_Opt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> dec_temporal_id_mode</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> target_dec_temporal_id_plus1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VDEC_ATTR_H265_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>[Member Description]</p>
<table><thead><tr><th style="text-align:center">Member</th><th style="text-align:center">Meaning</th></tr></thead><tbody><tr><td style="text-align:center">enDecMode</td><td style="text-align:center">Decoding mode, normal decoding or skip frame mode decoding.</td></tr><tr><td style="text-align:center">enOutputOrder</td><td style="text-align:center">Decoding image output order, decoding order output or display order output.</td></tr><tr><td style="text-align:center">cra_as_bla</td><td style="text-align:center">Enable CRA as BLA processing</td></tr><tr><td style="text-align:center">bandwidth_Opt</td><td style="text-align:center">Enable bandwidth saving mode, this mode supports VPU to ignore writing compressed format non-reference frames or linear format non-display frames into the frame buffer, in order to save bandwidth.</td></tr><tr><td style="text-align:center">dec_temporal_id_mode</td><td style="text-align:center">Specify the selection mode of temporal id. 0 is absolute value mode, 1 is relative value mode.</td></tr><tr><td style="text-align:center">target_dec_temporal_id_plus1</td><td style="text-align:center">When the value is 0x0, tempral ID in any range will decode the image<br>When the value is within the range of [0x1~0x6], if tempral ID is less than or equal to TARGET_DEC_TEMP_ID, the image will be decoded.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vdec_attr_mjpeg_s">VDEC_ATTR_MJPEG_S<a href="#vdec_attr_mjpeg_s" class="hash-link" aria-label="Direct link to VDEC_ATTR_MJPEG_S" title="Direct link to VDEC_ATTR_MJPEG_S">​</a></h3>
<p>[Description]</p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Define MJPEG decoding parameters</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre></div></div>
<p>[Structure definition]</p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VDEC_ATTR_MJPEG_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CODEC_ROTATION_E enRotation</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MIRROR_FLIP_E enMirrorFlip</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIDEO_CROP_INFO_S stCropCfg</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VDEC_ATTR_MJPEG_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>[Member description]</p>
<table><thead><tr><th style="text-align:center">Member</th><th style="text-align:center">Meaning</th></tr></thead><tbody><tr><td style="text-align:center">enRotation</td><td style="text-align:center">Specify the rotation angle, including 0, 90, 180, 270</td></tr><tr><td style="text-align:center">enMirrorFlip;</td><td style="text-align:center">Specify the mirror mode</td></tr><tr><td style="text-align:center">stCropCfg</td><td style="text-align:center">Specify the decoding area</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vdec_attr_jpeg_s">VDEC_ATTR_JPEG_S<a href="#vdec_attr_jpeg_s" class="hash-link" aria-label="Direct link to VDEC_ATTR_JPEG_S" title="Direct link to VDEC_ATTR_JPEG_S">​</a></h3>
<p>[Description]</p>
<blockquote>
<p>Define JPEG decoding parameters.
[Structure definition]</p>
</blockquote>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VDEC_ATTR_JPEG_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CODEC_ROTATION_E enRotation</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MIRROR_FLIP_E enMirrorFlip</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIDEO_CROP_INFO_S stCropCfg</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VDEC_ATTR_JPEG_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>[Member description]</p>
<table><thead><tr><th style="text-align:center">Member</th><th style="text-align:center">Meaning</th></tr></thead><tbody><tr><td style="text-align:center">enRotation</td><td style="text-align:center">Specify the rotation angle, including 0, 90, 180, 270</td></tr><tr><td style="text-align:center">enMirrorFlip;</td><td style="text-align:center">Specify the mirror mode</td></tr><tr><td style="text-align:center">stCropCfg</td><td style="text-align:center">Specify the decoding area</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vdec_chn_attr_s">VDEC_CHN_ATTR_S<a href="#vdec_chn_attr_s" class="hash-link" aria-label="Direct link to VDEC_CHN_ATTR_S" title="Direct link to VDEC_CHN_ATTR_S">​</a></h3>
<p>[Description]&gt; Definition of decoding channel attributes.</p>
<p>【Structure Definition】</p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VDEC_CHN_ATTR_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PAYLOAD_TYPE_E enType</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIDEO_MODE_E enMode</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PIXEL_FORMAT_E enPixelFormat</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> u32StreamBufSize</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> u32StreamBufCnt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HB_BOOL bExternalBitStreamBuf；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> u32FrameBufCnt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> vlc_buf_size</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">union</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        VDEC_ATTR_H264_S stAttrH264</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        VDEC_ATTR_H265_S stAttrH265</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        VDEC_ATTR_MJPEG_S stAttrMjpeg</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        VDEC_ATTR_JPEG_S stAttrJpeg</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VDEC_CHN_ATTR_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【Member Description】</p>
<table><thead><tr><th style="text-align:center">Member</th><th style="text-align:center">Meaning</th></tr></thead><tbody><tr><td style="text-align:center">enType</td><td style="text-align:center">Type of stream, such as H264 or H265, etc.</td></tr><tr><td style="text-align:center">enMode</td><td style="text-align:center">Decoding mode, only supports frame mode</td></tr><tr><td style="text-align:center">enPixelFormat</td><td style="text-align:center">Decoding output pixel format</td></tr><tr><td style="text-align:center">u32StreamBufSize</td><td style="text-align:center">Size of stream buffer used for decoding</td></tr><tr><td style="text-align:center">u32StreamBufCnt</td><td style="text-align:center">Number of stream buffers used for decoding</td></tr><tr><td style="text-align:center">bExternalBitStreamBuf</td><td style="text-align:center">Whether to use external or internal buffer for stream decoding</td></tr><tr><td style="text-align:center">u32FrameBufCnt</td><td style="text-align:center">Number of frame buffers used for decoding</td></tr><tr><td style="text-align:center">vlc_buf_size</td><td style="text-align:center">Size of decoder vlc buffer</td></tr><tr><td style="text-align:center">stAttrH264/stAttrH265<br>stAttrMjpeg/stAttrJpeg</td><td style="text-align:center">Encoder attributes for different protocols</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vdec_userdata_s">HB_VDEC_USERDATA_S<a href="#hb_vdec_userdata_s" class="hash-link" aria-label="Direct link to HB_VDEC_USERDATA_S" title="Direct link to HB_VDEC_USERDATA_S">​</a></h3>
<p>【Description】</p>
<blockquote>
<p>Definition of decoding user data structure.</p>
</blockquote>
<p>【Structure Definition】</p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VDEC_USERDATA_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HB_BOOL  bValid</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">   u32Len</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint64_t</span><span class="token plain">   u64PhyAddr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">   pu8Addr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VDEC_USERDATA_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【Member Description】|   Member   |        Meaning         |
| :--------: | :--------------------: |
|  bValid    |     Enable/Disable     |
|  u32Len    |    Length of Data      |
| u64PhyAddr | Physical Address of Data |
|  pu8Addr   |  Virtual Address of Data |</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vdec_chn_status_s">HB_VDEC_CHN_STATUS_S<a href="#hb_vdec_chn_status_s" class="hash-link" aria-label="Direct link to HB_VDEC_CHN_STATUS_S" title="Direct link to HB_VDEC_CHN_STATUS_S">​</a></h3>
<p>【Description】</p>
<blockquote>
<p>Define the structure of the decoding channel status.</p>
</blockquote>
<p>【Structure Definition】</p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VDEC_CHN_STATUS_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token class-name">uint32_t</span><span class="token plain"> cur_input_buf_cnt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token class-name">uint64_t</span><span class="token plain"> cur_input_buf_size</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token class-name">uint64_t</span><span class="token plain"> cur_output_buf_cnt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token class-name">uint64_t</span><span class="token plain"> cur_output_buf_size</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token class-name">uint32_t</span><span class="token plain"> left_recv_frame</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token class-name">uint32_t</span><span class="token plain"> left_enc_frame</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token class-name">uint32_t</span><span class="token plain"> total_input_buf_cnt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token class-name">uint32_t</span><span class="token plain"> total_output_buf_cnt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token class-name">int32_t</span><span class="token plain"> pipeline</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token class-name">int32_t</span><span class="token plain"> channel_port_id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VDEC_CHN_STATUS_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【Member Description】</p>
<table><thead><tr><th style="text-align:center">Member</th><th style="text-align:center">Meaning</th></tr></thead><tbody><tr><td style="text-align:center">cur_input_buf_cnt</td><td style="text-align:center">Number of input streams not decoded at present</td></tr><tr><td style="text-align:center">cur_input_buf_size</td><td style="text-align:center">Size of input stream buffer at present</td></tr><tr><td style="text-align:center">cur_output_buf_cnt</td><td style="text-align:center">Number of completed decoded streams at present</td></tr><tr><td style="text-align:center">cur_output_buf_size</td><td style="text-align:center">Size of decoded stream buffer at present</td></tr><tr><td style="text-align:center">left_recv_frame</td><td style="text-align:center">Number of remaining frames to be received</td></tr><tr><td style="text-align:center">left_enc_frame</td><td style="text-align:center">Number of remaining frames to be encoded</td></tr><tr><td style="text-align:center">total_input_buf_cnt</td><td style="text-align:center">Total number of input streams</td></tr><tr><td style="text-align:center">total_output_buf_cnt</td><td style="text-align:center">Total number of decoded streams</td></tr><tr><td style="text-align:center">pipeline</td><td style="text-align:center">pipeline</td></tr><tr><td style="text-align:center">channel_port_id</td><td style="text-align:center">channel id</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="error-codes">Error Codes<a href="#error-codes" class="hash-link" aria-label="Direct link to Error Codes" title="Direct link to Error Codes">​</a></h2>
<p>The error codes for VDEC are as follows:</p>
<table><thead><tr><th style="text-align:center">Error Code</th><th style="text-align:left">Macro Definition</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:center">-269024256</td><td style="text-align:left">HB_ERR_VDEC_UNKNOWN</td><td style="text-align:left">Unknown error</td></tr><tr><td style="text-align:center">-269024257</td><td style="text-align:left">HB_ERR_VDEC_NOT_FOUND</td><td style="text-align:left">VDEC channel not found</td></tr><tr><td style="text-align:center">-269024258</td><td style="text-align:left">HB_ERR_VDEC_OPEN_FAIL</td><td style="text-align:left">Failed to open VDEC channel</td></tr><tr><td style="text-align:center">-269024259</td><td style="text-align:left">HB_ERR_VDEC_RESPONSE_TIMEOUT</td><td style="text-align:left">No response from VDEC channel</td></tr><tr><td style="text-align:center">-269024261</td><td style="text-align:left">HB_ERR_VDEC_OPERATION_NOT_ALLOWDED</td><td style="text-align:left">Operation not allowed</td></tr><tr><td style="text-align:center">-269024262</td><td style="text-align:left">HB_ERR_VDEC_NOMEM</td><td style="text-align:left">Insufficient VDEC memory</td></tr><tr><td style="text-align:center">-269024263</td><td style="text-align:left">HB_ERR_VDEC_NO_FREE_CHANNEL</td><td style="text-align:left">No free VDEC channel</td></tr><tr><td style="text-align:center">-269024264</td><td style="text-align:left">HB_ERR_VDEC_ILLEGAL_PARAM</td><td style="text-align:left">Invalid parameter</td></tr><tr><td style="text-align:center">-269024265</td><td style="text-align:left">HB_ERR_VDEC_INVALID_CHNID</td><td style="text-align:left">Invalid channel ID</td></tr><tr><td style="text-align:center">-269024266</td><td style="text-align:left">HB_ERR_VDEC_INVALID_BUF</td><td style="text-align:left">Invalid buffer block</td></tr><tr><td style="text-align:center">-269024267</td><td style="text-align:left">HB_ERR_VDEC_INVALID_CMD</td><td style="text-align:left">Invalid command</td></tr><tr><td style="text-align:center">-269024268</td><td style="text-align:left">HB_ERR_VDEC_WAIT_TIMEOUT</td><td style="text-align:left">Timeout waiting</td></tr><tr><td style="text-align:center">-269024269</td><td style="text-align:left">HB_ERR_VDEC_FILE_OPERATION_FAIL</td><td style="text-align:left">Failed to operate on file</td></tr><tr><td style="text-align:center">-269024270</td><td style="text-align:left">HB_ERR_VDEC_PARAMS_SET_FAIL</td><td style="text-align:left">Failed to set parameters</td></tr><tr><td style="text-align:center">-269024271</td><td style="text-align:left">HB_ERR_VDEC_PARAMS_GET_FAIL</td><td style="text-align:left">Failed to get parameters</td></tr><tr><td style="text-align:center">-269024272</td><td style="text-align:left">HB_ERR_VDEC_EXIST</td><td style="text-align:left">VDEC channel already exists</td></tr><tr><td style="text-align:center">-269024273</td><td style="text-align:left">HB_ERR_VDEC_UNEXIST</td><td style="text-align:left">VDEC channel does not exist</td></tr><tr><td style="text-align:center">-269024274</td><td style="text-align:left">HB_ERR_VDEC_NULL_PTR</td><td style="text-align:left">Null pointer</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="reference-code">Reference Code<a href="#reference-code" class="hash-link" aria-label="Direct link to Reference Code" title="Direct link to Reference Code">​</a></h2>
<p>For example codes related to the VDEC, please refer to <a href="/rdk_doc/en/Advanced_development/multimedia_development/multimedia_samples#sample_video_codec">sample_video_codec</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-06-20T08:49:43.000Z" itemprop="dateModified">Jun 20, 2025</time></b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/rdk_doc/en/Advanced_development/multimedia_development/video_encode"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">7.3.9 Video Encoding</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rdk_doc/en/Advanced_development/multimedia_development/debug_info"><div class="pagination-nav__sublabel">Next </div><div class="pagination-nav__label">7.3.11 Query Multimedia Module Debug Information</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#function-description" class="table-of-contents__link toc-highlight">Function Description</a><ul><li><a href="#basic-specifications" class="table-of-contents__link toc-highlight">Basic Specifications</a></li><li><a href="#bitstream-transmission-mode" class="table-of-contents__link toc-highlight">Bitstream Transmission Mode</a></li><li><a href="#image-output-mode" class="table-of-contents__link toc-highlight">Image Output Mode</a></li><li><a href="#timestamp-pts-processing" class="table-of-contents__link toc-highlight">Timestamp (PTS) Processing</a></li><li><a href="#bitstream-buffer-configuration-mode" class="table-of-contents__link toc-highlight">Bitstream Buffer Configuration Mode</a></li><li><a href="#advanced-skip-frame-decoding" class="table-of-contents__link toc-highlight">Advanced skip frame decoding</a></li><li><a href="#bandwidth-optimization-mode-decoding" class="table-of-contents__link toc-highlight">Bandwidth optimization mode decoding</a></li><li><a href="#decoder-binding" class="table-of-contents__link toc-highlight">Decoder binding</a></li><li><a href="#notes" class="table-of-contents__link toc-highlight">Notes</a></li></ul></li><li><a href="#api-reference" class="table-of-contents__link toc-highlight">API Reference</a><ul><li><a href="#hb_vdec_createchn" class="table-of-contents__link toc-highlight">HB_VDEC_CreateChn</a></li><li><a href="#hb_vdec_destroychn" class="table-of-contents__link toc-highlight">HB_VDEC_DestroyChn</a></li><li><a href="#hb_vdec_startrecvstream" class="table-of-contents__link toc-highlight">HB_VDEC_StartRecvStream</a></li><li><a href="#hb_vdec_stoprecvstream" class="table-of-contents__link toc-highlight">HB_VDEC_StopRecvStream</a></li><li><a href="#hb_vdec_resetchn" class="table-of-contents__link toc-highlight">HB_VDEC_ResetChn</a></li><li><a href="#hb_vdec_sendstream" class="table-of-contents__link toc-highlight">HB_VDEC_SendStream</a></li><li><a href="#hb_vdec_getframe" class="table-of-contents__link toc-highlight">HB_VDEC_GetFrame</a></li><li><a href="#hb_vdec_releaseframe" class="table-of-contents__link toc-highlight">HB_VDEC_ReleaseFrame</a></li><li><a href="#hb_vdec_getfd" class="table-of-contents__link toc-highlight">HB_VDEC_GetFd</a></li><li><a href="#hb_vdec_closefd" class="table-of-contents__link toc-highlight">HB_VDEC_CloseFd</a></li><li><a href="#hb_vdec_getchnattr" class="table-of-contents__link toc-highlight">HB_VDEC_GetChnAttr</a></li><li><a href="#hb_vdec_setchnattr" class="table-of-contents__link toc-highlight">HB_VDEC_SetChnAttr</a></li><li><a href="#hb_vdec_querystatus" class="table-of-contents__link toc-highlight">HB_VDEC_QueryStatus</a></li><li><a href="#hb_vdec_getuserdata" class="table-of-contents__link toc-highlight">HB_VDEC_GetUserData</a></li><li><a href="#hb_vdec_releaseuserdata" class="table-of-contents__link toc-highlight">HB_VDEC_ReleaseUserData</a></li></ul></li><li><a href="#data-structures" class="table-of-contents__link toc-highlight">Data Structures</a><ul><li><a href="#video_mode_e" class="table-of-contents__link toc-highlight">VIDEO_MODE_E</a></li><li><a href="#video_output_order_e" class="table-of-contents__link toc-highlight">VIDEO_OUTPUT_ORDER_E</a></li><li><a href="#video_dec_mode_e" class="table-of-contents__link toc-highlight">VIDEO_DEC_MODE_E</a></li><li><a href="#vdec_attr_h264_s" class="table-of-contents__link toc-highlight">VDEC_ATTR_H264_S</a></li><li><a href="#vdec_attr_h265_s" class="table-of-contents__link toc-highlight">VDEC_ATTR_H265_S</a></li><li><a href="#vdec_attr_mjpeg_s" class="table-of-contents__link toc-highlight">VDEC_ATTR_MJPEG_S</a></li><li><a href="#vdec_attr_jpeg_s" class="table-of-contents__link toc-highlight">VDEC_ATTR_JPEG_S</a></li><li><a href="#vdec_chn_attr_s" class="table-of-contents__link toc-highlight">VDEC_CHN_ATTR_S</a></li><li><a href="#hb_vdec_userdata_s" class="table-of-contents__link toc-highlight">HB_VDEC_USERDATA_S</a></li><li><a href="#hb_vdec_chn_status_s" class="table-of-contents__link toc-highlight">HB_VDEC_CHN_STATUS_S</a></li></ul></li><li><a href="#error-codes" class="table-of-contents__link toc-highlight">Error Codes</a></li><li><a href="#reference-code" class="table-of-contents__link toc-highlight">Reference Code</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.guyuehome.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GuYueHome<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Contact US</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/D-Robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@D-Robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 D-Robotics.</div></div></div></footer></div>
</body>
</html>