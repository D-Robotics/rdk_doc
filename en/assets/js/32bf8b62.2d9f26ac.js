"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[27098],{28453:(n,i,e)=>{e.d(i,{R:()=>s,x:()=>l});var p=e(96540);const r={},t=p.createContext(r);function s(n){const i=p.useContext(t);return p.useMemo(function(){return"function"==typeof n?n(i):{...i,...n}},[i,n])}function l(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:s(n.components),p.createElement(t.Provider,{value:i},n.children)}},67069:(n,i,e)=>{e.r(i),e.d(i,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>p,toc:()=>d});const p=JSON.parse('{"id":"Advanced_development/linux_development/driver_development_s100/driver_pinctrl_dev","title":"Pinctrl Debugging Guide","description":"Pinctrl Usage","source":"@site/i18n/en/docusaurus-plugin-content-docs-docs_s/current/07_Advanced_development/02_linux_development/04_driver_development_s100/05_driver_pinctrl_dev.md","sourceDirName":"07_Advanced_development/02_linux_development/04_driver_development_s100","slug":"/Advanced_development/linux_development/driver_development_s100/driver_pinctrl_dev","permalink":"/rdk_doc/en/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_pinctrl_dev","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1764174115000,"sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"GPIO Usage","permalink":"/rdk_doc/en/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_gpio_dev"},"next":{"title":"Introduction to the IPC Module","permalink":"/rdk_doc/en/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_ipc"}}');var r=e(74848),t=e(28453);const s={sidebar_position:5},l="Pinctrl Debugging Guide",c={},d=[{value:"Pinctrl Usage",id:"pinctrl-usage",level:2},{value:"Pinmux Functionality",id:"pinmux-functionality",level:3},{value:"Pinconf Functionality",id:"pinconf-functionality",level:3},{value:"IO-domain Functionality",id:"io-domain-functionality",level:3},{value:"Source Code Description",id:"source-code-description",level:2},{value:"Pinctrl Driver Usage Instructions",id:"pinctrl-driver-usage-instructions",level:2},{value:"Pinmux and Pinconf Configuration",id:"pinmux-and-pinconf-configuration",level:3},{value:"Pinconf Supported Attributes and Corresponding Keywords in Device Tree",id:"pinconf-supported-attributes-and-corresponding-keywords-in-device-tree",level:3},{value:"Voltage Domain Configuration",id:"voltage-domain-configuration",level:3},{value:"Reference Pinctrl Node Configuration",id:"reference-pinctrl-node-configuration",level:3},{value:"Node Reference",id:"node-reference",level:3},{value:"Pinctrl debugfs Usage Instructions",id:"pinctrl-debugfs-usage-instructions",level:2},{value:"Pin Information Query",id:"pin-information-query",level:3},{value:"/sys/kernel/debug/pinctrl/pinctrl-devices",id:"syskerneldebugpinctrlpinctrl-devices",level:4},{value:"/sys/kernel/debug/pinctrl/pinctrl-handles",id:"syskerneldebugpinctrlpinctrl-handles",level:4},{value:"/sys/kernel/debug/pinctrl/pinctrl-maps",id:"syskerneldebugpinctrlpinctrl-maps",level:4},{value:"/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/gpio-ranges",id:"syskerneldebugpinctrlpinctrl_devgpio-ranges",level:4},{value:"/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pinconf-pins",id:"syskerneldebugpinctrlpinctrl_devpinconf-pins",level:4},{value:"/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pinconf-groups",id:"syskerneldebugpinctrlpinctrl_devpinconf-groups",level:4},{value:"/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pingroups",id:"syskerneldebugpinctrlpinctrl_devpingroups",level:4},{value:"/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pinmux-functions",id:"syskerneldebugpinctrlpinctrl_devpinmux-functions",level:4},{value:"/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pinmux-pins",id:"syskerneldebugpinctrlpinctrl_devpinmux-pins",level:4},{value:"/sys/kernel/debug/&lt;pinctrl_dev&gt;/pinmux-select",id:"syskerneldebugpinctrl_devpinmux-select",level:4},{value:"/sys/kernel/debug/&lt;pinctrl_dev&gt;/pins",id:"syskerneldebugpinctrl_devpins",level:4}];function o(n){const i={admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"pinctrl-debugging-guide",children:"Pinctrl Debugging Guide"})}),"\n",(0,r.jsx)(i.h2,{id:"pinctrl-usage",children:"Pinctrl Usage"}),"\n",(0,r.jsx)(i.p,{children:"The S100 chip contains three sys blocks with software-controllable pins. Users can configure pin multiplexing, pin attributes, and voltage domains according to their requirements."}),"\n",(0,r.jsx)(i.h3,{id:"pinmux-functionality",children:"Pinmux Functionality"}),"\n",(0,r.jsx)(i.p,{children:"Pins in the SoC can be configured for different functions. Through pinmux settings, users can assign the desired function to each pin. Each pin supports four alternative functions."}),"\n",(0,r.jsx)(i.h3,{id:"pinconf-functionality",children:"Pinconf Functionality"}),"\n",(0,r.jsx)(i.p,{children:"Pins in the SoC can be configured into different states, including the following attributes:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Pull-up/pull-down configuration"}),"\n",(0,r.jsx)(i.li,{children:"Drive strength configuration"}),"\n",(0,r.jsx)(i.li,{children:"Voltage mode configuration"}),"\n",(0,r.jsx)(i.li,{children:"Input enable/disable configuration"}),"\n",(0,r.jsx)(i.li,{children:"Schmitt trigger configuration"}),"\n",(0,r.jsx)(i.li,{children:"Slew rate selection"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"io-domain-functionality",children:"IO-domain Functionality"}),"\n",(0,r.jsx)(i.p,{children:"The S100 supports two voltage domains: 1.8V and 3.3V. Different pins must operate within their appropriate voltage domains. The reference manual groups pins into power groups, and each power group controls a set of pins."}),"\n",(0,r.jsx)(i.h2,{id:"source-code-description",children:"Source Code Description"}),"\n",(0,r.jsxs)(i.p,{children:["The file ",(0,r.jsx)(i.code,{children:"pinctrl-hobot.c"})," contains the main logic for all S100-series pinctrl drivers. It registers the S100 pinctrl device with the pinctrl subsystem and provides registration support for the S100 pinctrl device."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-{.shell}",children:"/* Paths */\nhobot-drivers/pinctrl/pinctrl-hobot.c     # Pinctrl driver source file\nhobot-drivers/pinctrl/pinctrl-hobot.h     # Pinctrl driver header file\n"})}),"\n",(0,r.jsxs)(i.p,{children:["The file ",(0,r.jsx)(i.code,{children:"pinctrl-hobot-s100.c"})," contains all pin definitions, pin groups, and pin function information for the S100."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-{.shell}",children:"/* Path */\nhobot-drivers/pinctrl/pinctrl-hobot-s100.c     # S100 driver data source file\n"})}),"\n",(0,r.jsx)(i.h2,{id:"pinctrl-driver-usage-instructions",children:"Pinctrl Driver Usage Instructions"}),"\n",(0,r.jsx)(i.h3,{id:"pinmux-and-pinconf-configuration",children:"Pinmux and Pinconf Configuration"}),"\n",(0,r.jsx)(i.p,{children:"Pinmux and pinconf are typically configured in the device DTS as follows:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-C",children:'&pinctrl_peri {\n    pinctrl_test_default: pinctrl_test_default {\n        /* Pinmux configuration: multiplex pins peri_i2c5_scl and peri_i2c5_sda to the peri_i2c5 function */\n        pinmux {\n            function = "peri_i2c5";\n            pins = "peri_i2c5_scl", "peri_i2c5_sda";\n        };\n        /* Pinconf configuration: set electrical attributes (drive strength, pull-up/down, input enable, voltage mode, slew rate, Schmitt trigger, etc.) for pins peri_i2c5_scl and peri_i2c5_sda */\n        pinconf {\n            /* Affected pins */\n            pins = "peri_i2c5_scl", "peri_i2c5_sda";\n            /* Drive strength setting */\n            drive-strength = <7>;\n            /* Configure as pull-down */\n            bias-pull-down;\n            /* Disable input */\n            input-disable;\n            /* Disable low-voltage mode */\n            low-power-disable;\n            /* Set slew rate to 1 */\n            slew-rate = <1>;\n            /* Disable Schmitt trigger on input */\n            input-schmitt-disable;\n        };\n    };\n\n    pinctrl_test_sleep: pinctrl_test_sleep {\n        pinmux {\n            function = "peri_i2c5";\n            pins = "peri_i2c5_scl", "peri_i2c5_sda";\n        };\n        pinconf {\n            pins = "peri_i2c5_scl", "peri_i2c5_sda";\n            drive-strength = <1>;\n            bias-pull-up;\n            input-enable;\n            low-power-enable;\n            slew-rate = <0>;\n            input-schmitt-enable;\n        };\n    };\n};\n'})}),"\n",(0,r.jsx)(i.h3,{id:"pinconf-supported-attributes-and-corresponding-keywords-in-device-tree",children:"Pinconf Supported Attributes and Corresponding Keywords in Device Tree"}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Keyword"}),(0,r.jsx)(i.th,{children:"Attribute"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"bias-pull-up"}),(0,r.jsx)(i.td,{children:"Pull-up configuration"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"bias-pull-down"}),(0,r.jsx)(i.td,{children:"Pull-down configuration"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"bias-disable"}),(0,r.jsx)(i.td,{children:"Floating (no pull) configuration"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"drive-strength"}),(0,r.jsx)(i.td,{children:"Drive strength"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"low-power-disable"}),(0,r.jsx)(i.td,{children:"High-voltage mode (3.3V)"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"low-power-enable"}),(0,r.jsx)(i.td,{children:"Low-voltage mode (1.8V)"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"input-disable"}),(0,r.jsx)(i.td,{children:"Input disabled"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"input-enable"}),(0,r.jsx)(i.td,{children:"Input enabled"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"input-schmitt-enable"}),(0,r.jsx)(i.td,{children:"Schmitt trigger enabled"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"input-schmitt-disable"}),(0,r.jsx)(i.td,{children:"Schmitt trigger disabled"})]})]})]}),"\n",(0,r.jsx)(i.h3,{id:"voltage-domain-configuration",children:"Voltage Domain Configuration"}),"\n",(0,r.jsx)(i.p,{children:"Incorrect IO-domain configuration for pins can directly affect normal module operation, and in severe cases, may even damage components and render the board inoperable."}),"\n",(0,r.jsx)(i.p,{children:"Based on prior bring-up experience, the following practical steps are recommended to ensure consistency between hardware voltage levels and software IO-domain settings:"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsx)(i.li,{children:"Hardware and software owners of each module should align and confirm the applicable IO-domain range for relevant pins, ensuring consistent requirements. They should also provide reference values in a document titled \u201cPin IO-domain Configuration Manual\u201d (document name for reference only)."}),"\n",(0,r.jsx)(i.li,{children:"Based on the confirmed information from step 1, configure the corresponding IO-domain settings in the device tree."}),"\n",(0,r.jsx)(i.li,{children:"After completing step 2, measure the actual IO-domain values of all pins on the prototype board and record these measured values in the \u201cPin IO-domain Configuration Manual\u201d under the \u201cActual Values\u201d section to identify any discrepancies (gaps)."}),"\n",(0,r.jsx)(i.li,{children:"Since one power group in the S100 controls multiple pins, configuring one pin may affect others in the same group. Therefore, hold alignment meetings to discuss and resolve any gaps identified in step 3 until all discrepancies are eliminated."}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"reference-pinctrl-node-configuration",children:"Reference Pinctrl Node Configuration"}),"\n",(0,r.jsxs)(i.p,{children:["The pinctrl device tree file path for the S100 acore is: ",(0,r.jsx)(i.code,{children:"hobot-drivers/kernel-dts/drobot-s100-pinctrl.dtsi"}),"."]}),"\n",(0,r.jsx)(i.p,{children:"In the pinctrl node, a group of pins is bundled together. Each node configuration includes multiple child nodes."}),"\n",(0,r.jsxs)(i.p,{children:["The first child node, ",(0,r.jsx)(i.code,{children:"pinmux"}),", contains pin multiplexing information: ",(0,r.jsx)(i.code,{children:"function"})," specifies the functional role assigned to the pins, and ",(0,r.jsx)(i.code,{children:"pins"})," lists the pins used for this function."]}),"\n",(0,r.jsxs)(i.p,{children:["The second child node, ",(0,r.jsx)(i.code,{children:"pinconf"}),", contains pin configuration details (this node can be omitted if default values are acceptable). ",(0,r.jsx)(i.code,{children:"pins"})," specifies the pins to be configured, and ",(0,r.jsx)(i.code,{children:"pinconf_*"})," properties define the configuration parameters, such as drive strength, pull-up/down, voltage mode, etc."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-C",children:'&pinctrl_peri {\n     pinctrl_test_default: pinctrl_test_default {\n         pinmux {\n             function = "peri_i2c5";\n             pins = "peri_i2c5_scl", "peri_i2c5_sda";\n         };\n         pinconf {\n             pins = "peri_i2c5_scl", "peri_i2c5_sda";\n             drive-strength = <7>;\n             bias-pull-down;\n             input-disable;\n             low-power-disable;\n             slew-rate = <1>;\n             input-schmitt-disable;\n         };\n     };\n\n     pinctrl_test_sleep: pinctrl_test_sleep {\n         pinmux {\n             function = "peri_i2c5";\n             pins = "peri_i2c5_scl", "peri_i2c5_sda";\n         };\n         pinconf {\n             pins = "peri_i2c5_scl", "peri_i2c5_sda";\n             drive-strength = <1>;\n             bias-pull-up;\n             input-enable;\n             low-power-enable;\n             slew-rate = <0>;\n             input-schmitt-enable;\n         };\n     };\n };\n'})}),"\n",(0,r.jsx)(i.h3,{id:"node-reference",children:"Node Reference"}),"\n",(0,r.jsx)(i.p,{children:'Before a driver uses pinctrl interfaces, the corresponding pinctrl node must be configured in the DTS. During driver probe, the configuration associated with the "default" state is applied to hardware registers. Other state configurations must be explicitly switched in code.'}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-dts",children:'pinctrl_test: pinctrl_test {\n        compatible = "horizon,s100-pinctrl-test";\n        pinctrl-names = "default", "sleep";\n        pinctrl-0 = <&pinctrl_test_default>;\n        pinctrl-1 = <&pinctrl_test_sleep>;\n        #address-cells = <1>;\n        #size-cells = <0>;\n};\n'})}),"\n",(0,r.jsxs)(i.p,{children:["To explicitly switch pinctrl states, call the ",(0,r.jsx)(i.code,{children:"pinctrl_select_state"})," interface."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-C",children:"/**\n * pinctrl_select_state() - select/activate/program a pinctrl state to HW\n * @p: the pinctrl handle for the device that requests configuration\n * @state: the state handle to select/activate/program\n */\nint pinctrl_select_state(struct pinctrl *p, struct pinctrl_state *state)\n"})}),"\n",(0,r.jsx)(i.h2,{id:"pinctrl-debugfs-usage-instructions",children:"Pinctrl debugfs Usage Instructions"}),"\n",(0,r.jsx)(i.admonition,{type:"info",children:(0,r.jsx)(i.p,{children:'Note: Non-root users need to prepend commands with "sudo".'})}),"\n",(0,r.jsx)(i.h3,{id:"pin-information-query",children:"Pin Information Query"}),"\n",(0,r.jsx)(i.h4,{id:"syskerneldebugpinctrlpinctrl-devices",children:"/sys/kernel/debug/pinctrl/pinctrl-devices"}),"\n",(0,r.jsx)(i.p,{children:"Check which pinctrl devices exist in the system and whether they use the pinmux and pinconf modules."}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-shell",children:"root@ubuntu:~# cat /sys/kernel/debug/pinctrl/pinctrl-devices\nname [pinmux] [pinconf]\nperi yes yes\ncam yes yes\nvideo yes yes\n"})}),"\n",(0,r.jsx)(i.h4,{id:"syskerneldebugpinctrlpinctrl-handles",children:"/sys/kernel/debug/pinctrl/pinctrl-handles"}),"\n",(0,r.jsx)(i.p,{children:"View pin configuration mappings that have already been requested."}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-shell",children:"root@ubuntu:~# cat /sys/kernel/debug/pinctrl/pinctrl-handles\n Requested pin control handlers their pinmux maps:\n device: 39420000.i2c current state: default\n state: default\n     type: MUX_GROUP controller cam group: cam_i2c0_scl (8) function: cam_i2c0 (6)\n     type: MUX_GROUP controller cam group: cam_i2c0_sda (9) function: cam_i2c0 (6)\n     type: CONFIGS_GROUP controller cam group cam_i2c0_scl (8)config 00000109\n     type: CONFIGS_GROUP controller cam group cam_i2c0_sda (9)config 00000109\n device: 39430000.i2c current state: default\n state: default\n     type: MUX_GROUP controller cam group: cam_i2c1_scl (10) function: cam_i2c1 (7)\n     type: MUX_GROUP controller cam group: cam_i2c1_sda (11) function: cam_i2c1 (7)\n     type: CONFIGS_GROUP controller cam group cam_i2c1_scl (10)config 00000109\n     type: CONFIGS_GROUP controller cam group cam_i2c1_sda (11)config 00000109\n device: 39440000.i2c current state: default\n state: default\n     type: MUX_GROUP controller cam group: cam_i2c2_scl (12) function: cam_i2c2 (8)\n     type: MUX_GROUP controller cam group: cam_i2c2_sda (13) function: cam_i2c2 (8)\n     type: CONFIGS_GROUP controller cam group cam_i2c2_scl (12)config 00000109\n     type: CONFIGS_GROUP controller cam group cam_i2c2_sda (13)config 00000109\n device: 39450000.i2c current state: default\n state: default\n     type: MUX_GROUP controller cam group: cam_i2c3_scl (14) function: cam_i2c3 (9)\n     type: MUX_GROUP controller cam group: cam_i2c3_sda (15) function: cam_i2c3 (9)\n     type: CONFIGS_GROUP controller cam group cam_i2c3_scl (14)config 00000109\n     type: CONFIGS_GROUP controller cam group cam_i2c3_sda (15)config 00000109\n\n ...\n\n root@ubuntu:~#\n"})}),"\n",(0,r.jsx)(i.h4,{id:"syskerneldebugpinctrlpinctrl-maps",children:"/sys/kernel/debug/pinctrl/pinctrl-maps"}),"\n",(0,r.jsx)(i.p,{children:"View the pin maps in use, including the controller each used pin belongs to, which devices are using them, under which pinctrl state, which pin group they belong to, and what function they are multiplexed to."}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-{.shell}",children:"root@ubuntu:~# cat /sys/kernel/debug/pinctrl/pinctrl-maps\nPinctrl maps:\ndevice 39420000.i2c\nstate default\ntype MUX_GROUP (2)\ncontrolling device 370f3000.pinctrl\ngroup cam_i2c0_scl\nfunction cam_i2c0\n\ndevice 39420000.i2c\nstate default\ntype MUX_GROUP (2)\ncontrolling device 370f3000.pinctrl\ngroup cam_i2c0_sda\nfunction cam_i2c0\n\ndevice 39420000.i2c\nstate default\ntype CONFIGS_GROUP (4)\ncontrolling device 370f3000.pinctrl\ngroup cam_i2c0_scl\nconfig 00000109\n\n...\n\nroot@ubuntu:~#\n"})}),"\n",(0,r.jsx)(i.h4,{id:"syskerneldebugpinctrlpinctrl_devgpio-ranges",children:"/sys/kernel/debug/pinctrl/<pinctrl_dev>/gpio-ranges"}),"\n",(0,r.jsxs)(i.p,{children:["View the mapping relationship between pin numbers in the pinctrl subsystem and GPIO numbers in the GPIO subsystem. The following command uses ",(0,r.jsx)(i.code,{children:"<pinctrl_dev>"})," as ",(0,r.jsx)(i.code,{children:"39ff5000.pinctrl-peri"})," for illustration."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-{.shell}",children:"root@ubuntu:~# cat /sys/kernel/debug/pinctrl/39ff5000.pinctrl-peri/gpio-ranges\nGPIO ranges handled:\n0: 394f0000.gpio GPIOS [480 - 511] PINS [2 - 33]\n0: 39500000.gpio GPIOS [474 - 479] PINS [34 - 39]\nroot@ubuntu:~#\n"})}),"\n",(0,r.jsx)(i.h4,{id:"syskerneldebugpinctrlpinctrl_devpinconf-pins",children:"/sys/kernel/debug/pinctrl/<pinctrl_dev>/pinconf-pins"}),"\n",(0,r.jsxs)(i.p,{children:["View information for each pin, including register addresses and values for pinmux and pinconf, whether voltage level shifting is supported, and the voltage value. The following command uses ",(0,r.jsx)(i.code,{children:"<pinctrl_dev>"})," as ",(0,r.jsx)(i.code,{children:"39ff5000.pinctrl-peri"})," for illustration."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-{.shell}",children:"root@ubuntu:~# cat /sys/kernel/debug/pinctrl/39ff5000.pinctrl-peri/pinconf-pins\nPin config settings per pin\nFormat: pin (name): configs\npin 0 (UFS_REF_CLK): type 2, pwr 0, funs:(0,20,20,20,), mux(39ff5060: 0), cfg(39ff6010: 31), pwr(39ff5040: 1)\npin 1 (UFS_RSTO): type 2, pwr 0, funs:(0,20,20,20,), mux(39ff5064: 0), cfg(39ff6014: 31), pwr(39ff5040: 1)\npin 2 (EMAC_MDC_HSI0): type 2, pwr 0, funs:(1,2,20,3,), mux(39ff5068: 0), cfg(39ff6018: 31), pwr(39ff5040: 1)\npin 3 (EMAC_MDIO_HSI0): type 3, pwr 0, funs:(1,20,20,3,), mux(39ff506c: 0), cfg(39ff601c: 32), pwr(39ff5040: 1)\npin 4 (SD_CLK): type 0, pwr 1, funs:(4,20,20,3,), mux(39ff5070: 0), cfg(39ff6020: 58), pwr(39ff5040: 1)\npin 5 (SD_CMD): type 0, pwr 1, funs:(4,20,20,3,), mux(39ff5074: 0), cfg(39ff6024: 58), pwr(39ff5040: 1)\npin 6 (SD_DATA0): type 4, pwr 1, funs:(4,20,20,3,), mux(39ff5078: 0), cfg(39ff6028: 58), pwr(39ff5040: 1)\npin 7 (SD_DATA1): type 4, pwr 1, funs:(4,20,20,3,), mux(39ff507c: 0), cfg(39ff602c: 58), pwr(39ff5040: 1)\npin 8 (SD_DATA2): type 4, pwr 1, funs:(4,20,20,3,), mux(39ff5080: 0), cfg(39ff6030: 58), pwr(39ff5040: 1)\npin 9 (SD_DATA3): type 4, pwr 1, funs:(4,20,20,3,), mux(39ff5084: 0), cfg(39ff6034: 58), pwr(39ff5040: 1)\npin 10 (SD_DATA4): type 4, pwr 1, funs:(4,20,20,3,), mux(39ff5088: 0), cfg(39ff6038: 58), pwr(39ff5040: 1)\npin 11 (SD_DATA5): type 4, pwr 1, funs:(4,20,20,3,), mux(39ff508c: 0), cfg(39ff603c: 58), pwr(39ff5040: 1)\npin 12 (SD_DATA6): type 4, pwr 1, funs:(4,20,20,3,), mux(39ff5090: 0), cfg(39ff6040: 58), pwr(39ff5040: 1)\npin 13 (SD_DATA7): type 4, pwr 1, funs:(4,20,20,3,), mux(39ff5094: 0), cfg(39ff6044: 58), pwr(39ff5040: 1)\npin 14 (SD_DATA_STRB): type 4, pwr 1, funs:(4,20,20,3,), mux(39ff5098: 0), cfg(39ff6048: 18), pwr(39ff5040: 1)\npin 15 (SD_DET_N): type 2, pwr 0, funs:(4,5,20,3,), mux(39ff509c: 3), cfg(39ff604c: 50), pwr(39ff5040: 1)\npin 16 (SD_WPROT): type 3, pwr 0, funs:(4,6,20,3,), mux(39ff50a0: 0), cfg(39ff6050: 50), pwr(39ff5040: 1)\npin 17 (I2C5_SCL): type 2, pwr 0, funs:(7,8,20,3,), mux(39ff50a4: 0), cfg(39ff6054: 31), pwr(39ff5040: 1)\npin 18 (I2C5_SDA): type 3, pwr 0, funs:(7,9,20,3,), mux(39ff50a8: 0), cfg(39ff6058: 32), pwr(39ff5040: 1)\npin 19 (SPI0_CSN0): type 2, pwr 0, funs:(10,20,20,3,), mux(39ff50ac: 0), cfg(39ff605c: 31), pwr(39ff5040: 1)\npin 20 (SPI0_CSN1): type 3, pwr 0, funs:(10,11,20,3,), mux(39ff50b0: 0), cfg(39ff6060: 32), pwr(39ff5040: 1)\npin 21 (SPI0_MOSI): type 3, pwr 0, funs:(10,20,20,3,), mux(39ff50b4: 0), cfg(39ff6064: 32), pwr(39ff5040: 1)\npin 22 (SPI0_MISO): type 3, pwr 0, funs:(10,20,20,3,), mux(39ff50b8: 0), cfg(39ff6068: 32), pwr(39ff5040: 1)\npin 23 (SPI0_SCLK): type 2, pwr 0, funs:(10,20,20,3,), mux(39ff50bc: 0), cfg(39ff606c: 31), pwr(39ff5040: 1)\npin 24 (SPI1_CSN0): type 3, pwr 0, funs:(12,20,20,3,), mux(39ff50c0: 0), cfg(39ff6070: 32), pwr(39ff5040: 1)\npin 25 (SPI1_CSN1): type 3, pwr 0, funs:(12,13,20,3,), mux(39ff50c4: 0), cfg(39ff6074: 32), pwr(39ff5040: 1)\npin 26 (SPI1_MOSI): type 3, pwr 0, funs:(12,20,20,3,), mux(39ff50c8: 0), cfg(39ff6078: 32), pwr(39ff5040: 1)\npin 27 (SPI1_MISO): type 3, pwr 0, funs:(12,20,20,3,), mux(39ff50cc: 0), cfg(39ff607c: 32), pwr(39ff5040: 1)\npin 28 (SPI1_SCLK): type 3, pwr 0, funs:(12,20,20,3,), mux(39ff50d0: 0), cfg(39ff6080: 32), pwr(39ff5040: 1)\npin 29 (UART0_TXD): type 3, pwr 0, funs:(14,20,20,3,), mux(39ff50d4: 0), cfg(39ff6084: 32), pwr(39ff5040: 1)\npin 30 (UART0_RXD): type 3, pwr 0, funs:(14,20,20,3,), mux(39ff50d8: 0), cfg(39ff6088: 32), pwr(39ff5040: 1)\npin 31 (UART0_RTSN): type 2, pwr 0, funs:(14,15,20,3,), mux(39ff50dc: 0), cfg(39ff608c: 31), pwr(39ff5040: 1)\npin 32 (UART0_CTSN): type 3, pwr 0, funs:(14,20,20,3,), mux(39ff50e0: 0), cfg(39ff6090: 32), pwr(39ff5040: 1)\npin 33 (UART1_TXD): type 3, pwr 0, funs:(16,17,20,3,), mux(39ff50e4: 0), cfg(39ff6094: 32), pwr(39ff5040: 1)\npin 34 (UART1_RXD): type 3, pwr 0, funs:(16,18,20,3,), mux(39ff50e8: 0), cfg(39ff6098: 32), pwr(39ff5040: 1)\npin 35 (PCM0_MCLK): type 2, pwr 0, funs:(19,20,20,3,), mux(39ff50ec: 3), cfg(39ff609c: 32), pwr(39ff5040: 1)\npin 36 (PCM0_BCLK): type 3, pwr 0, funs:(19,20,20,3,), mux(39ff50f0: 3), cfg(39ff60a0: 32), pwr(39ff5040: 1)\npin 37 (PCM0_FSYNC): type 3, pwr 0, funs:(19,20,20,3,), mux(39ff50f4: 3), cfg(39ff60a4: 32), pwr(39ff5040: 1)\npin 38 (PCM0_DATA0): type 3, pwr 0, funs:(19,20,20,3,), mux(39ff50f8: 3), cfg(39ff60a8: 32), pwr(39ff5040: 1)\npin 39 (PCM0_DATA1): type 2, pwr 0, funs:(19,20,20,3,), mux(39ff50fc: 3), cfg(39ff60ac: 32), pwr(39ff5040: 1)\n"})}),"\n",(0,r.jsx)(i.h4,{id:"syskerneldebugpinctrlpinctrl_devpinconf-groups",children:"/sys/kernel/debug/pinctrl/<pinctrl_dev>/pinconf-groups"}),"\n",(0,r.jsxs)(i.p,{children:["View electrical configuration attributes for each pin, such as pull-up/pull-down resistors, input enable, Schmitt trigger, slew rate, etc. The following command uses ",(0,r.jsx)(i.code,{children:"<pinctrl_dev>"})," as ",(0,r.jsx)(i.code,{children:"39ff5000.pinctrl-peri"})," for illustration."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-{.shell}",children:"root@ubuntu:~# cat /sys/kernel/debug/pinctrl/39ff5000.pinctrl-peri/pinconf-groups\nPin config settings per pin group\nFormat: group (name): configs\n0 (peri_ufs_ref_clk): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), output drive strength (1 mA), input enabled, input schmitt enabled, slew rate (0)\n1 (peri_ufs_rsto): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), output drive strength (1 mA), input enabled, input schmitt enabled, slew rate (0)\n2 (peri_emac_mdc_hsi0): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), output drive strength (1 mA), input enabled, input schmitt enabled, slew rate (0)\n3 (peri_emac_mdio_hsi0): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled\n4 (peri_sd_clk): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), output drive strength (0 mA), input enabled, input schmitt enabled, pin low power (1 mode), slew rate (0)\n5 (peri_sd_cmd): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), output drive strength (0 mA), input enabled, input schmitt enabled, pin low power (1 mode), slew rate (0)\n6 (peri_sd_data0): input bias disabled, input bias pull down (1 ohms), input bias pull up (0 ohms), input enabled, pin low power (1 mode)\n7 (peri_sd_data1): input bias disabled, input bias pull down (1 ohms), input bias pull up (0 ohms), input enabled, pin low power (1 mode)\n8 (peri_sd_data2): input bias disabled, input bias pull down (1 ohms), input bias pull up (0 ohms), input enabled, pin low power (1 mode)\n9 (peri_sd_data3): input bias disabled, input bias pull down (1 ohms), input bias pull up (0 ohms), input enabled, pin low power (1 mode)\n10 (peri_sd_data4): input bias disabled, input bias pull down (1 ohms), input bias pull up (0 ohms), input enabled, pin low power (1 mode)\n11 (peri_sd_data5): input bias disabled, input bias pull down (1 ohms), input bias pull up (0 ohms), input enabled, pin low power (1 mode)\n12 (peri_sd_data6): input bias disabled, input bias pull down (1 ohms), input bias pull up (0 ohms), input enabled, pin low power (1 mode)\n13 (peri_sd_data7): input bias disabled, input bias pull down (1 ohms), input bias pull up (0 ohms), input enabled, pin low power (1 mode)\n14 (peri_sd_data_strb): input bias disabled, input bias pull down (0 ohms), input bias pull up (0 ohms), input enabled, pin low power (1 mode)\n15 (peri_sd_det_n): input bias disabled, input bias pull down (1 ohms), input bias pull up (0 ohms), output drive strength (0 mA), input enabled, input schmitt enabled, slew rate (0)\n16 (peri_sd_wprot): input bias disabled, input bias pull down (1 ohms), input bias pull up (0 ohms), input enabled\n17 (peri_i2c5_scl): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), output drive strength (1 mA), input enabled, input schmitt enabled, slew rate (0)\n18 (peri_i2c5_sda): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled\n19 (peri_spi0_csn0): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), output drive strength (1 mA), input enabled, input schmitt enabled, slew rate (0)\n20 (peri_spi0_csn1): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled\n21 (peri_spi0_mosi): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled\n22 (peri_spi0_miso): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled\n23 (peri_spi0_sclk): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), output drive strength (1 mA), input enabled, input schmitt enabled, slew rate (0)\n24 (peri_spi1_csn0): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled\n25 (peri_spi1_csn1): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled\n26 (peri_spi1_mosi): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled\n27 (peri_spi1_miso): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled\n28 (peri_spi1_sclk): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled\n29 (peri_uart0_txd): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled\n30 (peri_uart0_rxd): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled\n31 (peri_uart0_rtsn): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), output drive strength (1 mA), input enabled, input schmitt enabled, slew rate (0)\n32 (peri_uart0_ctsn): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled\n33 (peri_uart1_txd): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled\n34 (peri_uart1_rxd): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled\n35 (peri_pcm0_mclk): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), output drive strength (2 mA), input enabled, input schmitt enabled, slew rate (0)\n36 (peri_pcm0_bclk): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled\n37 (peri_pcm0_fsync): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled\n38 (peri_pcm0_data0): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled\n39 (peri_pcm0_data1): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), output drive strength (2 mA), input enabled, input schmitt enabled, slew rate (0)\n"})}),"\n",(0,r.jsx)(i.h4,{id:"syskerneldebugpinctrlpinctrl_devpingroups",children:"/sys/kernel/debug/pinctrl/<pinctrl_dev>/pingroups"}),"\n",(0,r.jsxs)(i.p,{children:["View pin configurations within each pin group. On the S100, each individual pin forms its own group. The following command uses ",(0,r.jsx)(i.code,{children:"<pinctrl_dev>"})," as ",(0,r.jsx)(i.code,{children:"39ff5000.pinctrl-peri"})," for illustration."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-{.shell}",children:"root@ubuntu:~# cat /sys/kernel/debug/pinctrl/39ff5000.pinctrl-peri/pingroups\nregistered pin groups:\ngroup: peri_ufs_ref_clk\npin 0 (UFS_REF_CLK)\n\ngroup: peri_ufs_rsto\npin 1 (UFS_RSTO)\n\ngroup: peri_emac_mdc_hsi0\npin 2 (EMAC_MDC_HSI0)\n\ngroup: peri_emac_mdio_hsi0\npin 3 (EMAC_MDIO_HSI0)\n\ngroup: peri_sd_clk\npin 4 (SD_CLK)\n\ngroup: peri_sd_cmd\npin 5 (SD_CMD)\n\ngroup: peri_sd_data0\npin 6 (SD_DATA0)\n\ngroup: peri_sd_data1\npin 7 (SD_DATA1)\n\ngroup: peri_sd_data2\npin 8 (SD_DATA2)\n\ngroup: peri_sd_data3\npin 9 (SD_DATA3)\n\ngroup: peri_sd_data4\npin 10 (SD_DATA4)\n\ngroup: peri_sd_data5\npin 11 (SD_DATA5)\n\ngroup: peri_sd_data6\npin 12 (SD_DATA6)\n\ngroup: peri_sd_data7\npin 13 (SD_DATA7)\n\ngroup: peri_sd_data_strb\npin 14 (SD_DATA_STRB)\n\ngroup: peri_sd_det_n\npin 15 (SD_DET_N)\n\ngroup: peri_sd_wprot\npin 16 (SD_WPROT)\n\ngroup: peri_i2c5_scl\npin 17 (I2C5_SCL)\n\ngroup: peri_i2c5_sda\npin 18 (I2C5_SDA)\n\ngroup: peri_spi0_csn0\npin 19 (SPI0_CSN0)\n\ngroup: peri_spi0_csn1\npin 20 (SPI0_CSN1)\n\ngroup: peri_spi0_mosi\npin 21 (SPI0_MOSI)\n\ngroup: peri_spi0_miso\npin 22 (SPI0_MISO)\n\ngroup: peri_spi0_sclk\npin 23 (SPI0_SCLK)\n\ngroup: peri_spi1_csn0\npin 24 (SPI1_CSN0)\n\ngroup: peri_spi1_csn1\npin 25 (SPI1_CSN1)\n\ngroup: peri_spi1_mosi\npin 26 (SPI1_MOSI)\n\ngroup: peri_spi1_miso\npin 27 (SPI1_MISO)\n\ngroup: peri_spi1_sclk\npin 28 (SPI1_SCLK)\n\ngroup: peri_uart0_txd\npin 29 (UART0_TXD)\n\ngroup: peri_uart0_rxd\npin 30 (UART0_RXD)\n\ngroup: peri_uart0_rtsn\npin 31 (UART0_RTSN)\n\ngroup: peri_uart0_ctsn\npin 32 (UART0_CTSN)\n\ngroup: peri_uart1_txd\npin 33 (UART1_TXD)\n\ngroup: peri_uart1_rxd\npin 34 (UART1_RXD)\n\ngroup: peri_pcm0_mclk\npin 35 (PCM0_MCLK)\n\ngroup: peri_pcm0_bclk\npin 36 (PCM0_BCLK)\n\ngroup: peri_pcm0_fsync\npin 37 (PCM0_FSYNC)\n\ngroup: peri_pcm0_data0\npin 38 (PCM0_DATA0)\n\ngroup: peri_pcm0_data1\npin 39 (PCM0_DATA1)\n\nroot@ubuntu:~#\n"})}),"\n",(0,r.jsx)(i.h4,{id:"syskerneldebugpinctrlpinctrl_devpinmux-functions",children:"/sys/kernel/debug/pinctrl/<pinctrl_dev>/pinmux-functions"}),"\n",(0,r.jsxs)(i.p,{children:["Pins are grouped by function. The following command uses ",(0,r.jsx)(i.code,{children:"<pinctrl_dev>"})," as ",(0,r.jsx)(i.code,{children:"39ff5000.pinctrl-peri"})," as an example."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-{.shell}",children:"root@ubuntu:~# cat /sys/kernel/debug/pinctrl/39ff5000.pinctrl-peri/pinmux-functions\nfunction 0: peri_ufs, groups = [ peri_ufs_ref_clk peri_ufs_rsto ]\nfunction 1: peri_emac, groups = [ peri_emac_mdc_hsi0 peri_emac_mdio_hsi0 ]\nfunction 2: peri_clkout, groups = [ peri_emac_mdc_hsi0 ]\nfunction 3: peri_gpio, groups = [ peri_emac_mdc_hsi0 peri_emac_mdio_hsi0 peri_sd_clk peri_sd_cmd peri_sd_data0 peri_sd_data1 peri_sd_data2 peri_sd_data3 peri_sd_data4 peri_sd_data5 peri_sd_data6 peri_sd_data7 peri_sd_data_strb peri_sd_det_n peri_sd_wprot peri_i2c5_scl peri_i2c5_sda peri_spi0_csn0 peri_spi0_csn1 peri_spi0_mosi peri_spi0_miso peri_spi0_sclk peri_spi1_csn0 peri_spi1_csn1 peri_spi1_mosi peri_spi1_miso peri_spi1_sclk peri_uart0_txd peri_uart0_rxd peri_uart0_rtsn peri_uart0_ctsn peri_uart1_txd peri_uart1_rxd peri_pcm0_mclk peri_pcm0_bclk peri_pcm0_fsync peri_pcm0_data0 peri_pcm0_data1 ]\nfunction 4: peri_sd, groups = [ peri_sd_clk peri_sd_cmd peri_sd_data0 peri_sd_data1 peri_sd_data2 peri_sd_data3 peri_sd_data4 peri_sd_data5 peri_sd_data6 peri_sd_data7 peri_sd_data_strb peri_sd_det_n peri_sd_wprot ]\nfunction 5: peri_pcm1_bclk, groups = [ peri_sd_det_n ]\nfunction 6: peri_pcm1_fsync, groups = [ peri_sd_wprot ]\nfunction 7: peri_i2c5, groups = [ peri_i2c5_scl peri_i2c5_sda ]\nfunction 8: peri_uart2_rxd, groups = [ peri_i2c5_scl ]\nfunction 9: peri_uart2_txd, groups = [ peri_i2c5_sda ]\nfunction 10: peri_spi0, groups = [ peri_spi0_csn0 peri_spi0_csn1 peri_spi0_mosi peri_spi0_miso peri_spi0_sclk ]\nfunction 11: peri_uart3_rxd, groups = [ peri_spi0_csn1 ]\nfunction 12: peri_spi1, groups = [ peri_spi1_csn0 peri_spi1_csn1 peri_spi1_mosi peri_spi1_miso peri_spi1_sclk ]\nfunction 13: peri_uart3_txd, groups = [ peri_spi1_csn1 ]\nfunction 14: peri_uart0, groups = [ peri_uart0_txd peri_uart0_rxd peri_uart0_rtsn peri_uart0_ctsn ]\nfunction 15: peri_pcm1_mclk, groups = [ peri_uart0_rtsn ]\nfunction 16: peri_uart1, groups = [ peri_uart1_txd peri_uart1_rxd ]\nfunction 17: peri_pcm1_data1, groups = [ peri_uart1_txd ]\nfunction 18: peri_pcm1_data0, groups = [ peri_uart1_rxd ]\nfunction 19: peri_pcm0, groups = [ peri_pcm0_mclk peri_pcm0_bclk peri_pcm0_fsync peri_pcm0_data0 peri_pcm0_data1 ]\nroot@ubuntu:~#\n"})}),"\n",(0,r.jsx)(i.h4,{id:"syskerneldebugpinctrlpinctrl_devpinmux-pins",children:"/sys/kernel/debug/pinctrl/<pinctrl_dev>/pinmux-pins"}),"\n",(0,r.jsxs)(i.p,{children:["Check which pins are occupied and whether they are claimed by MUX or GPIO. The following command uses ",(0,r.jsx)(i.code,{children:"<pinctrl_dev>"})," as ",(0,r.jsx)(i.code,{children:"39ff5000.pinctrl-peri"})," as an example."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-{.shell}",children:"root@ubuntu:~# cat /sys/kernel/debug/pinctrl/39ff5000.pinctrl-peri/pinmux-pins\nPinmux settings per pin\nFormat: pin (name): mux_owner gpio_owner hog?\npin 0 (UFS_REF_CLK): 39410000.ufs (GPIO UNCLAIMED) function peri_ufs group peri_ufs_ref_clk\npin 1 (UFS_RSTO): 39410000.ufs (GPIO UNCLAIMED) function peri_ufs group peri_ufs_rsto\npin 2 (EMAC_MDC_HSI0): 330f0000.ethernet (GPIO UNCLAIMED) function peri_emac group peri_emac_mdc_hsi0\npin 3 (EMAC_MDIO_HSI0): 330f0000.ethernet (GPIO UNCLAIMED) function peri_emac group peri_emac_mdio_hsi0\npin 4 (SD_CLK): (MUX UNCLAIMED) (GPIO UNCLAIMED)\npin 5 (SD_CMD): (MUX UNCLAIMED) (GPIO UNCLAIMED)\npin 6 (SD_DATA0): (MUX UNCLAIMED) (GPIO UNCLAIMED)\npin 7 (SD_DATA1): (MUX UNCLAIMED) (GPIO UNCLAIMED)\npin 8 (SD_DATA2): (MUX UNCLAIMED) (GPIO UNCLAIMED)\npin 9 (SD_DATA3): (MUX UNCLAIMED) (GPIO UNCLAIMED)\npin 10 (SD_DATA4): (MUX UNCLAIMED) (GPIO UNCLAIMED)\npin 11 (SD_DATA5): (MUX UNCLAIMED) (GPIO UNCLAIMED)\npin 12 (SD_DATA6): (MUX UNCLAIMED) (GPIO UNCLAIMED)\npin 13 (SD_DATA7): (MUX UNCLAIMED) (GPIO UNCLAIMED)\npin 14 (SD_DATA_STRB): (MUX UNCLAIMED) (GPIO UNCLAIMED)\npin 15 (SD_DET_N): (MUX UNCLAIMED) (GPIO UNCLAIMED)\npin 16 (SD_WPROT): (MUX UNCLAIMED) (GPIO UNCLAIMED)\npin 17 (I2C5_SCL): 39470000.i2c (GPIO UNCLAIMED) function peri_i2c5 group peri_i2c5_scl\npin 18 (I2C5_SDA): 39470000.i2c (GPIO UNCLAIMED) function peri_i2c5 group peri_i2c5_sda\npin 19 (SPI0_CSN0): 39800000.spi (GPIO UNCLAIMED) function peri_spi0 group peri_spi0_csn0\npin 20 (SPI0_CSN1): 39800000.spi (GPIO UNCLAIMED) function peri_spi0 group peri_spi0_csn1\npin 21 (SPI0_MOSI): 39800000.spi (GPIO UNCLAIMED) function peri_spi0 group peri_spi0_mosi\npin 22 (SPI0_MISO): 39800000.spi (GPIO UNCLAIMED) function peri_spi0 group peri_spi0_miso\npin 23 (SPI0_SCLK): 39800000.spi (GPIO UNCLAIMED) function peri_spi0 group peri_spi0_sclk\npin 24 (SPI1_CSN0): 39810000.spi (GPIO UNCLAIMED) function peri_spi1 group peri_spi1_csn0\npin 25 (SPI1_CSN1): 39810000.spi 394f0000.gpio:503 function peri_spi1 group peri_spi1_csn1\npin 26 (SPI1_MOSI): 39810000.spi (GPIO UNCLAIMED) function peri_spi1 group peri_spi1_mosi\npin 27 (SPI1_MISO): 39810000.spi (GPIO UNCLAIMED) function peri_spi1 group peri_spi1_miso\npin 28 (SPI1_SCLK): 39810000.spi (GPIO UNCLAIMED) function peri_spi1 group peri_spi1_sclk\npin 29 (UART0_TXD): 394a0000.uart (GPIO UNCLAIMED) function peri_uart0 group peri_uart0_txd\npin 30 (UART0_RXD): 394a0000.uart (GPIO UNCLAIMED) function peri_uart0 group peri_uart0_rxd\npin 31 (UART0_RTSN): 394a0000.uart (GPIO UNCLAIMED) function peri_uart0 group peri_uart0_rtsn\npin 32 (UART0_CTSN): 394a0000.uart (GPIO UNCLAIMED) function peri_uart0 group peri_uart0_ctsn\npin 33 (UART1_TXD): 394b0000.uart0 (GPIO UNCLAIMED) function peri_uart1 group peri_uart1_txd\npin 34 (UART1_RXD): 394b0000.uart0 (GPIO UNCLAIMED) function peri_uart1 group peri_uart1_rxd\npin 35 (PCM0_MCLK): (MUX UNCLAIMED) (GPIO UNCLAIMED)\npin 36 (PCM0_BCLK): (MUX UNCLAIMED) (GPIO UNCLAIMED)\npin 37 (PCM0_FSYNC): (MUX UNCLAIMED) (GPIO UNCLAIMED)\npin 38 (PCM0_DATA0): (MUX UNCLAIMED) (GPIO UNCLAIMED)\npin 39 (PCM0_DATA1): (MUX UNCLAIMED) (GPIO UNCLAIMED)\n"})}),"\n",(0,r.jsx)(i.h4,{id:"syskerneldebugpinctrl_devpinmux-select",children:"/sys/kernel/debug/<pinctrl_dev>/pinmux-select"}),"\n",(0,r.jsxs)(i.p,{children:["You can query the required group and function for each pin via the ",(0,r.jsx)(i.code,{children:"pinmux-functions"})," node,",(0,r.jsx)(i.br,{}),"\n","and configure pinmux via the ",(0,r.jsx)(i.code,{children:"pinmux-select"})," node using the parameters ",(0,r.jsx)(i.code,{children:"group name"})," and ",(0,r.jsx)(i.code,{children:"func name"}),".",(0,r.jsx)(i.br,{}),"\n","The following commands use ",(0,r.jsx)(i.code,{children:"<pinctrl_dev>"})," as ",(0,r.jsx)(i.code,{children:"39ff5000.pinctrl-peri"})," as an example."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-{.shell}",children:'cd /sys/kernel/debug/pinctrl/39ff5000.pinctrl-peri/\necho  "peri_spi0_csn0 peri_gpio"  > pinmux-select\necho  "peri_i2c5_scl peri_i2c5"  > pinmux-select\necho  "peri_i2c5_sda peri_i2c5"  > pinmux-select\n'})}),"\n",(0,r.jsx)(i.h4,{id:"syskerneldebugpinctrl_devpins",children:"/sys/kernel/debug/<pinctrl_dev>/pins"}),"\n",(0,r.jsxs)(i.p,{children:["View information for each pin, including the pin name and its corresponding GPIO pin. The following command uses ",(0,r.jsx)(i.code,{children:"<pinctrl_dev>"})," as ",(0,r.jsx)(i.code,{children:"39ff5000.pinctrl-peri"})," as an example."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-{.shell}",children:"root@ubuntu:~# cat /sys/kernel/debug/pinctrl/39ff5000.pinctrl-peri/pins\nregistered pins: 40\npin 0 (UFS_REF_CLK) 0:?\npin 1 (UFS_RSTO) 0:?\npin 2 (EMAC_MDC_HSI0) 0:394f0000.gpio\npin 3 (EMAC_MDIO_HSI0) 1:394f0000.gpio\npin 4 (SD_CLK) 2:394f0000.gpio\npin 5 (SD_CMD) 3:394f0000.gpio\npin 6 (SD_DATA0) 4:394f0000.gpio\npin 7 (SD_DATA1) 5:394f0000.gpio\npin 8 (SD_DATA2) 6:394f0000.gpio\npin 9 (SD_DATA3) 7:394f0000.gpio\npin 10 (SD_DATA4) 8:394f0000.gpio\npin 11 (SD_DATA5) 9:394f0000.gpio\npin 12 (SD_DATA6) 10:394f0000.gpio\npin 13 (SD_DATA7) 11:394f0000.gpio\npin 14 (SD_DATA_STRB) 12:394f0000.gpio\npin 15 (SD_DET_N) 13:394f0000.gpio\npin 16 (SD_WPROT) 14:394f0000.gpio\npin 17 (I2C5_SCL) 15:394f0000.gpio\npin 18 (I2C5_SDA) 16:394f0000.gpio\npin 19 (SPI0_CSN0) 17:394f0000.gpio\npin 20 (SPI0_CSN1) 18:394f0000.gpio\npin 21 (SPI0_MOSI) 19:394f0000.gpio\npin 22 (SPI0_MISO) 20:394f0000.gpio\npin 23 (SPI0_SCLK) 21:394f0000.gpio\npin 24 (SPI1_CSN0) 22:394f0000.gpio\npin 25 (SPI1_CSN1) 23:394f0000.gpio\npin 26 (SPI1_MOSI) 24:394f0000.gpio\npin 27 (SPI1_MISO) 25:394f0000.gpio\npin 28 (SPI1_SCLK) 26:394f0000.gpio\npin 29 (UART0_TXD) 27:394f0000.gpio\npin 30 (UART0_RXD) 28:394f0000.gpio\npin 31 (UART0_RTSN) 29:394f0000.gpio\npin 32 (UART0_CTSN) 30:394f0000.gpio\npin 33 (UART1_TXD) 31:394f0000.gpio\npin 34 (UART1_RXD) 0:39500000.gpio\npin 35 (PCM0_MCLK) 1:39500000.gpio\npin 36 (PCM0_BCLK) 2:39500000.gpio\npin 37 (PCM0_FSYNC) 3:39500000.gpio\npin 38 (PCM0_DATA0) 4:39500000.gpio\npin 39 (PCM0_DATA1) 5:39500000.gpio\nroot@ubuntu:~#\n"})})]})}function u(n={}){const{wrapper:i}={...(0,t.R)(),...n.components};return i?(0,r.jsx)(i,{...n,children:(0,r.jsx)(o,{...n})}):o(n)}}}]);