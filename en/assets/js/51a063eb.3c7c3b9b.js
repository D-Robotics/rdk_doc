"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[23514],{28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var t=i(96540);const r={},s=t.createContext(r);function o(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(s.Provider,{value:n},e.children)}},95151:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>p,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"Basic_Application/03_40pin_user_guide/pwm","title":"3.3.3 PWM Application","description":"The Hobot.GPIO library supports PWM only on pins equipped with an additional hardware PWM controller. Unlike the RPi.GPIO library, Hobot.GPIO does not implement software-emulated PWM. The RDK S100 40-pin hardware supports two LPWM channels.","source":"@site/i18n/en/docusaurus-plugin-content-docs-docs_s/current/03_Basic_Application/03_40pin_user_guide/03_pwm.md","sourceDirName":"03_Basic_Application/03_40pin_user_guide","slug":"/Basic_Application/03_40pin_user_guide/pwm","permalink":"/rdk_doc/en/rdk_s/Basic_Application/03_40pin_user_guide/pwm","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1769771560000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"3.3.2 GPIO Application","permalink":"/rdk_doc/en/rdk_s/Basic_Application/03_40pin_user_guide/gpio"},"next":{"title":"3.3.4 UART Application","permalink":"/rdk_doc/en/rdk_s/Basic_Application/03_40pin_user_guide/uart"}}');var r=i(74848),s=i(28453);const o={sidebar_position:3},a="3.3.3 PWM Application",p={},c=[{value:"Test Code",id:"test-code",level:3}];function l(e){const n={admonition:"admonition",code:"code",h1:"h1",h3:"h3",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"333-pwm-application",children:"3.3.3 PWM Application"})}),"\n",(0,r.jsx)(n.p,{children:"The Hobot.GPIO library supports PWM only on pins equipped with an additional hardware PWM controller. Unlike the RPi.GPIO library, Hobot.GPIO does not implement software-emulated PWM. The RDK S100 40-pin hardware supports two LPWM channels."}),"\n",(0,r.jsxs)(n.p,{children:["Please refer to ",(0,r.jsx)(n.code,{children:"/app/40pin_samples/simple_pwm.py"})," for detailed instructions on how to use PWM channels."]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["The pins mentioned below are provided for illustrative purposes only. Port values may differ across platforms; please verify against your actual hardware setup. Alternatively, you can directly use the code under the ",(0,r.jsx)(n.code,{children:"/app/40pin_samples/"})," directory, which has already been verified on the actual board."]})}),"\n",(0,r.jsx)(n.h3,{id:"test-code",children:"Test Code"}),"\n",(0,r.jsxs)(n.p,{children:["Open the PWM channel specified by ",(0,r.jsx)(n.code,{children:"output_pin"})," with an initial duty cycle of 25%. Increase the duty cycle by 5% every 0.25 seconds until it reaches 100%, then decrease it by 5% every 0.25 seconds. While the waveform is being output normally, you can measure the output signal using an oscilloscope or a logic analyzer to observe the waveform."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"#!/usr/bin/env python3\nimport sys\nimport signal\nimport Hobot.GPIO as GPIO\nimport time\n\ndef signal_handler(signal, frame):\n    sys.exit(0)\n\n# Pins supporting PWM: 32 and 33. When using PWM, ensure these pins are not occupied by other functions.\noutput_pin = 33\n\nGPIO.setwarnings(False)\n\ndef main():\n    # Pin Setup:\n    # Board pin-numbering scheme\n    GPIO.setmode(GPIO.BOARD)\n    # Supported frequency range: 48 kHz ~ 192 MHz\n    p = GPIO.PWM(output_pin, 48000)\n    # Initial duty cycle: 25%. Increase by 5% every 0.25 seconds until reaching 100%, then decrease by 5% every 0.25 seconds.\n    val = 25\n    incr = 5\n    p.ChangeDutyCycle(val)\n    p.start(val)\n\n    print(\"PWM running. Press CTRL+C to exit.\")\n    try:\n        while True:\n            time.sleep(0.25)\n            if val >= 100:\n                incr = -incr\n            if val <= 0:\n                incr = -incr\n            val += incr\n            p.ChangeDutyCycle(val)\n    finally:\n        p.stop()\n        GPIO.cleanup()\n\nif __name__ == '__main__':\n    signal.signal(signal.SIGINT, signal_handler)\n    main()\n\n"})})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);