"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[57003],{28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>s});var a=i(96540);const t={},r=a.createContext(t);function o(e){const n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),a.createElement(r.Provider,{value:n},e.children)}},41745:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"Basic_Application/pydev_demo_sample/mipi_camera_sample","title":"3.3.9 MIPI Camera Sample Introduction","description":"Sample Overview","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/03_Basic_Application/03_pydev_demo_sample/03_mipi_camera_sample.md","sourceDirName":"03_Basic_Application/03_pydev_demo_sample","slug":"/Basic_Application/pydev_demo_sample/mipi_camera_sample","permalink":"/rdk_doc/en/Basic_Application/pydev_demo_sample/mipi_camera_sample","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1770786802000,"sidebarPosition":9,"frontMatter":{"sidebar_position":9},"sidebar":"tutorialSidebar","previous":{"title":"3.3.8 USB Camera Sample Introduction","permalink":"/rdk_doc/en/Basic_Application/pydev_demo_sample/usb_camera_sample"},"next":{"title":"3.3.10 Web Display Camera Example Introduction","permalink":"/rdk_doc/en/Basic_Application/pydev_demo_sample/web_display_camera_sample"}}');var t=i(74848),r=i(28453);const o={sidebar_position:9},s="3.3.9 MIPI Camera Sample Introduction",c={},d=[{value:"Sample Overview",id:"sample-overview",level:2},{value:"Demo Effect",id:"demo-effect",level:2},{value:"Hardware Preparation",id:"hardware-preparation",level:2},{value:"Hardware Connection",id:"hardware-connection",level:3},{value:"Quick Start",id:"quick-start",level:2},{value:"Code and Board Location",id:"code-and-board-location",level:3},{value:"Compilation and Execution",id:"compilation-and-execution",level:3},{value:"Execution Effect",id:"execution-effect",level:3},{value:"Detailed Introduction",id:"detailed-introduction",level:2},{value:"Sample Program Parameter Options",id:"sample-program-parameter-options",level:3},{value:"Software Architecture Description",id:"software-architecture-description",level:3},{value:"API Flow Description",id:"api-flow-description",level:3},{value:"FAQ",id:"faq",level:3}];function l(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"339-mipi-camera-sample-introduction",children:"3.3.9 MIPI Camera Sample Introduction"})}),"\n",(0,t.jsx)(n.h2,{id:"sample-overview",children:"Sample Overview"}),"\n",(0,t.jsxs)(n.p,{children:["The MIPI camera sample is a ",(0,t.jsx)(n.strong,{children:"Python interface"})," development code example located in ",(0,t.jsx)(n.code,{children:"/app/pydev_demo/03_mipi_camera_sample"}),", demonstrating how to use the onboard MIPI camera for real-time object detection. This sample uses the FCOS object detection model to perform real-time inference on the video stream captured by the MIPI camera, displays the detection results via HDMI, and outputs bounding box information and FPS performance data."]}),"\n",(0,t.jsx)(n.h2,{id:"demo-effect",children:"Demo Effect"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"http://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/03_pydev_demo_sample/image/pydev_03_runing.png",alt:"output-img"})}),"\n",(0,t.jsx)(n.h2,{id:"hardware-preparation",children:"Hardware Preparation"}),"\n",(0,t.jsx)(n.h3,{id:"hardware-connection",children:"Hardware Connection"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Prepare an RDK development board"}),"\n",(0,t.jsx)(n.li,{children:"Connect the officially compatible MIPI camera"}),"\n",(0,t.jsx)(n.li,{children:"Connect the display to the development board via HDMI cable"}),"\n",(0,t.jsx)(n.li,{children:"Connect power cable and network cable"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"http://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/03_pydev_demo_sample/image/pydev_03_hw_connect.png",alt:"connect-img"})}),"\n",(0,t.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,t.jsx)(n.h3,{id:"code-and-board-location",children:"Code and Board Location"}),"\n",(0,t.jsxs)(n.p,{children:["The MIPI camera sample file is located at ",(0,t.jsx)(n.code,{children:"/app/pydev_demo/03_mipi_camera_sample/mipi_camera.py"})]}),"\n",(0,t.jsx)(n.h3,{id:"compilation-and-execution",children:"Compilation and Execution"}),"\n",(0,t.jsx)(n.p,{children:"The Python sample does not require compilation and can be run directly:"}),"\n",(0,t.jsx)(n.h3,{id:"execution-effect",children:"Execution Effect"}),"\n",(0,t.jsx)(n.p,{children:"After running, the program will initialize the MIPI camera and HDMI display, and begin real-time object detection. Detection results will be displayed via HDMI, and the console will print detected object information and FPS."}),"\n",(0,t.jsx)(n.h2,{id:"detailed-introduction",children:"Detailed Introduction"}),"\n",(0,t.jsx)(n.h3,{id:"sample-program-parameter-options",children:"Sample Program Parameter Options"}),"\n",(0,t.jsx)(n.p,{children:"The MIPI camera sample does not require command line parameters and can be run directly. The program will automatically detect and use the onboard MIPI camera."}),"\n",(0,t.jsx)(n.h3,{id:"software-architecture-description",children:"Software Architecture Description"}),"\n",(0,t.jsx)(n.p,{children:"The software architecture of the MIPI camera sample includes the following core components:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Model Loading: Load the FCOS object detection model"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Camera Initialization: Initialize MIPI camera using srcampy.Camera()"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Display Initialization: Initialize HDMI display"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Camera and Display Binding: Directly bind camera output to display"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Real-time Inference Loop:"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Acquire images from camera"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Model inference"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Post-processing (parse detection results)"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Draw bounding boxes and display"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Calculate and print FPS"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)("center",{children:(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"http://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/03_pydev_demo_sample/image/pydev_03_mipi_camera_sample_software_arch.png",alt:"software_arch"})})}),"\n",(0,t.jsx)(n.h3,{id:"api-flow-description",children:"API Flow Description"}),"\n",(0,t.jsx)("center",{children:(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"http://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/03_pydev_demo_sample/image/pydev_03_mipi_camera_sample_api_flow.png",alt:"API_Flow"})})}),"\n",(0,t.jsx)(n.h3,{id:"faq",children:"FAQ"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Q:"})," What should I do if camera initialization fails when running the sample?",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.strong,{children:"A:"})," Please check if the MIPI camera is properly connected and ensure the camera driver is correctly loaded. Try restarting the device."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Q:"})," What should I do if HDMI display is abnormal or has no output?",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.strong,{children:"A:"})," Please check the HDMI connection and ensure the display service is stopped (such as using systemctl stop lightdm)."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Q:"})," How to adjust the detection threshold?",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.strong,{children:"A:"})," Modify the value of fcos_postprocess_info.score_threshold in the code, for example, changing it to 0.5 can increase detection sensitivity."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Q:"})," How to modify the display resolution?",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.strong,{children:"A:"})," Modify the sensor_width and sensor_height variables in the code, but note whether the display device supports that resolution."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Q:"})," What should I do if the frame rate is very low when running the sample?",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.strong,{children:"A:"})," Try using a lighter model or adjust the camera capture resolution."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Q:"})," How to save the detection result images?",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.strong,{children:"A:"})," You can add image saving logic in the code, for example using cv2.imwrite() to save processed images."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Q:"})," How to add new detection categories?",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.strong,{children:"A:"})," You need to modify the get_classes() function, add new category names, and retrain the model or use a model that supports the new categories."]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}}}]);