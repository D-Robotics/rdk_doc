"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[14038],{28453:(e,n,d)=>{d.d(n,{R:()=>l,x:()=>i});var r=d(96540);const t={},s=r.createContext(t);function l(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(s.Provider,{value:n},e.children)}},86573:(e,n,d)=>{d.r(n),d.d(n,{assets:()=>_,contentTitle:()=>i,default:()=>a,frontMatter:()=>l,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"Advanced_development/linux_development/driver_development_s100/driver_hbmem/s100_hbmem_debug","title":"debug\u4fe1\u606f","description":"Hbmem\u652f\u6301\u901a\u8fc7sys\u8282\u70b9\u67e5\u8be2\u76f8\u5173debug\u4fe1\u606f\u3002","source":"@site/docs_s/07_Advanced_development/02_linux_development/04_driver_development_s100/15_driver_hbmem/04_s100_hbmem_debug.md","sourceDirName":"07_Advanced_development/02_linux_development/04_driver_development_s100/15_driver_hbmem","slug":"/Advanced_development/linux_development/driver_development_s100/driver_hbmem/s100_hbmem_debug","permalink":"/rdk_doc/en/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_hbmem/s100_hbmem_debug","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1761281915000,"sidebarPosition":4,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u8f6f\u4ef6\u8bf4\u660e","permalink":"/rdk_doc/en/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_hbmem/s100_hbmem_software"},"next":{"title":"FAQ","permalink":"/rdk_doc/en/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_hbmem/s100_hbmem_FAQ"}}');var t=d(74848),s=d(28453);const l={},i="debug\u4fe1\u606f",_={},o=[{value:"\u5982\u4f55\u67e5\u770b\u5f53\u524dION\u5185\u5b58\u5206\u914d\u60c5\u51b5",id:"\u5982\u4f55\u67e5\u770b\u5f53\u524dion\u5185\u5b58\u5206\u914d\u60c5\u51b5",level:2},{value:"\u5982\u4f55\u67e5\u770b\u5f53\u524d\u7684ION\u9884\u7559\u5185\u5b58\u7684\u60c5\u51b5",id:"\u5982\u4f55\u67e5\u770b\u5f53\u524d\u7684ion\u9884\u7559\u5185\u5b58\u7684\u60c5\u51b5",level:2},{value:"\u5982\u4f55\u76f4\u63a5\u8bfb\u5199\u5185\u5b58",id:"\u5982\u4f55\u76f4\u63a5\u8bfb\u5199\u5185\u5b58",level:2},{value:"\u4f7f\u7528devmem\u5de5\u5177\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u5185\u5b58",id:"\u4f7f\u7528devmem\u5de5\u5177\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u5185\u5b58",level:3},{value:"\u76f4\u63a5\u5199\u5165\u5185\u5b58",id:"\u76f4\u63a5\u5199\u5165\u5185\u5b58",level:3},{value:"\u8bfb\u53d6\u5185\u5b58",id:"\u8bfb\u53d6\u5185\u5b58",level:3}];function m(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"debug\u4fe1\u606f",children:"debug\u4fe1\u606f"})}),"\n",(0,t.jsx)(n.p,{children:"Hbmem\u652f\u6301\u901a\u8fc7sys\u8282\u70b9\u67e5\u8be2\u76f8\u5173debug\u4fe1\u606f\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"\u5982\u4f55\u67e5\u770b\u5f53\u524dion\u5185\u5b58\u5206\u914d\u60c5\u51b5",children:"\u5982\u4f55\u67e5\u770b\u5f53\u524dION\u5185\u5b58\u5206\u914d\u60c5\u51b5"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"cat /sys/kernel/debug/ion/heaps/ion_cma\ncat /sys/kernel/debug/ion/heaps/cma_reserved\ncat /sys/kernel/debug/ion/heaps/carveout\ncat /sys/kernel/debug/ion/heaps/all_heap_info\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u5982\u4f55\u67e5\u770b\u5f53\u524d\u7684ion\u9884\u7559\u5185\u5b58\u7684\u60c5\u51b5",children:"\u5982\u4f55\u67e5\u770b\u5f53\u524d\u7684ION\u9884\u7559\u5185\u5b58\u7684\u60c5\u51b5"}),"\n",(0,t.jsx)(n.p,{children:"\u5176\u4e2dION_HEAP_TYPE_CARVEOUT\uff08HB_MEM_USAGE_PRIV_HEAP_RESERVED\uff09\u3001ION_HEAP_TYPE_CMA_RESERVED\uff08HB_MEM_USAGE_PRIV_HEAP_2_RESERVED\uff09\u548c ION_HEAP_TYPE_DMA\uff08HB_MEM_USAGE_PRIV_HEAP_DMA\uff09heap\u7684\u9884\u7559\u60c5\u51b5\u4e5f\u53ef\u4ee5\u67e5\u770b\u542f\u52a8\u65e5\u5fd7\uff0c\u5982\u4e0b\u6240\u793a\uff0c\u7b2c\u4e00\u884c\u4ee3\u8868ION_HEAP_TYPE_CARVEOUT\u7684\u8d77\u59cb\u5730\u5740\u548c\u5927\u5c0f\uff0c\u7b2c\u4e8c\u884c\u4ee3\u8868ION_HEAP_TYPE_CMA_RESERVED\u7684\u8d77\u59cb\u5730\u5740\u548c\u5927\u5c0f\uff0c\u7b2c\u4e09\u884c\u4ee3\u8868ION_HEAP_TYPE_DMA\u7684\u8d77\u59cb\u5730\u5740\u548c\u5927\u5c0f\uff1a"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/07_Advanced_development/02_linux_development/driver_development_s100/hbmem/03_ion_region_kernel_print.png",alt:""})}),"\n",(0,t.jsx)(n.h2,{id:"\u5982\u4f55\u76f4\u63a5\u8bfb\u5199\u5185\u5b58",children:"\u5982\u4f55\u76f4\u63a5\u8bfb\u5199\u5185\u5b58"}),"\n",(0,t.jsx)(n.h3,{id:"\u4f7f\u7528devmem\u5de5\u5177\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u5185\u5b58",children:"\u4f7f\u7528devmem\u5de5\u5177\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u5185\u5b58"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"root@ubuntu:~# devmem -h\nBusyBox v1.30.1 (Ubuntu 1:1.30.1-7ubuntu3.1) multi-call binary.\n\nUsage: devmem ADDRESS [WIDTH [VALUE]]\n\nRead/write from physical address\n\n        ADDRESS Address to act upon\n        WIDTH   Width (8/16/...)\n        VALUE   Data to be written\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u76f4\u63a5\u5199\u5165\u5185\u5b58",children:"\u76f4\u63a5\u5199\u5165\u5185\u5b58"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"root@ubuntu:~# devmem 0xE0000000 32 0x12345678\nroot@ubuntu:~#\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u8bfb\u53d6\u5185\u5b58",children:"\u8bfb\u53d6\u5185\u5b58"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"root@ubuntu:~# devmem 0xE0000000\n0x12345678\nroot@ubuntu:~#\n"})})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(m,{...e})}):m(e)}}}]);