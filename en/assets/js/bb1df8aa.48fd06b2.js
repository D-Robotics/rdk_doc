"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[17764],{28453:(n,e,s)=>{s.d(e,{R:()=>l,x:()=>c});var i=s(96540);const d={},r=i.createContext(d);function l(n){const e=i.useContext(r);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(d):n.components||d:l(n.components),i.createElement(r.Provider,{value:e},n.children)}},99196:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>t});const i=JSON.parse('{"id":"Basic_Application/multi_media/cdev_demo","title":"3.4.2 \u53c2\u8003\u793a\u4f8b\uff08C++\uff09","description":"\u672c\u7ae0\u8282\u4ecb\u7ecd\u591a\u5a92\u4f53\u5e93\u5f00\u53d1\u7684\u591a\u79cd\u529f\u80fd\u793a\u4f8b\uff0c\u5305\u62ec\u6444\u50cf\u5934\u56fe\u50cf\u91c7\u96c6\u3001\u89c6\u9891\u7f16\u89e3\u7801\u3001\u89c6\u9891\u663e\u793a\u3001\u7b97\u6cd5\u63a8\u7406\u7b49\u529f\u80fd\u3002","source":"@site/docs_s/03_Basic_Application/04_multi_media/cdev_demo.md","sourceDirName":"03_Basic_Application/04_multi_media","slug":"/Basic_Application/multi_media/cdev_demo","permalink":"/rdk_doc/en/rdk_s/Basic_Application/multi_media/cdev_demo","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1750439203000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"3.4.1 \u53c2\u8003\u793a\u4f8b\uff08python\uff09","permalink":"/rdk_doc/en/rdk_s/Basic_Application/multi_media/pydev_vio_demo"},"next":{"title":"Camera\u5bf9\u8c61","permalink":"/rdk_doc/en/rdk_s/Basic_Application/multi_media/multi_media_api/pydev/object_camera"}}');var d=s(74848),r=s(28453);const l={sidebar_position:2},c="3.4.2 \u53c2\u8003\u793a\u4f8b\uff08C++\uff09",o={},t=[{value:"\u6444\u50cf\u5934\u56fe\u50cf\u91c7\u96c6\u548c\u663e\u793a",id:"\u6444\u50cf\u5934\u56fe\u50cf\u91c7\u96c6\u548c\u663e\u793a",level:2},{value:"\u6444\u50cf\u5934\u56fe\u50cf\u91c7\u96c6\u5e76\u7f16\u7801",id:"\u6444\u50cf\u5934\u56fe\u50cf\u91c7\u96c6\u5e76\u7f16\u7801",level:2},{value:"VPS \u7f29\u653e\u793a\u4f8b",id:"vps-\u7f29\u653e\u793a\u4f8b",level:2},{value:"\u76ee\u6807\u68c0\u6d4b\u7b97\u6cd5\u2014fcos",id:"\u76ee\u6807\u68c0\u6d4b\u7b97\u6cd5fcos",level:2},{value:"\u76ee\u6807\u68c0\u6d4b\u7b97\u6cd5\u2014YOLOv5s",id:"\u76ee\u6807\u68c0\u6d4b\u7b97\u6cd5yolov5s",level:2}];function a(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.header,{children:(0,d.jsx)(e.h1,{id:"342-\u53c2\u8003\u793a\u4f8bc",children:"3.4.2 \u53c2\u8003\u793a\u4f8b\uff08C++\uff09"})}),"\n",(0,d.jsx)(e.p,{children:"\u672c\u7ae0\u8282\u4ecb\u7ecd\u591a\u5a92\u4f53\u5e93\u5f00\u53d1\u7684\u591a\u79cd\u529f\u80fd\u793a\u4f8b\uff0c\u5305\u62ec\u6444\u50cf\u5934\u56fe\u50cf\u91c7\u96c6\u3001\u89c6\u9891\u7f16\u89e3\u7801\u3001\u89c6\u9891\u663e\u793a\u3001\u7b97\u6cd5\u63a8\u7406\u7b49\u529f\u80fd\u3002"}),"\n",(0,d.jsx)(e.h2,{id:"\u6444\u50cf\u5934\u56fe\u50cf\u91c7\u96c6\u548c\u663e\u793a",children:"\u6444\u50cf\u5934\u56fe\u50cf\u91c7\u96c6\u548c\u663e\u793a"}),"\n",(0,d.jsxs)(e.p,{children:["\u672c\u793a\u4f8b",(0,d.jsx)(e.code,{children:"vio2display"}),"\u793a\u4f8b\u5b9e\u73b0\u4e86",(0,d.jsx)(e.code,{children:"MIPI"}),"\u6444\u50cf\u5934\u56fe\u50cf\u91c7\u96c6\u529f\u80fd\uff0c\u5e76\u901a\u8fc7",(0,d.jsx)(e.code,{children:"HDMI"}),"\u63a5\u53e3\u8f93\u51fa\uff0c\u7528\u6237\u53ef\u901a\u8fc7\u663e\u793a\u5668\u9884\u89c8\u753b\u9762\u3002"]}),"\n",(0,d.jsx)(e.p,{children:"\u793a\u4f8b\u6d41\u7a0b\u6846\u56fe\uff1a\uff08\u5f85\u66f4\u65b0\uff09"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u73af\u5883\u51c6\u5907\uff1a"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\u5f00\u53d1\u677f\u65ad\u7535\u72b6\u6001\u4e0b\uff0c\u5c06",(0,d.jsx)(e.code,{children:"MIPI"}),"\u6444\u50cf\u5934\u63a5\u5165\u5f00\u53d1\u677f"]}),"\n",(0,d.jsx)(e.li,{children:"\u901a\u8fc7 HDMI \u7ebf\u7f06\u8fde\u63a5\u5f00\u53d1\u677f\u548c\u663e\u793a\u5668"}),"\n",(0,d.jsx)(e.li,{children:"\u5f00\u53d1\u677f\u4e0a\u7535\uff0c\u5e76\u901a\u8fc7\u547d\u4ee4\u884c\u767b\u5f55"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u8fd0\u884c\u65b9\u5f0f\uff1a"}),"\n\u793a\u4f8b\u4ee3\u7801\u4ee5\u6e90\u7801\u5f62\u5f0f\u63d0\u4f9b\uff0c\u9700\u8981\u4f7f\u7528",(0,d.jsx)(e.code,{children:"make"}),"\u547d\u4ee4\u8fdb\u884c\u7f16\u8bd1\u540e\u8fd0\u884c\uff0c\u6b65\u9aa4\u5982\u4e0b\uff1a"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:"sunrise@ubuntu:~$ cd /app/cdev_demo/vio2display\nsunrise@ubuntu:/app/cdev_demo/vio2display$ make\nsunrise@ubuntu:/app/cdev_demo/vio2display$ ./vio2display -w 1920 -h 1080\n"})}),"\n",(0,d.jsx)(e.p,{children:"\u53c2\u6570\u8bf4\u660e\uff1a"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"-w: sensor \u8f93\u51fa\u5bbd\u5ea6"}),"\n",(0,d.jsx)(e.li,{children:"-h: sensor \u8f93\u51fa\u9ad8\u5ea6"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u9884\u671f\u6548\u679c\uff1a"}),"\n\u7a0b\u5e8f\u6b63\u786e\u8fd0\u884c\u540e\uff0c\u5f00\u53d1\u677f\u4f1a\u901a\u8fc7\u663e\u793a\u5668\u8f93\u51fa",(0,d.jsx)(e.code,{children:"MIPI"}),"\u6444\u50cf\u5934\u91c7\u96c6\u7684\u5b9e\u65f6\u753b\u9762\u3002\u8fd0\u884c log \u5982\u4e0b\uff1a"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:"  sunrise@ubuntu:/tmp/nfs/sp_cdev/cdev_demo/vio2display$ ./vio2display -w 1920 -h 1080\n  disp_w=1920, disp_h=1080\n  2023/03/28 02:08:03.359 !INFO [x3_cam_init_param][0099]Enable mipi host0 mclk\n  2023/03/28 02:08:03.359 !INFO [x3_cam_init_param][0099]Enable mipi host1 mclk\n  Camera: gpio_num=114, active=low, i2c_bus=3, mipi_host=0\n  Camera: gpio_num=114, active=low, i2c_bus=1, mipi_host=1\n  Camera: gpio_num=114, active=low, i2c_bus=0, mipi_host=2\n  Camera 0:\n        enable: 1\n        i2c_bus: 3\n        mipi_host: 0\n  Camera 1:\n        enable: 1\n        i2c_bus: 1\n        mipi_host: 1\n  Camera 2:\n        enable: 1\n        i2c_bus: 0\n        mipi_host: 2\n  cmd=i2ctransfer -y -f 3 w2@0x10 0x0 0x0 r1 2>&1, result=0x02\n\n  Found sensor:imx219 on i2c bus 3, use mipi host 0\n  Setting VPS channel-2: src_w:1920, src_h:1080; dst_w:1920, dst_h:1080;\n  Setting VPS channel-1: src_w:1920, src_h:1080; dst_w:1920, dst_h:1080;\n  sp_open_camera success!\n  libiar: hb_disp_set_timing done!\n\n  Press 'q' to Exit !\n"})}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u6444\u50cf\u5934\u56fe\u50cf\u91c7\u96c6\u5e76\u7f16\u7801",children:"\u6444\u50cf\u5934\u56fe\u50cf\u91c7\u96c6\u5e76\u7f16\u7801"}),"\n",(0,d.jsxs)(e.p,{children:["\u672c\u793a\u4f8b",(0,d.jsx)(e.code,{children:"vio2encoder"}),"\u793a\u4f8b\u5b9e\u73b0\u4e86 ",(0,d.jsx)(e.code,{children:"MIPI"})," \u6444\u50cf\u5934\u56fe\u50cf\u91c7\u96c6\u529f\u80fd\uff0c\u5e76\u7f16\u7801\u540e\u5728\u672c\u5730\u4fdd\u5b58\uff0c\u7528\u6237\u53ef\u901a\u8fc7\u663e\u793a\u5668\u9884\u89c8\u753b\u9762\u3002"]}),"\n",(0,d.jsx)(e.p,{children:"\u793a\u4f8b\u6d41\u7a0b\u6846\u56fe\uff1a\uff08\u5f85\u66f4\u65b0\uff09"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u73af\u5883\u51c6\u5907\uff1a"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\u5f00\u53d1\u677f\u65ad\u7535\u72b6\u6001\u4e0b\uff0c\u5c06",(0,d.jsx)(e.code,{children:"MIPI"}),"\u6444\u50cf\u5934\u63a5\u5165\u5f00\u53d1\u677f"]}),"\n",(0,d.jsx)(e.li,{children:"\u901a\u8fc7 HDMI \u7ebf\u7f06\u8fde\u63a5\u5f00\u53d1\u677f\u548c\u663e\u793a\u5668"}),"\n",(0,d.jsx)(e.li,{children:"\u5f00\u53d1\u677f\u4e0a\u7535\uff0c\u5e76\u901a\u8fc7\u547d\u4ee4\u884c\u767b\u5f55"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u8fd0\u884c\u65b9\u5f0f\uff1a"})," \u6309\u7167\u4ee5\u4e0b\u547d\u4ee4\u6267\u884c\u7a0b\u5e8f\n\u793a\u4f8b\u4ee3\u7801\u4ee5\u6e90\u7801\u5f62\u5f0f\u63d0\u4f9b\uff0c\u9700\u8981\u4f7f\u7528",(0,d.jsx)(e.code,{children:"make"}),"\u547d\u4ee4\u8fdb\u884c\u7f16\u8bd1\u540e\u8fd0\u884c\uff0c\u6b65\u9aa4\u5982\u4e0b\uff1a"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:"sunrise@ubuntu:~$ cd /app/cdev_demo/vio2encoder\nsunrise@ubuntu:/app/cdev_demo/vio2encoder$ sudo make\nsunrise@ubuntu:/app/cdev_demo/vio2encoder$ sudo ./vio2encoder -w 1920 -h 1080 --iwidth 1920 --iheight 1080 -o stream.h264\n"})}),"\n",(0,d.jsx)(e.p,{children:"\u53c2\u6570\u8bf4\u660e\uff1a"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"-w: \u7f16\u7801\u89c6\u9891\u5bbd\u5ea6"}),"\n",(0,d.jsx)(e.li,{children:"-h: \u7f16\u7801\u89c6\u9891\u9ad8\u5ea6"}),"\n",(0,d.jsx)(e.li,{children:"--iwidth: sensor \u8f93\u51fa\u5bbd\u5ea6"}),"\n",(0,d.jsx)(e.li,{children:"--iheight: sensor \u8f93\u51fa\u9ad8\u5ea6"}),"\n",(0,d.jsx)(e.li,{children:"-o: \u7f16\u7801\u8f93\u51fa\u8def\u5f84"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u9884\u671f\u6548\u679c"}),"\uff1a\n\u7a0b\u5e8f\u6b63\u786e\u8fd0\u884c\u540e\uff0c\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u4f1a\u751f\u6210\u540d\u4e3a",(0,d.jsx)(e.code,{children:"stream.h264"}),"\u7684\u89c6\u9891\u6587\u4ef6\u3002\u8fd0\u884c log \u5982\u4e0b\uff1a"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:"sunrise@ubuntu:/tmp/nfs/sp_cdev/cdev_demo/vio2encoder$ sudo ./vio2encoder -w 1920 -h 1080 --iwidth 1920 --iheight 1080 -o stream.h264\n2023/03/28 02:27:32.560 !INFO [x3_cam_init_param][0099]Enable mipi host0 mclk\n2023/03/28 02:27:32.561 !INFO [x3_cam_init_param][0099]Enable mipi host1 mclk\nCamera: gpio_num=114, active=low, i2c_bus=3, mipi_host=0\nCamera: gpio_num=114, active=low, i2c_bus=1, mipi_host=1\nCamera: gpio_num=114, active=low, i2c_bus=0, mipi_host=2\nCamera 0:\n     enable: 1\n     i2c_bus: 3\n     mipi_host: 0\nCamera 1:\n     enable: 1\n     i2c_bus: 1\n     mipi_host: 1\nCamera 2:\n     enable: 1\n     i2c_bus: 0\n     mipi_host: 2\ncmd=i2ctransfer -y -f 3 w2@0x10 0x0 0x0 r1 2>&1, result=0x02\n\nFound sensor:imx219 on i2c bus 3, use mipi host 0\nSetting VPS channel-2: src_w:1920, src_h:1080; dst_w:1920, dst_h:1080;\nSetting VPS channel-1: src_w:1920, src_h:1080; dst_w:1920, dst_h:1080;\nsp_open_camera success!\nsp_start_encode success!\nsp_module_bind(vio -> encoder) success!\n"})}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"vps-\u7f29\u653e\u793a\u4f8b",children:"VPS \u7f29\u653e\u793a\u4f8b"}),"\n",(0,d.jsxs)(e.p,{children:["\u672c\u793a\u4f8b\u5b9e\u73b0\u4e86\u57fa\u4e8e\u89c6\u9891\u5904\u7406\u6a21\u5757",(0,d.jsx)(e.code,{children:"VPS"}),"\u7684\u89c6\u9891\u7f29\u653e\u529f\u80fd\uff0c\u7528\u6237\u53ef\u901a\u8fc7\u663e\u793a\u5668\u9884\u89c8\u753b\u9762\u3002"]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u73af\u5883\u51c6\u5907\uff1a"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u901a\u8fc7 HDMI \u7ebf\u7f06\u8fde\u63a5\u5f00\u53d1\u677f\u548c\u663e\u793a\u5668"}),"\n",(0,d.jsx)(e.li,{children:"\u5f00\u53d1\u677f\u4e0a\u7535\uff0c\u5e76\u901a\u8fc7\u547d\u4ee4\u884c\u767b\u5f55"}),"\n",(0,d.jsx)(e.li,{children:"\u51c6\u5907\u56fe\u50cf(NV12)\u3001\u89c6\u9891\u6587\u4ef6(H264)\u4f5c\u4e3a\u8f93\u5165"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u8fd0\u884c\u65b9\u5f0f\uff1a"}),"\n\u793a\u4f8b\u4ee3\u7801\u4ee5\u6e90\u7801\u5f62\u5f0f\u63d0\u4f9b\uff0c\u9700\u8981\u4f7f\u7528",(0,d.jsx)(e.code,{children:"make"}),"\u547d\u4ee4\u8fdb\u884c\u7f16\u8bd1\u540e\u8fd0\u884c\uff0c\u6b65\u9aa4\u5982\u4e0b\uff1a"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:"sunrise@ubuntu:~$ cd /app/cdev_demo/vps\nsunrise@ubuntu:/app/cdev_demo/vps$ sudo make\nsunrise@ubuntu:/app/cdev_demo/vps$ sudo ./vps -m 1 -i stream.h264 -o output.yuv --iheight 1080 --iwidth 1920 --oheight 720 --owidth 1280\n"})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u53c2\u6570\u914d\u7f6e\uff1a"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"-i: \u5f85\u64cd\u4f5c\u7684\u6587\u4ef6\u8def\u5f84"}),"\n",(0,d.jsx)(e.li,{children:"--iheight: \u8f93\u5165\u9ad8\u5ea6"}),"\n",(0,d.jsx)(e.li,{children:"--iwidth: \u8f93\u5165\u5bbd\u5ea6"}),"\n",(0,d.jsxs)(e.li,{children:["-m: \u8f93\u5165\u6a21\u5f0f\uff0c1:\u89c6\u9891\u6d41\uff1b2",":NV12"," \u56fe\u7247"]}),"\n",(0,d.jsx)(e.li,{children:"-o: \u8f93\u51fa\u8def\u5f84"}),"\n",(0,d.jsx)(e.li,{children:"--oheight: \u8f93\u51fa\u9ad8\u5ea6"}),"\n",(0,d.jsx)(e.li,{children:"--owidth: \u8f93\u51fa\u5bbd\u5ea6"}),"\n",(0,d.jsx)(e.li,{children:"--skip:\uff08\u53ef\u9009\uff09\u5bf9\u4e8e\u89c6\u9891\u6d41\u8f93\u5165\uff0c\u8c03\u8fc7\u5f00\u5934\u7684\u5e27\u6570"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u9884\u671f\u6548\u679c\uff1a"}),"\n\u7a0b\u5e8f\u6b63\u786e\u8fd0\u884c\u540e\uff0c\u5f53\u524d\u76ee\u5f55\u4f1a\u4fdd\u5b58\u5904\u7406\u540e\u7684\u56fe\u50cf\u6587\u4ef6",(0,d.jsx)(e.code,{children:"outpu.yuv"}),"\u3002\u8fd0\u884c log \u5982\u4e0b\uff1a"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-shell",children:"sunrise@ubuntu:/app/cdev_demo/vps$ sudo ./vps -m 1 -i stream.h264 -o output.yuv --iheight 1080 --iwidth 1920 --oheight 720 --owidth 1280\n\n... \u7701\u7565 ...\n2000/01/01 18:57:31.330 !INFO [CamInitVseParam][0231]Setting VSE channel-0: input_width:1920, input_height:1080, dst_w:1280, dst_h:720\n... \u7701\u7565 ...\n"})}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u76ee\u6807\u68c0\u6d4b\u7b97\u6cd5fcos",children:"\u76ee\u6807\u68c0\u6d4b\u7b97\u6cd5\u2014fcos"}),"\n",(0,d.jsxs)(e.p,{children:["\u672c\u793a\u4f8b\u57fa\u4e8e",(0,d.jsx)(e.code,{children:"fcos"}),"\u6a21\u578b\uff0c\u5b9e\u73b0\u4e86\u672c\u5730\u89c6\u9891\u6d41\u7684\u76ee\u6807\u68c0\u6d4b\u7b97\u6cd5\u529f\u80fd\uff0c\u7528\u6237\u53ef\u901a\u8fc7\u663e\u793a\u5668\u9884\u89c8\u68c0\u6d4b\u7ed3\u679c\u3002"]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u73af\u5883\u51c6\u5907\uff1a"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u901a\u8fc7 HDMI \u7ebf\u7f06\u8fde\u63a5\u5f00\u53d1\u677f\u548c\u663e\u793a\u5668"}),"\n",(0,d.jsx)(e.li,{children:"\u5f00\u53d1\u677f\u4e0a\u7535\uff0c\u5e76\u901a\u8fc7\u547d\u4ee4\u884c\u767b\u5f55"}),"\n",(0,d.jsx)(e.li,{children:"\u51c6\u5907\u89c6\u9891\u6587\u4ef6(H264)\u4f5c\u4e3a\u8f93\u5165"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u8fd0\u884c\u65b9\u5f0f\uff1a"}),"\n\u793a\u4f8b\u4ee3\u7801\u4ee5\u6e90\u7801\u5f62\u5f0f\u63d0\u4f9b\uff0c\u9700\u8981\u4f7f\u7528",(0,d.jsx)(e.code,{children:"make"}),"\u547d\u4ee4\u8fdb\u884c\u7f16\u8bd1\u540e\u8fd0\u884c\uff0c\u6b65\u9aa4\u5982\u4e0b\uff1a"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:"sunrise@ubuntu:~$ cd /app/cdev_demo/bpu/src\nsunrise@ubuntu:/app/cdev_demo/bpu/src$ sudo make\nsunrise@ubuntu:/app/cdev_demo/bpu/src$ cd bin\nsunrise@ubuntu:/app/cdev_demo/bpu/src/bin$ sudo ./sample -f /app/model/basic/fcos_512x512_nv12.bin -m 1 -i 1080p_.h264 -w 1920 -h 1080\n"})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u53c2\u6570\u914d\u7f6e\uff1a"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"-f: \u6a21\u578b\u6587\u4ef6\u8def\u5f84"}),"\n",(0,d.jsx)(e.li,{children:"-h: \u8f93\u5165\u89c6\u9891\u7684\u9ad8\u5ea6"}),"\n",(0,d.jsx)(e.li,{children:"-w: \u8f93\u5165\u89c6\u9891\u7684\u5bbd\u5ea6"}),"\n",(0,d.jsx)(e.li,{children:"-i: \u8f93\u5165\u89c6\u9891\u7684\u8def\u5f84"}),"\n",(0,d.jsx)(e.li,{children:"-m: \u6a21\u578b\u7c7b\u578b\uff0c\u9ed8\u8ba4\u4e3a 1"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u9884\u671f\u6548\u679c\uff1a"}),"\n\u7a0b\u5e8f\u6b63\u786e\u8fd0\u884c\u540e\uff0c\u4f1a\u901a\u8fc7",(0,d.jsx)(e.code,{children:"HDMI"}),"\u63a5\u53e3\u8f93\u51fa\u89c6\u9891\u548c\u7b97\u6cd5\u68c0\u6d4b\u6e32\u67d3\u540e\u7684\u753b\u9762\uff0c\u7528\u6237\u53ef\u901a\u8fc7\u663e\u793a\u5668\u9884\u89c8\u3002\u8fd0\u884c log \u5982\u4e0b\uff1a"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:'sunrise@ubuntu:/app/cdev_demo/bpu/src/bin$ sudo ./sample -f /app/model/basic/fcos_512x512_nv12.bin -m 1 -i 1080p_.h264 -w 1920 -h 1080\n[BPU_PLAT]BPU Platform Version(1.3.1)!\n[HBRT] set log level as 0. version = 3.14.5\n[DNN] Runtime version = 1.9.7_(3.14.5 HBRT)\nModel info:\nmodel_name: fcos_512x512_nv12Input count: 1input[0]: tensorLayout: 2 tensorType: 1 validShape:(1, 3, 512, 512, ), alignedShape:(1, 3, 512, 512, )\nOutput count: 15Output[0]: tensorLayout: 0 tensorType: 13 validShape:(1, 64, 64, 80, ), alignedShape:(1, 64, 64, 80, )\nOutput[1]: tensorLayout: 0 tensorType: 13 validShape:(1, 32, 32, 80, ), alignedShape:(1, 32, 32, 80, )\nOutput[2]: tensorLayout: 0 tensorType: 13 validShape:(1, 16, 16, 80, ), alignedShape:(1, 16, 16, 80, )\nOutput[3]: tensorLayout: 0 tensorType: 13 validShape:(1, 8, 8, 80, ), alignedShape:(1, 8, 8, 80, )\nOutput[4]: tensorLayout: 0 tensorType: 13 validShape:(1, 4, 4, 80, ), alignedShape:(1, 4, 4, 80, )\nOutput[5]: tensorLayout: 0 tensorType: 13 validShape:(1, 64, 64, 4, ), alignedShape:(1, 64, 64, 4, )\nOutput[6]: tensorLayout: 0 tensorType: 13 validShape:(1, 32, 32, 4, ), alignedShape:(1, 32, 32, 4, )\nOutput[7]: tensorLayout: 0 tensorType: 13 validShape:(1, 16, 16, 4, ), alignedShape:(1, 16, 16, 4, )\nOutput[8]: tensorLayout: 0 tensorType: 13 validShape:(1, 8, 8, 4, ), alignedShape:(1, 8, 8, 4, )\nOutput[9]: tensorLayout: 0 tensorType: 13 validShape:(1, 4, 4, 4, ), alignedShape:(1, 4, 4, 4, )\nOutput[10]: tensorLayout: 0 tensorType: 13 validShape:(1, 64, 64, 1, ), alignedShape:(1, 64, 64, 1, )\nOutput[11]: tensorLayout: 0 tensorType: 13 validShape:(1, 32, 32, 1, ), alignedShape:(1, 32, 32, 1, )\nOutput[12]: tensorLayout: 0 tensorType: 13 validShape:(1, 16, 16, 1, ), alignedShape:(1, 16, 16, 1, )\nOutput[13]: tensorLayout: 0 tensorType: 13 validShape:(1, 8, 8, 1, ), alignedShape:(1, 8, 8, 1, )\nOutput[14]: tensorLayout: 0 tensorType: 13 validShape:(1, 4, 4, 1, ), alignedShape:(1, 4, 4, 1, )\nlibiar: hb_disp_set_timing done!\ndispaly init ret = 0\nvps open ret = 0\nmodule bind vps & display ret = 0\ndisplay start ret = 0\n[x3_av_open_stream]:[380]:probesize: 5000000\ndecode start ret = 0\nmodule bind decoder & vps ret = 0\n[ERROR]["vdec"][video/src/vdec_group.c:348] [8870.450264]vdec_channel_bump_thread[348]: VDEC_MODULE module try again\n\n[draw_rect]:[137]:========point is 0,return========\nfps:55.555556,processing time:18\n'})}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u76ee\u6807\u68c0\u6d4b\u7b97\u6cd5yolov5s",children:"\u76ee\u6807\u68c0\u6d4b\u7b97\u6cd5\u2014YOLOv5s"}),"\n",(0,d.jsxs)(e.p,{children:["\u672c\u793a\u4f8b\u57fa\u4e8e",(0,d.jsx)(e.code,{children:"YOLOv5"}),"\u6a21\u578b\uff0c\u5b9e\u73b0\u4e86\u6444\u50cf\u5934\u76ee\u6807\u68c0\u6d4b\u7b97\u6cd5\u529f\u80fd\uff0c\u7528\u6237\u53ef\u901a\u8fc7\u663e\u793a\u5668\u9884\u89c8\u68c0\u6d4b\u7ed3\u679c\u3002"]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u73af\u5883\u51c6\u5907\uff1a"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\u5f00\u53d1\u677f\u65ad\u7535\u72b6\u6001\u4e0b\uff0c\u5c06",(0,d.jsx)(e.code,{children:"MIPI"}),"\u6444\u50cf\u5934\u63a5\u5165\u5f00\u53d1\u677f"]}),"\n",(0,d.jsx)(e.li,{children:"\u901a\u8fc7 HDMI \u7ebf\u7f06\u8fde\u63a5\u5f00\u53d1\u677f\u548c\u663e\u793a\u5668"}),"\n",(0,d.jsx)(e.li,{children:"\u5f00\u53d1\u677f\u4e0a\u7535\uff0c\u5e76\u901a\u8fc7\u547d\u4ee4\u884c\u767b\u5f55"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u8fd0\u884c\u65b9\u5f0f\uff1a"}),"\n\u793a\u4f8b\u4ee3\u7801\u4ee5\u6e90\u7801\u5f62\u5f0f\u63d0\u4f9b\uff0c\u9700\u8981\u4f7f\u7528",(0,d.jsx)(e.code,{children:"make"}),"\u547d\u4ee4\u8fdb\u884c\u7f16\u8bd1\u540e\u8fd0\u884c\uff0c\u6b65\u9aa4\u5982\u4e0b\uff1a"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:"sunrise@ubuntu:~$ cd /app/cdev_demo/bpu/src\nsunrise@ubuntu:/app/cdev_demo/bpu/src$ sudo make\nsunrise@ubuntu:/app/cdev_demo/bpu/src$ cd bin\nsunrise@ubuntu:/app/cdev_demo/bpu/src/bin$ sudo ./sample -f /app/model/basic/yolov5s_672x672_nv12.bin -m 0\n"})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u53c2\u6570\u914d\u7f6e\uff1a"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"-f: \u6a21\u578b\u7684\u8def\u5f84"}),"\n",(0,d.jsx)(e.li,{children:"-m: \u6a21\u578b\u7c7b\u578b\uff0c\u9ed8\u8ba4\u4e3a 0"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u9884\u671f\u6548\u679c\uff1a"}),"\n\u7a0b\u5e8f\u6b63\u786e\u8fd0\u884c\u540e\uff0c\u4f1a\u901a\u8fc7",(0,d.jsx)(e.code,{children:"HDMI"}),"\u63a5\u53e3\u8f93\u51fa\u89c6\u9891\u548c\u7b97\u6cd5\u68c0\u6d4b\u6e32\u67d3\u540e\u7684\u753b\u9762\uff0c\u7528\u6237\u53ef\u901a\u8fc7\u663e\u793a\u5668\u9884\u89c8\u3002\u8fd0\u884c log \u5982\u4e0b\uff1a"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:"sunrise@ubuntu:/app/cdev_demo/bpu/src/bin$ sudo ./sample -f /app/model/basic/yolov5s_672x672_nv12.bin -m 0\n[BPU_PLAT]BPU Platform Version(1.3.6)!\n[HBRT] set log level as 0. version = 3.15.49.0\n[DNN] Runtime version = 1.23.8_(3.15.49 HBRT)\n[A][DNN][packed_model.cpp:247][Model](2000-01-01,19:06:39.821.214) [HorizonRT] The model builder version = 1.23.5\n[W][DNN]bpu_model_info.cpp:491][Version](2000-01-01,19:06:39.876.293) Model: yolov5s_v2_672x672_bayese_nv12. Inconsistency between the hbrt library version 3.15.49.0 and the model build version 3.15.47.0 detected, in order to ensure correct model results, it is recommended to use compilation tools and the BPU SDK from the same OpenExplorer package.\nModel info:\nmodel_name: yolov5s_v2_672x672_bayese_nv12Input count: 1input[0]: tensorLayout: 2 tensorType: 1 validShape:(1, 3, 672, 672, ), alignedShape:(1, 3, 672, 672, )\nOutput count: 3Output[0]: tensorLayout: 0 tensorType: 13 validShape:(1, 84, 84, 255, ), alignedShape:(1, 84, 84, 255, )\nOutput[1]: tensorLayout: 0 tensorType: 13 validShape:(1, 42, 42, 255, ), alignedShape:(1, 42, 42, 255, )\nOutput[2]: tensorLayout: 0 tensorType: 13 validShape:(1, 21, 21, 255, ), alignedShape:(1, 21, 21, 255, )\n[INFO] board_id is 301, not need skip sci1.\nSearching camera sensor on device: /proc/device-tree/soc/cam/vcon@0 i2c bus: 6 mipi rx phy: 0\nINFO: Found sensor name:ov5647 on mipi rx csi 0, i2c addr 0x36, config_file:linear_1920x1080_raw10_30fps_2lane.c\n2000/01/01 19:06:40.012 !INFO [CamInitParam][0139]Setting VSE channel-0: input_width:1920, input_height:1080, dst_w:672, dst_h:672\n2000/01/01 19:06:40.013 !INFO [CamInitParam][0139]Setting VSE channel-1: input_width:1920, input_height:1080, dst_w:1920, dst_h:1080\n... \u7701\u7565 ...\n"})}),"\n"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,d.jsx)(e,{...n,children:(0,d.jsx)(a,{...n})}):a(n)}}}]);