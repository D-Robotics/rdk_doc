"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[69718],{28453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>d});var i=t(96540);const r={},s=i.createContext(r);function c(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(s.Provider,{value:n},e.children)}},82286:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"Basic_Application/multi_media/multi_media_api/pydev_multimedia_api_x3/object_camera","title":"Camera Object","description":"The Camera object is used to perform image acquisition and processing functions for MIPI cameras. It includes several methods such as opencam, openvps, getimg, setimg, close_cam, etc. Here are the detailed explanations:","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/03_Basic_Application/04_multi_media/multi_media_api/pydev_multimedia_api_x3/object_camera.md","sourceDirName":"03_Basic_Application/04_multi_media/multi_media_api/pydev_multimedia_api_x3","slug":"/Basic_Application/multi_media/multi_media_api/pydev_multimedia_api_x3/object_camera","permalink":"/rdk_doc/en/Basic_Application/multi_media/multi_media_api/pydev_multimedia_api_x3/object_camera","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1755152490000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"3.4.3 RDK X3/X5 Multimedia Interface User Guide","permalink":"/rdk_doc/en/Basic_Application/multi_media/multi_media_api/pydev_multimedia_api_x3/"},"next":{"title":"Encoder Object","permalink":"/rdk_doc/en/Basic_Application/multi_media/multi_media_api/pydev_multimedia_api_x3/object_encoder"}}');var r=t(74848),s=t(28453);const c={sidebar_position:1},d="Camera Object",o={},l=[{value:"open_cam",id:"open_cam",level:2},{value:"open_vps",id:"open_vps",level:2},{value:"get_img",id:"get_img",level:2},{value:"set_img",id:"set_img",level:2},{value:"close_cam",id:"close_cam",level:2}];function a(e){const n={admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"camera-object",children:"Camera Object"})}),"\n",(0,r.jsxs)(n.p,{children:["The Camera object is used to perform image acquisition and processing functions for MIPI cameras. It includes several methods such as ",(0,r.jsx)(n.code,{children:"open_cam"}),", ",(0,r.jsx)(n.code,{children:"open_vps"}),", ",(0,r.jsx)(n.code,{children:"get_img"}),", ",(0,r.jsx)(n.code,{children:"set_img"}),", ",(0,r.jsx)(n.code,{children:"close_cam"}),", etc. Here are the detailed explanations:"]}),"\n",(0,r.jsx)(n.h2,{id:"open_cam",children:"open_cam"}),"\n",(0,r.jsx)("font",{color:"Blue",children:"[Function Description]"}),"\n",(0,r.jsx)(n.p,{children:"Opens the specified MIPI camera channel and sets the camera output frame rate and resolution format."}),"\n",(0,r.jsx)("font",{color:"Blue",children:"[Function Declaration]"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"Camera.open_cam(pipe_id, video_index, fps, width, height, raw_height, raw_width)\n"})}),"\n",(0,r.jsx)("font",{color:"Blue",children:"[Parameter Description]"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter Name"}),(0,r.jsx)(n.th,{children:"Definition Description"}),(0,r.jsx)(n.th,{children:"Value Range"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"pipe_id"}),(0,r.jsx)(n.td,{children:"Pipeline channel number corresponding to the camera"}),(0,r.jsx)(n.td,{children:"Starts from 0 by default, range: 0-7"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"video_index"}),(0,r.jsx)(n.td,{children:"Host number corresponding to the camera, -1 for auto detection. The number can be found in the /etc/board_config.json configuration file"}),(0,r.jsx)(n.td,{children:"Values: -1, 0, 1, 2"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"fps"}),(0,r.jsx)(n.td,{children:"Camera image output frame rate"}),(0,r.jsx)(n.td,{children:"Depends on the camera model, default value: 30"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"width"}),(0,r.jsx)(n.td,{children:"Final width of the camera image output"}),(0,r.jsx)(n.td,{children:"Depends on the camera model, default value: 1920 (2560 for GC4663)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"height"}),(0,r.jsx)(n.td,{children:"Final height of the camera image output"}),(0,r.jsx)(n.td,{children:"Depends on the camera model, default value: 1080 (1440 for GC4663)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"raw_height"}),(0,r.jsx)(n.td,{children:"Width of the original RAW camera image output"}),(0,r.jsx)(n.td,{children:"Depends on the camera model, default value: 1920 (2560 for GC4663)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"raw_width"}),(0,r.jsx)(n.td,{children:"Height of the original RAW camera image output"}),(0,r.jsx)(n.td,{children:"Depends on the camera model, default value: 1080 (1440 for GC4663)"})]})]})]}),"\n",(0,r.jsx)("font",{color:"Blue",children:"[Usage]"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"#create camera object\ncamera = libsrcampy.Camera()\n\n#open MIPI Camera, fps: 30, solution: 1080p\nret = camera.open_cam(0, -1, 30, 1920, 1080)\n"})}),"\n",(0,r.jsx)("font",{color:"Blue",children:"[Return Value]"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Return Value"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"0"}),(0,r.jsx)(n.td,{children:"Success"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-1"}),(0,r.jsx)(n.td,{children:"Failure"})]})]})]}),"\n",(0,r.jsx)("font",{color:"Blue",children:"[Notes]"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"width"})," and ",(0,r.jsx)(n.code,{children:"height"})," parameters support ",(0,r.jsx)(n.code,{children:"list"})," type input, which enables the camera to output multiple sets of different resolutions. The ",(0,r.jsx)(n.code,{children:"list"})," supports up to 4 groups of downsizing and 1 group of enlargement, with a scaling range between ",(0,r.jsx)(n.code,{children:"1/8"})," and ",(0,r.jsx)(n.code,{children:"1.5"})," times the original resolution of the camera. The usage is as follows:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"ret = cam.open_cam(0, -1, 30, [1920, 1280], [1080, 720])\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"raw_height"})," and ",(0,r.jsx)(n.code,{children:"raw_width"})," parameters are only set when the camera is not in the default resolution. For example, when using the ",(0,r.jsx)(n.code,{children:"IMX477"})," camera and want to output both 4k resolution (3840x2160) and 1080P resolution (1920x1080), you can use:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"cam.open_cam(0, -1, 10, [3840, 1920], [2160, 1080], 3000, 4000)\n"})}),"\n",(0,r.jsx)(n.p,{children:"Supported camera resolutions are shown in the table below:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"camera"}),(0,r.jsx)(n.th,{children:"resolution"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"IMX219"}),(0,r.jsx)(n.td,{children:"1920x1080@30fps(default), 640x480@30fps, 1632x1232@30fps, 3264x2464@15fps(max)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"IMX477"}),(0,r.jsx)(n.td,{children:"1920x1080@50fps(default), 1280x960@120fps, 2016x1520@40fps, 4000x3000@10fps(max)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"OV5647"}),(0,r.jsx)(n.td,{children:"1920x1080@30fps(default), 640x480@60fps, 1280x960@30fps, 2592x1944@15fps(max)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"F37"}),(0,r.jsx)(n.td,{children:"1920x1080@30fps(default)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"GC4663"}),(0,r.jsx)(n.td,{children:"2560x1440@30fps(default)"})]})]})]}),"\n",(0,r.jsx)(n.admonition,{title:"Note!",type:"info",children:(0,r.jsxs)(n.p,{children:["When switching from ",(0,r.jsx)(n.code,{children:"1080P"})," resolution to other resolutions on ",(0,r.jsx)(n.code,{children:"IMX477"}),", manual reset is required. You can execute ",(0,r.jsx)(n.code,{children:"hobot_reset_camera.py"})," on the board to perform the reset operation."]})}),"\n",(0,r.jsx)(n.admonition,{title:"Note!",type:"info",children:(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"X3"})," chip has alignment requirements for the width of the ",(0,r.jsx)(n.code,{children:"VPS"})," output. If the width you set does not satisfy the alignment requirement of ",(0,r.jsx)(n.strong,{children:"32"}),", it will be rounded up automatically. For example, if you set the output width to ",(0,r.jsx)(n.code,{children:"720"})," and height to ",(0,r.jsx)(n.code,{children:"480"}),", the actual width of the ",(0,r.jsx)(n.code,{children:"VPS"})," output will be ",(0,r.jsx)(n.code,{children:"736"}),". In the ",(0,r.jsx)(n.strong,{children:"binding"})," situation, this will be automatically handled in the library. In the ",(0,r.jsx)(n.strong,{children:"non-binding"})," situation, be aware of the width alignment when manually handling the frame buffer, and also be aware that there may be screen glitches and green lines when passing frames to the display module in such non-aligned situations."]})}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Reference code\u3011"}),"\n",(0,r.jsx)(n.p,{children:"None"}),"\n",(0,r.jsx)(n.h2,{id:"open_vps",children:"open_vps"}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Function Description\u3011"}),"\n",(0,r.jsx)(n.p,{children:"Enables the vps (video process) image processing function for the specified camera channel, supporting functions such as scaling, rotation, and cropping of input images."}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Function Declaration\u3011"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"Camera.open_vps(pipe_id, proc_mode, src_width, src_height, dst_width, dst_height, crop_rect, rotate, src_size, dst_size)\n"})}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Parameter Description\u3011"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter Name"}),(0,r.jsx)(n.th,{children:"Definition"}),(0,r.jsx)(n.th,{children:"Value Range"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"pipe_id"}),(0,r.jsx)(n.td,{children:"pipeline channel number corresponding to the camera"}),(0,r.jsx)(n.td,{children:"default starts from 0, range 0~7"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"proc_mode"}),(0,r.jsx)(n.td,{children:"image processing mode configuration, supports scaling, rotation, cropping"}),(0,r.jsxs)(n.td,{children:["range 1~4, representing ",(0,r.jsx)(n.code,{children:"scaling"}),", ",(0,r.jsx)(n.code,{children:"scaling+cropping"}),", ",(0,r.jsx)(n.code,{children:"scaling+rotation"}),", ",(0,r.jsx)(n.code,{children:"scaling+cropping+rotation"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"src_width"}),(0,r.jsx)(n.td,{children:"image input width"}),(0,r.jsx)(n.td,{children:"depends on the camera's output width"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"src_height"}),(0,r.jsx)(n.td,{children:"image input height"}),(0,r.jsx)(n.td,{children:"depends on the camera's output height"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"dst_width"}),(0,r.jsx)(n.td,{children:"image output width"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"1/8~1.5"})," times the input width"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"dst_height"}),(0,r.jsx)(n.td,{children:"image output height"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"1/8~1.5"})," times the input height"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"crop_rect"}),(0,r.jsx)(n.td,{children:"cropping area width and height, input format[x, y]"}),(0,r.jsx)(n.td,{children:"within the input image size"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"rotate"}),(0,r.jsx)(n.td,{children:"rotation angle, supports up to two channel rotations"}),(0,r.jsxs)(n.td,{children:["range 0~3, representing ",(0,r.jsx)(n.code,{children:"no rotation"}),", ",(0,r.jsx)(n.code,{children:"90 degrees"}),", ",(0,r.jsx)(n.code,{children:"180 degrees"}),", ",(0,r.jsx)(n.code,{children:"270 degrees"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"src_size"}),(0,r.jsx)(n.td,{children:"reserved parameter"}),(0,r.jsx)(n.td,{children:"no configuration required by default"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"dst_size"}),(0,r.jsx)(n.td,{children:"reserved parameter"}),(0,r.jsx)(n.td,{children:"no configuration required by default"})]})]})]}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Usage\u3011"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"#create camera object\ncamera = libsrcampy.Camera()\n\n#enable vps function\nret = camera.open_vps(1, 1, 1920, 1080, 512, 512)\n"})}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Return Value\u3011"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Return Value"}),(0,r.jsx)(n.th,{children:"Definition"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"0"}),(0,r.jsx)(n.td,{children:"Success"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-1"}),(0,r.jsx)(n.td,{children:"Failure"})]})]})]}),"\n",(0,r.jsx)(n.admonition,{title:"Note!",type:"info",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["VPS processing function supports up to 6 channel outputs, 5 for scaling down and 1 for scaling up. The scaling range is between ",(0,r.jsx)(n.code,{children:"1/8~1.5"})," times the original resolution. Multiple channel configurations are passed through the input parameter ",(0,r.jsx)(n.code,{children:"list"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Image cropping function starts from the top left corner of the image and crops according to the configured size."}),"\n",(0,r.jsxs)(n.li,{children:["Image cropping is performed before scaling and rotation operations. Multiple channel configurations are passed through the input parameter ",(0,r.jsx)(n.code,{children:"list"}),"."]}),"\n"]})}),"\n",(0,r.jsx)(n.admonition,{title:"Note!",type:"info",children:(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"X3"})," chip has alignment requirements for the width of the ",(0,r.jsx)(n.code,{children:"VPS"})," output. If the width you set does not meet the alignment requirement of ",(0,r.jsx)(n.strong,{children:"32"}),", it will be rounded up automatically. For example, if you set the output width to ",(0,r.jsx)(n.code,{children:"720"})," and height to ",(0,r.jsx)(n.code,{children:"480"}),", the actual output width of ",(0,r.jsx)(n.code,{children:"VPS"})," will be ",(0,r.jsx)(n.code,{children:"736"}),". In the ",(0,r.jsx)(n.strong,{children:"binding"})," situation, this situation will be automatically handled in the library ",(0,r.jsx)(n.strong,{children:"automatically"}),". In the case of ",(0,r.jsx)(n.strong,{children:"non-binding"}),", pay attention to the width alignment issue when manually handling the frame buffer, as well as the occurrence of ",(0,r.jsx)(n.strong,{children:"screen distortion and green lines"})," when passing the frame to the display module in this non-aligned situation."]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"#creat camera object\ncamera = libsrcampy.Camera()\n\n#enable vps function\n#input: 4k, output0: 1080p, output1: 720p\n#ouput0 croped by [2560, 1440]\nret = camera.open_vps(0, 1, 3840, 2160, [1920, 1280], [1080, 720], [2560, 1440])\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)("font",{color:"Blue",children:"\u3010Reference Code\u3011"}),(0,r.jsx)(n.br,{}),"\n","N/A"]}),"\n",(0,r.jsx)(n.h2,{id:"get_img",children:"get_img"}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Description\u3011"}),"\n",(0,r.jsxs)(n.p,{children:["Get the image output from the camera object. Must be called after ",(0,r.jsx)(n.code,{children:"open_cam"})," or ",(0,r.jsx)(n.code,{children:"open_vps"}),"."]}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Function Declaration\u3011"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"Camera.get_img(module, width, height)\n"})}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Parameter Description\u3011"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Definition"}),(0,r.jsx)(n.th,{children:"Range"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"module"}),(0,r.jsx)(n.td,{children:"The module from which to get the image"}),(0,r.jsx)(n.td,{children:"Default value: 2"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"width"}),(0,r.jsx)(n.td,{children:"The width of the image to be obtained"}),(0,r.jsxs)(n.td,{children:["The output width set by ",(0,r.jsx)(n.code,{children:"open_cam"})," or ",(0,r.jsx)(n.code,{children:"open_vps"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"height"}),(0,r.jsx)(n.td,{children:"The height of the image to be obtained"}),(0,r.jsxs)(n.td,{children:["The output height set by ",(0,r.jsx)(n.code,{children:"open_cam"})," or ",(0,r.jsx)(n.code,{children:"open_vps"})]})]})]})]}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Usage\u3011"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"cam = libsrcampy.Camera()\n\n#open MIPI Camera, fps: 30, solution: 1080p\nret = cam.open_cam(0, 1, 30, 1920, 1080)\n\n#wait for 1s\ntime.sleep(1)\n\n#get one image from camera\nimg = cam.get_img(2)\n"})}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Return Value\u3011"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Return Value"}),(0,r.jsx)(n.th,{children:"Definition"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"0"}),(0,r.jsx)(n.td,{children:"Success"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-1"}),(0,r.jsx)(n.td,{children:"Failure"})]})]})]}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Notes\u3011"}),"\n",(0,r.jsxs)(n.p,{children:["This method needs to be called after ",(0,r.jsx)(n.code,{children:"open_cam"})," and ",(0,r.jsx)(n.code,{children:"open_vps"}),"."]}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Reference Code\u3011"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import sys, os, time\n\nfrom hobot_vio import libsrcampy\n\ndef test_camera():\n    cam = libsrcampy.Camera()\n\n    #open MIPI camera, fps: 30, solution: 1080p\n    ret = cam.open_cam(0, 1, 30, 1920, 1080)\n    print("Camera open_cam return:%d" % ret)\n\n    # wait for 1s\n    time.sleep(1)\n\n    #get one image from camera   \n    img = cam.get_img(2)\n    if img is not None:\n        #save file\n        fo = open("output.img", "wb")\n        fo.write(img)\n        fo.close()\n        print("camera save img file success")\n    else:\n        print("camera save img file failed")\n\n    #close MIPI camera\n    cam.close_cam()\n    print("test_camera done!!!")\n\ntest_camera()\n'})}),"\n",(0,r.jsx)(n.h2,{id:"set_img",children:"set_img"}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Function Description\u3011"}),"\n",(0,r.jsxs)(n.p,{children:["Input image to the ",(0,r.jsx)(n.code,{children:"vps"})," module and trigger the image processing operation."]}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Function Declaration\u3011"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"Camera.set_img(img)\n"})}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Parameter Description\u3011"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter Name"}),(0,r.jsx)(n.th,{children:"Definition"}),(0,r.jsx)(n.th,{children:"Value Range"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"img"}),(0,r.jsx)(n.td,{children:"Image data to process"}),(0,r.jsx)(n.td,{children:"Consistent with vps input size"})]})})]}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Usage\u3011"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'camera = libsrcampy.Camera()\n\n#enable vps function, input: 1080p, output: 512x512\nret = camera.open_vps(1, 1, 1920, 1080, 512, 512)\nprint("Camera vps return:%d" % ret)\n\nfin = open("output.img", "rb")\nimg = fin.read()\nfin.close()\n\n#send image to vps module\nret = vps.set_img(img)\n'})}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Return Value\u3011"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Return Value"}),(0,r.jsx)(n.th,{children:"Definition"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"0"}),(0,r.jsx)(n.td,{children:"Success"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-1"}),(0,r.jsx)(n.td,{children:"Failure"})]})]})]}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Notes\u3011"}),"\n",(0,r.jsxs)(n.p,{children:["This interface needs to be called after ",(0,r.jsx)(n.code,{children:"open_vps"}),"."]}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Reference Code\u3011"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import sys, os, time\n\nimport numpy as np\nimport cv2\nfrom hobot_vio import libsrcampy\n\ndef test_camera_vps():\n    vps = libsrcampy.Camera()\n\n    #enable vps function, input: 1080p, output: 512x512\n    ret = vps.open_vps(1, 1, 1920, 1080, 512, 512)\n    print("Camera vps return:%d" % ret)\n\n    fin = open("output.img", "rb")\n    img = fin.read()\n    fin.close()\n\n    #send image data to vps\n    ret = vps.set_img(img)\n    print ("Process set_img return:%d" % ret)\n\n    fo = open("output_vps.img", "wb+")\n\n    #get image data from vps\n    img = vps.get_img()\n    if img is not None:\n        fo.write(img)\n        print("encode write image success")\n    else:\n        print("encode write image failed")\n    fo.close()\n\n    #close vps function\n    vps.close_cam()\n    print("test_camera_vps done!!!")\n\ntest_camera_vps():\n'})}),"\n",(0,r.jsx)(n.h2,{id:"close_cam",children:"close_cam"}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Function Description\u3011"}),"\n",(0,r.jsx)(n.p,{children:"Disable the MIPI camera."}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Function Prototype\u3011"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"Camera.close_cam()\n"})}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Parameter Description\u3011"}),"\n",(0,r.jsx)(n.p,{children:"None"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)("font",{color:"Blue",children:"\u3010Usage\u3011"}),"cam = libsrcampy.Camera()"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'#open MIPI camera, fps: 30, solution: 1080p\nret = cam.open_cam(0, 1, 30, 1920, 1080)\nprint("Camera open_cam return:%d" % ret)\n\n#close MIPI camera\ncam.close_cam()\n'})}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Return\u3011"}),"\n",(0,r.jsx)(n.p,{children:"None"}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Notes\u3011"}),"\n",(0,r.jsx)(n.p,{children:"None"}),"\n",(0,r.jsx)("font",{color:"Blue",children:"\u3010Reference Code\u3011"}),"\n",(0,r.jsx)(n.p,{children:"None"})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);