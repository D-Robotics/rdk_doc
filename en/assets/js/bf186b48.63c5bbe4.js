"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[2836],{11470:(e,t,n)=>{n.d(t,{A:()=>y});var i=n(96540),s=n(34164),r=n(23104),a=n(56347),o=n(205),l=n(57485),c=n(31682),h=n(70679);function d(e){return i.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function m(e){const{values:t,children:n}=e;return(0,i.useMemo)(()=>{const e=t??function(e){return d(e).map(({props:{value:e,label:t,attributes:n,default:i}})=>({value:e,label:t,attributes:n,default:i}))}(n);return function(e){const t=(0,c.XI)(e,(e,t)=>e.value===t.value);if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[t,n])}function u({value:e,tabValues:t}){return t.some(t=>t.value===e)}function p({queryString:e=!1,groupId:t}){const n=(0,a.W6)(),s=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,l.aZ)(s),(0,i.useCallback)(e=>{if(!s)return;const t=new URLSearchParams(n.location.search);t.set(s,e),n.replace({...n.location,search:t.toString()})},[s,n])]}function x(e){const{defaultValue:t,queryString:n=!1,groupId:s}=e,r=m(e),[a,l]=(0,i.useState)(()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!u({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=t.find(e=>e.default)??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:r})),[c,d]=p({queryString:n,groupId:s}),[x,g]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,s]=(0,h.Dv)(t);return[n,(0,i.useCallback)(e=>{t&&s.set(e)},[t,s])]}({groupId:s}),_=(()=>{const e=c??x;return u({value:e,tabValues:r})?e:null})();(0,o.A)(()=>{_&&l(_)},[_]);return{selectedValue:a,selectValue:(0,i.useCallback)(e=>{if(!u({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),g(e)},[d,g,r]),tabValues:r}}var g=n(92303);const _={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=n(74848);function b({className:e,block:t,selectedValue:n,selectValue:i,tabValues:a}){const o=[],{blockElementScrollPositionUntilNextRender:l}=(0,r.a_)(),c=e=>{const t=e.currentTarget,s=o.indexOf(t),r=a[s].value;r!==n&&(l(t),i(r))},h=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=o.indexOf(e.currentTarget)+1;t=o[n]??o[0];break}case"ArrowLeft":{const n=o.indexOf(e.currentTarget)-1;t=o[n]??o[o.length-1];break}}t?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":t},e),children:a.map(({value:e,label:t,attributes:i})=>(0,j.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{o.push(e)},onKeyDown:h,onClick:c,...i,className:(0,s.A)("tabs__item",_.tabItem,i?.className,{"tabs__item--active":n===e}),children:t??e},e))})}function f({lazy:e,children:t,selectedValue:n}){const r=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=r.find(e=>e.props.value===n);return e?(0,i.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:r.map((e,t)=>(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==n}))})}function v(e){const t=x(e);return(0,j.jsxs)("div",{className:(0,s.A)("tabs-container",_.tabList),children:[(0,j.jsx)(b,{...t,...e}),(0,j.jsx)(f,{...t,...e})]})}function y(e){const t=(0,g.A)();return(0,j.jsx)(v,{...e,children:d(e.children)},String(t))}},19365:(e,t,n)=>{n.d(t,{A:()=>a});n(96540);var i=n(34164);const s={tabItem:"tabItem_Ymn6"};var r=n(74848);function a({children:e,hidden:t,className:n}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,i.A)(s.tabItem,n),hidden:t,children:e})}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var i=n(96540);const s={},r=i.createContext(s);function a(e){const t=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:t},e.children)}},94963:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>c,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"Robot_development/boxs/function/hobot_stereonet","title":"Stereo Depth Algorithm","description":"Function Introduction","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/05_Robot_development/03_boxs/function/hobot_stereonet.md","sourceDirName":"05_Robot_development/03_boxs/function","slug":"/Robot_development/boxs/function/hobot_stereonet","permalink":"/rdk_doc/en/Robot_development/boxs/function/hobot_stereonet","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1754405323000,"sidebarPosition":13,"frontMatter":{"sidebar_position":13},"sidebar":"tutorialSidebar","previous":{"title":"CLIP","permalink":"/rdk_doc/en/Robot_development/boxs/function/hobot_clip"},"next":{"title":"Segment Anything","permalink":"/rdk_doc/en/Robot_development/boxs/function/mono_mobilesam"}}');var s=n(74848),r=n(28453),a=n(11470),o=n(19365);const l={sidebar_position:13},c="Stereo Depth Algorithm",h={},d=[{value:"Function Introduction",id:"function-introduction",level:2},{value:"Supported Platforms",id:"supported-platforms",level:2},{value:"Preparation",id:"preparation",level:2},{value:"RDK Platform",id:"rdk-platform",level:3},{value:"Usage Instructions",id:"usage-instructions",level:2},{value:"Function Installation and Update",id:"function-installation-and-update",level:3},{value:"Stereo Algorithm Versions",id:"stereo-algorithm-versions",level:3},{value:"Starting Stereo Image Publishing, Algorithm Inference, and Image Visualization",id:"starting-stereo-image-publishing-algorithm-inference-and-image-visualization",level:3},{value:"(1) Startup with Official RDK X5 MIPI Stereo Camera",id:"1-startup-with-official-rdk-x5-mipi-stereo-camera",level:4},{value:"(2) Offline Replay with Local Images",id:"2-offline-replay-with-local-images",level:4},{value:"(3) Startup with ZED Stereo Camera",id:"3-startup-with-zed-stereo-camera",level:4},{value:"hobot_stereonet Package Description",id:"hobot_stereonet-package-description",level:2},{value:"Subscribed Topics",id:"subscribed-topics",level:3},{value:"Published Topics",id:"published-topics",level:3},{value:"Other Important Parameters",id:"other-important-parameters",level:3},{value:"Notes",id:"notes",level:2}];function m(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"stereo-depth-algorithm",children:"Stereo Depth Algorithm"})}),"\n","\n",(0,s.jsx)(t.h2,{id:"function-introduction",children:"Function Introduction"}),"\n",(0,s.jsxs)(t.p,{children:["The stereo depth estimation algorithm uses the ",(0,s.jsx)(t.code,{children:"StereoNet"})," model trained by Horizon ",(0,s.jsx)(t.a,{href:"https://developer.horizon.ai/api/v1/fileData/horizon_j5_open_explorer_cn_doc/hat/source/examples/stereonet.html",children:"OpenExplorer"})," on the ",(0,s.jsx)(t.a,{href:"https://lmb.informatik.uni-freiburg.de/resources/datasets/SceneFlowDatasets.en.html",children:"SceneFlow"})," dataset."]}),"\n",(0,s.jsx)(t.p,{children:"The algorithm takes stereo image data (left and right views) as input and outputs the depth map for the left view."}),"\n",(0,s.jsx)(t.p,{children:"This example uses a stereo camera as the image data input source, leverages the BPU for algorithm inference, and publishes topic messages containing the left image of the stereo pair and the perception results, which are then rendered on rviz2 on a PC."}),"\n",(0,s.jsx)(t.h2,{id:"supported-platforms",children:"Supported Platforms"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Platform"}),(0,s.jsx)(t.th,{children:"Operating Mode"}),(0,s.jsx)(t.th,{children:"Supported Features"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"RDK X5, RDK X5 Module, The RDK S100 currently only supports starting with the ZED stereo camera."}),(0,s.jsx)(t.td,{children:"Ubuntu 22.04 (Humble)"}),(0,s.jsx)(t.td,{children:"\xb7 Start stereo camera, infer depth results, and display on Web interface"})]})})]}),"\n",(0,s.jsx)(t.h2,{id:"preparation",children:"Preparation"}),"\n",(0,s.jsx)(t.h3,{id:"rdk-platform",children:"RDK Platform"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"The RDK has been flashed with the Ubuntu 22.04 system image."}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"TogetheROS.Bot has been successfully installed on the RDK."}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"An MIPI or USB stereo camera has been installed on the RDK. Currently, the official MIPI stereo camera for RDK X5 and the ZED stereo camera are supported. If no stereo camera is available, users can also use offline data for replay to obtain depth estimation results."}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Ensure that the PC can access the RDK over the network."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"usage-instructions",children:"Usage Instructions"}),"\n",(0,s.jsx)(t.h3,{id:"function-installation-and-update",children:"Function Installation and Update"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Before running the stereo depth algorithm, ensure that the system image version is ",(0,s.jsx)(t.code,{children:"3.2.1"})," or above. Use the following command to check the system version:"]}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"cat /etc/version\n"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/05_Robot_development/03_boxs/function/image/box_adv/os_version.png",alt:"os_version"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["If the system version does not meet the requirement, refer to section ",(0,s.jsx)(t.code,{children:"1.2"})," for instructions on flashing the image."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Additionally, ensure that the ",(0,s.jsx)(t.code,{children:"tros-humble-hobot-stereonet"})," package is at version 2.4.2. Use the following command to check the package version:"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"apt list | grep tros-humble-hobot-stereonet/\n"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/05_Robot_development/03_boxs/function/image/box_adv/hobot_stereonet_version.png",alt:"hobot_stereonet_version"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["If using the official MIPI stereo camera for RDK X5, ensure that the ",(0,s.jsx)(t.code,{children:"tros-humble-mipi-cam"})," package is at version 2.3.8. Use the following command to check the package version:"]}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"apt list | grep tros-humble-mipi-cam/\n"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/05_Robot_development/03_boxs/function/image/box_adv/mipi_cam_version.png",alt:"mipi_cam_version"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["If using the ZED stereo camera, ensure that the ",(0,s.jsx)(t.code,{children:"tros-humble-hobot-zed-cam"})," package is at version 2.3.3. Use the following command to check the package version:"]}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"apt list | grep tros-humble-hobot-zed-cam/\n"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/05_Robot_development/03_boxs/function/image/box_adv/zed_cam_version.png",alt:"zed_cam_version"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"If the package versions do not meet the requirements, update them by running the following commands in the RDK terminal:"}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"apt update\napt upgrade\n"})}),"\n",(0,s.jsx)(t.h3,{id:"stereo-algorithm-versions",children:"Stereo Algorithm Versions"}),"\n",(0,s.jsx)(t.p,{children:"The following versions of the stereo algorithm are currently available:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Algorithm Version"}),(0,s.jsx)(t.th,{children:"Algorithm Characteristics"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"V2.0"}),(0,s.jsx)(t.td,{children:"High accuracy, low frame rate, outputs a 15FPS depth map with a resolution of 640*352"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"V2.2"}),(0,s.jsx)(t.td,{children:"Lower accuracy, higher frame rate, outputs a 23FPS depth map with a resolution of 640*352"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"V2.3"}),(0,s.jsx)(t.td,{children:"Further improved frame rate, outputs a 27FPS depth map with a resolution of 640*352"})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"starting-stereo-image-publishing-algorithm-inference-and-image-visualization",children:"Starting Stereo Image Publishing, Algorithm Inference, and Image Visualization"}),"\n",(0,s.jsxs)("span",{style:{color:"red"},children:[" Note: Please execute the commands in this document using the ",(0,s.jsx)(t.code,{children:"root"})," user. Other users may encounter permission issues leading to unnecessary errors. "]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/05_Robot_development/03_boxs/function/image/box_adv/os_user.png",alt:"os_user"})}),"\n",(0,s.jsx)(t.p,{children:"The stereo depth algorithm supports multiple cameras, including both MIPI and USB cameras. The startup commands differ slightly depending on the camera used. The specific startup commands are as follows:"}),"\n",(0,s.jsx)(t.h4,{id:"1-startup-with-official-rdk-x5-mipi-stereo-camera",children:"(1) Startup with Official RDK X5 MIPI Stereo Camera"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"The official MIPI stereo camera for RDK X5 is shown below:"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/05_Robot_development/03_boxs/function/image/box_adv/RDK_Stereo_Cam_230ai.png",alt:"RDK_Stereo_Cam_230ai"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"The installation method is shown below. Ensure the wiring is correct to avoid swapping the left and right images, which would cause the stereo algorithm to run incorrectly:"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/05_Robot_development/03_boxs/function/image/box_adv/RDK_X5_230ai.png",alt:"RDK_X5_230ai"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Verify that the camera is connected properly. Connect to the RDK X5 via SSH and execute the following commands. If the output matches the image below, the camera is connected correctly:"}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"i2cdetect -r -y 4\ni2cdetect -r -y 6\n"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/05_Robot_development/03_boxs/function/image/box_adv/i2cdetect_230ai.png",alt:"i2cdetect_230ai"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Start the corresponding version of the stereo algorithm using different launch files. Connect to the RDK X5 via SSH and execute the following commands:"}),"\n"]}),"\n",(0,s.jsxs)(a.A,{groupId:"stereo-version",children:[(0,s.jsx)(o.A,{value:"V2.0",label:"V2.0",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"# Configure the tros.b humble environment\nsource /opt/tros/humble/setup.bash\n\n# Start the stereo model launch file, which includes the algorithm and stereo camera node\nros2 launch hobot_stereonet stereonet_model_web_visual_v2.0.launch.py \\\nmipi_image_width:=640 mipi_image_height:=352 mipi_lpwm_enable:=True mipi_image_framerate:=15.0 \\\nneed_rectify:=False height_min:=-10.0 height_max:=10.0 pc_max_depth:=5.0\n"})})}),(0,s.jsx)(o.A,{value:"V2.2",label:"V2.2",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"# Configure the tros.b humble environment\nsource /opt/tros/humble/setup.bash\n\n# Start the stereo model launch file, which includes the algorithm and stereo camera node\nros2 launch hobot_stereonet stereonet_model_web_visual_v2.2.launch.py \\\nmipi_image_width:=640 mipi_image_height:=352 mipi_lpwm_enable:=True mipi_image_framerate:=25.0 \\\nneed_rectify:=False height_min:=-10.0 height_max:=10.0 pc_max_depth:=5.0\n"})})}),(0,s.jsx)(o.A,{value:"V2.3",label:"V2.3",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"# Configure the tros.b humble environment\nsource /opt/tros/humble/setup.bash\n\n# Start the stereo model launch file, which includes the algorithm and stereo camera node\nros2 launch hobot_stereonet stereonet_model_web_visual_v2.3.launch.py \\\nmipi_image_width:=640 mipi_image_height:=352 mipi_lpwm_enable:=True mipi_image_framerate:=30.0 \\\nneed_rectify:=False height_min:=-10.0 height_max:=10.0 pc_max_depth:=5.0\n"})})})]}),"\n",(0,s.jsx)(t.p,{children:"Parameter explanations:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter Name"}),(0,s.jsx)(t.th,{children:"Parameter Value"}),(0,s.jsx)(t.th,{children:"Explanation"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"mipi_image_width"}),(0,s.jsx)(t.td,{children:"640"}),(0,s.jsx)(t.td,{children:"The output resolution of the MIPI camera is 640*352"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"mipi_image_height"}),(0,s.jsx)(t.td,{children:"352"}),(0,s.jsx)(t.td,{children:"The output resolution of the MIPI camera is 640*352"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"mipi_lpwm_enable"}),(0,s.jsx)(t.td,{children:"True"}),(0,s.jsx)(t.td,{children:"Enable hardware synchronization for the MIPI camera"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"mipi_image_framerate"}),(0,s.jsx)(t.td,{children:"30.0"}),(0,s.jsx)(t.td,{children:"The output frame rate of the MIPI camera is 30.0FPS"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"need_rectify"}),(0,s.jsx)(t.td,{children:"False"}),(0,s.jsx)(t.td,{children:"Since the official camera comes with pre-calibrated parameters, automatic rectification is performed, and no custom calibration file is needed"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"height_min"}),(0,s.jsx)(t.td,{children:"-10.0"}),(0,s.jsx)(t.td,{children:"The minimum height of the point cloud is -10.0m"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"height_max"}),(0,s.jsx)(t.td,{children:"10.0"}),(0,s.jsx)(t.td,{children:"The maximum height of the point cloud is 10.0m"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"pc_max_depth"}),(0,s.jsx)(t.td,{children:"5.0"}),(0,s.jsx)(t.td,{children:"The maximum depth of the point cloud is 5.0m"})]})]})]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["The following log indicates that the stereo algorithm has started successfully. ",(0,s.jsx)(t.code,{children:"fx/fy/cx/cy/base_line"})," are the camera intrinsic parameters. If the depth map is normal but the estimated distance is inaccurate, there may be an issue with the camera intrinsic parameters:"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/05_Robot_development/03_boxs/function/image/box_adv/stereonet_run_success_log.png",alt:"stereonet_run_success_log"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["View the depth map on the web interface by entering ",(0,s.jsx)(t.a,{href:"http://ip:8000",children:"http://ip:8000"})," in the browser (the RDK X5 IP in the image is 192.168.1.100):"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/05_Robot_development/03_boxs/function/image/box_adv/web_depth_visual.png",alt:"web_depth_visual"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"View the point cloud in rviz2. This requires some basic ROS2 knowledge. Configure the PC and RDK X5 to be in the same network segment and ensure they can ping each other. Subscribe to the relevant topics published by the stereo model node to display the point cloud in rviz2. Note the following configurations in rviz2:"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/05_Robot_development/03_boxs/function/image/box_adv/stereonet_rviz.png",alt:"stereonet_rviz"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["If you want to save the depth estimation results, you can add the following parameters to enable saving, control the saving frequency, specify the saving directory (which will be created automatically if it does not exist), and control the total number of saves. The program will save ",(0,s.jsx)(t.strong,{children:"camera intrinsic parameters, left and right images, disparity map, depth map, and visualization image"}),":"]}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"# Configure the tros.b humble environment\nsource /opt/tros/humble/setup.bash\n\n# Here, we use the V2.0 version of the algorithm as an example. Similar parameters can be added for other versions.\nros2 launch hobot_stereonet stereonet_model_web_visual_v2.0.launch.py \\\nmipi_image_width:=640 mipi_image_height:=352 mipi_lpwm_enable:=True mipi_image_framerate:=15.0 \\\nneed_rectify:=False height_min:=-10.0 height_max:=10.0 pc_max_depth:=5.0 \\\nsave_image_all:=True save_freq:=4 save_dir:=./online_result save_total:=10\n"})}),"\n",(0,s.jsx)(t.p,{children:"Parameter explanations:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter Name"}),(0,s.jsx)(t.th,{children:"Parameter Value"}),(0,s.jsx)(t.th,{children:"Explanation"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"save_image_all"}),(0,s.jsx)(t.td,{children:"True"}),(0,s.jsx)(t.td,{children:"Enable image saving"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"save_freq"}),(0,s.jsx)(t.td,{children:"4"}),(0,s.jsx)(t.td,{children:"Save once every 4 frames. Can be modified to any positive number."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"save_dir"}),(0,s.jsx)(t.td,{children:"Directory to save images"}),(0,s.jsx)(t.td,{children:"The directory to save the images. Can be set as needed."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"save_total"}),(0,s.jsx)(t.td,{children:"10"}),(0,s.jsx)(t.td,{children:"Save a total of 10 images. Set to -1 for continuous saving."})]})]})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/05_Robot_development/03_boxs/function/image/box_adv/stereonet_save_log.png",alt:"stereonet_save_log"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/05_Robot_development/03_boxs/function/image/box_adv/stereonet_save_files.png",alt:"stereonet_save_files"})}),"\n",(0,s.jsx)(t.h4,{id:"2-offline-replay-with-local-images",children:"(2) Offline Replay with Local Images"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"If you want to evaluate the algorithm using local images, you can use the following command to specify the algorithm's running mode, image data path, and camera intrinsic parameters. Ensure that the image data has been undistorted and epipolar-aligned. The image format is shown below. The first left-eye image is named left000000.png, the second left-eye image is named left000001.png, and so on. The corresponding first right-eye image is named right000000.png, the second right-eye image is named right000001.png, and so on. The algorithm processes the images in sequence until all images are processed:"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/05_Robot_development/03_boxs/function/image/box_adv/image_format.png",alt:"stereonet_rdk"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"To run the algorithm offline, connect to the RDK X5 via SSH and execute the following command:"}),"\n"]}),"\n",(0,s.jsxs)(a.A,{groupId:"stereo-version",children:[(0,s.jsx)(o.A,{value:"V2.0",label:"V2.0",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"# Configure the tros.b humble environment\nsource /opt/tros/humble/setup.bash\n\n# Start the stereo model launch file. Note the camera parameter settings, which need to be manually input after rectification\nros2 launch hobot_stereonet stereonet_model_web_visual.launch.py \\\nstereonet_model_file_path:=/opt/tros/humble/share/hobot_stereonet/config/x5baseplus_alldata_woIsaac.bin postprocess:=v2 \\\nuse_local_image:=True local_image_path:=./online_result \\\nneed_rectify:=False camera_fx:=216.696533 camera_fy:=216.696533 camera_cx:=335.313477 camera_cy:=182.961578 base_line:=0.070943 \\\nheight_min:=-10.0 height_max:=10.0 pc_max_depth:=5.0 \\\nsave_image_all:=True save_dir:=./offline_result\n"})})}),(0,s.jsx)(o.A,{value:"V2.2",label:"V2.2",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"# Configure the tros.b humble environment\nsource /opt/tros/humble/setup.bash\n\n# Start the stereo model launch file. Note the camera parameter settings, which need to be manually input after rectification\nros2 launch hobot_stereonet stereonet_model_web_visual.launch.py \\\nstereonet_model_file_path:=/opt/tros/humble/share/hobot_stereonet/config/DStereoV2.2.bin postprocess:=v2.2 \\\nuse_local_image:=True local_image_path:=./online_result \\\nneed_rectify:=False camera_fx:=216.696533 camera_fy:=216.696533 camera_cx:=335.313477 camera_cy:=182.961578 base_line:=0.070943 \\\nheight_min:=-10.0 height_max:=10.0 pc_max_depth:=5.0 \\\nsave_image_all:=True save_dir:=./offline_result\n"})})}),(0,s.jsx)(o.A,{value:"V2.3",label:"V2.3",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"# Configure the tros.b humble environment\nsource /opt/tros/humble/setup.bash\n\n# Start the stereo model launch file. Note the camera parameter settings, which need to be manually input after rectification\nros2 launch hobot_stereonet stereonet_model_web_visual.launch.py \\\nstereonet_model_file_path:=/opt/tros/humble/share/hobot_stereonet/config/V22_disp96.bin postprocess:=v2.3 \\\nuse_local_image:=True local_image_path:=./online_result \\\nneed_rectify:=False camera_fx:=216.696533 camera_fy:=216.696533 camera_cx:=335.313477 camera_cy:=182.961578 base_line:=0.070943 \\\nheight_min:=-10.0 height_max:=10.0 pc_max_depth:=5.0 \\\nsave_image_all:=True save_dir:=./offline_result\n"})})})]}),"\n",(0,s.jsx)("span",{style:{color:"red"},children:" Note: The replay images must be epipolar-aligned, and the correct camera parameters must be set. Otherwise, the saved results may be incorrect. "}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/05_Robot_development/03_boxs/function/image/box_adv/stereonet_offline_log.png",alt:"stereonet_offline_log"})}),"\n",(0,s.jsx)(t.p,{children:"Parameter explanations:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter Name"}),(0,s.jsx)(t.th,{children:"Parameter Value"}),(0,s.jsx)(t.th,{children:"Explanation"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"stereonet_model_file_path"}),(0,s.jsx)(t.td,{children:"Model file path for different stereo algorithm versions"}),(0,s.jsx)(t.td,{children:"Set according to the model version"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"postprocess"}),(0,s.jsx)(t.td,{children:"Post-processing method for different stereo algorithm versions"}),(0,s.jsx)(t.td,{children:"Set according to the model version"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"use_local_image"}),(0,s.jsx)(t.td,{children:"True"}),(0,s.jsx)(t.td,{children:"Enable image replay mode"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"local_image_path"}),(0,s.jsx)(t.td,{children:"Directory of offline data"}),(0,s.jsx)(t.td,{children:"Address directory of replay images"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"need_rectify"}),(0,s.jsx)(t.td,{children:"False"}),(0,s.jsx)(t.td,{children:"Replay images require epipolar rectification. This switch does not need to be enabled, but the rectified parameters must be manually input"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"camera_fx"}),(0,s.jsx)(t.td,{children:"Rectified intrinsic parameter fx of the camera"}),(0,s.jsx)(t.td,{children:"Camera intrinsic parameters"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"camera_fy"}),(0,s.jsx)(t.td,{children:"Rectified intrinsic parameter fy of the camera"}),(0,s.jsx)(t.td,{children:"Camera intrinsic parameters"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"camera_cx"}),(0,s.jsx)(t.td,{children:"Rectified intrinsic parameter cx of the camera"}),(0,s.jsx)(t.td,{children:"Camera intrinsic parameters"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"camera_cy"}),(0,s.jsx)(t.td,{children:"Rectified intrinsic parameter cy of the camera"}),(0,s.jsx)(t.td,{children:"Camera intrinsic parameters"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"base_line"}),(0,s.jsx)(t.td,{children:"Rectified baseline of the camera"}),(0,s.jsx)(t.td,{children:"Baseline distance in meters"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"height_min"}),(0,s.jsx)(t.td,{children:"-10.0"}),(0,s.jsx)(t.td,{children:"The minimum height of the point cloud is -10.0m"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"height_max"}),(0,s.jsx)(t.td,{children:"10.0"}),(0,s.jsx)(t.td,{children:"The maximum height of the point cloud is 10.0m"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"pc_max_depth"}),(0,s.jsx)(t.td,{children:"5.0"}),(0,s.jsx)(t.td,{children:"The maximum depth of the point cloud is 5.0m"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"save_image_all"}),(0,s.jsx)(t.td,{children:"True"}),(0,s.jsx)(t.td,{children:"Save replay results"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"save_dir"}),(0,s.jsx)(t.td,{children:"Directory to save images"}),(0,s.jsx)(t.td,{children:"The directory to save the images. Can be set as needed."})]})]})]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["After the algorithm runs successfully, you can also view the real-time rendered data on the web interface and in rviz2, as mentioned above. The offline run results will be saved in the ",(0,s.jsx)(t.code,{children:"result subdirectory under the offline data directory"}),". It will also save ",(0,s.jsx)(t.strong,{children:"camera intrinsic parameters, left and right images, disparity map, depth map, and visualization image"}),"."]}),"\n"]}),"\n",(0,s.jsx)(t.h4,{id:"3-startup-with-zed-stereo-camera",children:"(3) Startup with ZED Stereo Camera"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"The ZED stereo camera is shown below:"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/05_Robot_development/03_boxs/function/image/box_adv/zed_cam.png",alt:"zed_cam"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Connect the ZED camera to the RDK X5 via USB, then start the stereo algorithm. Connect to the RDK X5 via SSH and execute the following command:"}),"\n"]}),"\n",(0,s.jsx)("span",{style:{color:"red"},children:" Note: The RDK X5 must be connected to the internet when running the ZED camera because the ZED needs to download calibration files online. You can ping any website to confirm the board is connected to the internet. "}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"ping www.baidu.com\n"})}),"\n",(0,s.jsxs)(a.A,{groupId:"stereo-version",children:[(0,s.jsx)(o.A,{value:"V2.0",label:"V2.0",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"# Configure the tros.b humble environment\nsource /opt/tros/humble/setup.bash\n\n# Start the stereo model launch file, which includes the algorithm and stereo camera node\nros2 launch hobot_zed_cam test_stereo_zed_rectify.launch.py \\\nresolution:=720p dst_width:=640 dst_height:=352 \\\nstereonet_model_file_path:=/opt/tros/humble/share/hobot_stereonet/config/x5baseplus_alldata_woIsaac.bin postprocess:=v2 \\\nheight_min:=-10.0 height_max:=10.0 pc_max_depth:=5.0 \n"})})}),(0,s.jsx)(o.A,{value:"V2.2",label:"V2.2",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"# Configure the tros.b humble environment\nsource /opt/tros/humble/setup.bash\n\n# Start the stereo model launch file, which includes the algorithm and stereo camera node\nros2 launch hobot_zed_cam test_stereo_zed_rectify.launch.py \\\nresolution:=720p dst_width:=640 dst_height:=352 \\\nstereonet_model_file_path:=/opt/tros/humble/share/hobot_stereonet/config/DStereoV2.2.bin postprocess:=v2.2 \\\nheight_min:=-10.0 height_max:=10.0 pc_max_depth:=5.0 \n"})})}),(0,s.jsx)(o.A,{value:"V2.3",label:"V2.3",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"# Configure the tros.b humble environment\nsource /opt/tros/humble/setup.bash\n\n# Start the stereo model launch file, which includes the algorithm and stereo camera node\nros2 launch hobot_zed_cam test_stereo_zed_rectify.launch.py \\\nresolution:=720p dst_width:=640 dst_height:=352 \\\nstereonet_model_file_path:=/opt/tros/humble/share/hobot_stereonet/config/V22_disp96.bin postprocess:=v2.3 \\\nheight_min:=-10.0 height_max:=10.0 pc_max_depth:=5.0 \n"})})}),(0,s.jsx)(o.A,{value:"S100",label:"S100",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"# Configure the tros.b humble environment\nsource /opt/tros/humble/setup.bash\n\n# Start the stereo model launch file, which includes the algorithm and stereo camera node\nros2 launch hobot_zed_cam test_stereo_zed_rectify.launch.py \\\nresolution:=720p dst_width:=640 dst_height:=352 \\\nstereonet_model_file_path:=/opt/tros/humble/share/hobot_stereonet/config/ds2.hbm postprocess:=v2 \\\nheight_min:=-10.0 height_max:=10.0 pc_max_depth:=5.0\n"})})})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/05_Robot_development/03_boxs/function/image/box_adv/stereonet_zed_run_success_log.png",alt:"stereonet_zed_run_success_log"})}),"\n",(0,s.jsxs)(t.p,{children:["When connected to the internet, the program will automatically download the calibration files. If the RDK X5 is not connected to the internet, you can manually download the calibration files and upload them to the ",(0,s.jsx)(t.code,{children:"/root/zed/settings/"})," directory on the RDK X5."]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["View the depth map on the web interface by entering ",(0,s.jsx)(t.a,{href:"http://ip:8000",children:"http://ip:8000"})," in the browser. For more information on ",(0,s.jsx)(t.strong,{children:"point cloud visualization"})," and ",(0,s.jsx)(t.strong,{children:"image saving"}),", refer to the corresponding parameter settings above."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"hobot_stereonet-package-description",children:"hobot_stereonet Package Description"}),"\n",(0,s.jsx)(t.h3,{id:"subscribed-topics",children:"Subscribed Topics"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Topic Name"}),(0,s.jsx)(t.th,{children:"Message Type"}),(0,s.jsx)(t.th,{children:"Explanation"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"/image_combine_raw"}),(0,s.jsx)(t.td,{children:"sensor_msgs::msg::Image"}),(0,s.jsx)(t.td,{children:"The topic for the left and right images combined by the stereo camera node, used for model inference"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"/camera_info_topic"}),(0,s.jsx)(t.td,{children:"sensor_msgs::msg::CameraInfo"}),(0,s.jsx)(t.td,{children:"The topic for the camera calibration parameters, used for model inference"})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"published-topics",children:"Published Topics"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Topic Name"}),(0,s.jsx)(t.th,{children:"Message Type"}),(0,s.jsx)(t.th,{children:"Explanation"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"/StereoNetNode/stereonet_depth"}),(0,s.jsx)(t.td,{children:"sensor_msgs::msg::Image"}),(0,s.jsx)(t.td,{children:"The published depth image, with pixel values representing depth in millimeters"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"/StereoNetNode/stereonet_visual"}),(0,s.jsx)(t.td,{children:"sensor_msgs::msg::Image"}),(0,s.jsx)(t.td,{children:"The published intuitive visualization image"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"/StereoNetNode/stereonet_pointcloud2"}),(0,s.jsx)(t.td,{children:"sensor_msgs::msg::PointCloud2"}),(0,s.jsx)(t.td,{children:"The published point cloud depth topic"})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"other-important-parameters",children:"Other Important Parameters"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter Name"}),(0,s.jsx)(t.th,{children:"Parameter Value"}),(0,s.jsx)(t.th,{children:"Explanation"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"stereo_image_topic"}),(0,s.jsx)(t.td,{children:"Default /image_combine_raw"}),(0,s.jsx)(t.td,{children:"The topic name for subscribing to stereo image messages"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"camera_info_topic"}),(0,s.jsx)(t.td,{children:"Default /image_right_raw/camera_info"}),(0,s.jsx)(t.td,{children:"The topic name for subscribing to camera calibration parameter messages"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"need_rectify"}),(0,s.jsx)(t.td,{children:"Default True"}),(0,s.jsx)(t.td,{children:"Whether to specify a custom calibration file for image rectification"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"stereo_calib_file_path"}),(0,s.jsx)(t.td,{children:"Default stereo.yaml"}),(0,s.jsx)(t.td,{children:"The path to the calibration file loaded when need_rectify=True for calibration"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"stereo_combine_mode"}),(0,s.jsx)(t.td,{children:"Default 1"}),(0,s.jsx)(t.td,{children:"Left and right images are often combined into one image before publishing. 1 indicates vertical combination, 0 indicates horizontal combination, indicating how the stereo algorithm splits the image"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"KMean"}),(0,s.jsx)(t.td,{children:"Default 10"}),(0,s.jsx)(t.td,{children:"The number of neighboring points for filtering sparse outliers, counting the distance between each point and its 10 nearest points"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"stdv"}),(0,s.jsx)(t.td,{children:"Default 0.01"}),(0,s.jsx)(t.td,{children:"The threshold for filtering sparse outliers, setting the multiple of standard deviation to 0.01"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"leaf_size"}),(0,s.jsx)(t.td,{children:"Default 0.05"}),(0,s.jsx)(t.td,{children:"Sets the unit density of the point cloud, indicating that there is only one point within a 3D sphere of radius 0.05 meters"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"notes",children:"Notes"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsx)(t.li,{children:"The input size of the model is 640 in width and 352 in height. The resolution of the images published by the camera should be 640x352."}),"\n",(0,s.jsx)(t.li,{children:"If the image format published by the stereo camera is NV12, the stereo images must be combined vertically."}),"\n"]})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}}}]);