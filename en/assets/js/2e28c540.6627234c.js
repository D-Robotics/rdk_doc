"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[71818],{3378:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>u});const t=JSON.parse('{"id":"Basic_Application/01_40pin_user_sample/40pin_define","title":"3.1.1 Pin Configuration and Definition","description":"For the 40-pin on the development board, please refer to the 40-Pin GPIO Definition section for interface definitions.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/03_Basic_Application/01_40pin_user_sample/40pin_define.md","sourceDirName":"03_Basic_Application/01_40pin_user_sample","slug":"/Basic_Application/01_40pin_user_sample/40pin_define","permalink":"/rdk_doc/en/Basic_Application/01_40pin_user_sample/40pin_define","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1770026433000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"3. \u57fa\u7840\u5e94\u7528\u5f00\u53d1 ","permalink":"/rdk_doc/en/Basic_Application"},"next":{"title":"3.1.2 Using GPIO","permalink":"/rdk_doc/en/Basic_Application/01_40pin_user_sample/gpio"}}');var r=i(74848),s=i(28453),a=i(11470),o=i(19365);const l={sidebar_position:1},c="3.1.1 Pin Configuration and Definition",d={},u=[{value:"Hardware Usage Instructions",id:"hardware-usage-instructions",level:2},{value:"Pin Multiplexing Configuration",id:"pin-multiplexing-configuration",level:2},{value:"Navigation Instructions",id:"navigation-instructions",level:4},{value:"40-Pin Definition",id:"40pin_define",level:2},{value:"GPIO Read/Write Operation Example",id:"gpio-readwrite-operation-example",level:2},{value:"Environment Setup",id:"environment-setup",level:3},{value:"Execution Steps",id:"execution-steps",level:3},{value:"Expected Output",id:"expected-output",level:2}];function p(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"311-pin-configuration-and-definition",children:"3.1.1 Pin Configuration and Definition"})}),"\n","\n",(0,r.jsxs)(n.p,{children:["For the 40-pin on the development board, please refer to the ",(0,r.jsx)(n.a,{href:"./40pin_define",children:"40-Pin GPIO Definition"})," section for interface definitions."]}),"\n",(0,r.jsx)(n.h2,{id:"hardware-usage-instructions",children:"Hardware Usage Instructions"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The 40PIN interface on the RDK provides GPIO signals at 3.3V logic level, with a maximum withstand voltage of 3.46V."}),"\n",(0,r.jsx)(n.li,{children:"The 3.3V pin of the 40PIN interface supports a maximum output current of 800mA, while the 5V pin supports a maximum output current of 500mA. To achieve these maximum output currents, the RDK's input adapter must have a minimum load capacity of 25W."}),"\n",(0,r.jsx)(n.li,{children:"When connecting peripherals, strict attention must be paid to the voltage and current relationships of the power, ground, and signal levels on the 40PIN interface. Any overvoltage, overcurrent, or ESD events may cause irreversible damage to the RDK."}),"\n",(0,r.jsx)(n.li,{children:"When using jumper wires to connect the RDK to other functional boards, ensure that the RDK product is powered off and shut down."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"pin-multiplexing-configuration",children:"Pin Multiplexing Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["The 40-pin are enabled with default configurations for UART, SPI, I2C, I2S, and other dedicated functions as shown in the ",(0,r.jsx)(n.a,{href:"#40pin_define",children:"40-Pin GPIO Definition"}),". If you want to configure specific pins as GPIO, you need to use the ",(0,r.jsx)(n.code,{children:"srpi-config"})," graphical configuration tool."]}),"\n",(0,r.jsxs)(n.p,{children:["Note that the ",(0,r.jsx)(n.code,{children:"srpi-config"})," program needs to run in a ",(0,r.jsx)(n.strong,{children:"full-screen command-line window"}),". Perform the following steps:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"sudo srpi-config\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/03_40pin_user_guide/image/40pin_user_guide/image-20220511173307239.png",alt:"image-20220511173307239"})}),"\n",(0,r.jsxs)(n.p,{children:["After selecting ",(0,r.jsx)(n.code,{children:"3 Interface Options"})," -> ",(0,r.jsx)(n.code,{children:"I3 Peripheral bus config"}),", you will enter the following bus configuration interface:"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/03_40pin_user_guide/image/40pin_user_guide/image-20240817195940261.png",alt:"I3 Peripheral Bus Config"})}),"\n",(0,r.jsx)(n.p,{children:"On the RDK X5, some interfaces have multiplexed functions."}),"\n",(0,r.jsx)(n.p,{children:"For a given multiplexed group, only one function can be enabled at a time."}),"\n",(0,r.jsx)(n.p,{children:"When all multiplexed functions are disabled, the interface operates as a standard GPIO."}),"\n",(0,r.jsx)(n.p,{children:"Examples of multiplexed functions:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Function 1"}),(0,r.jsx)(n.th,{children:"Function 2"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"uart3"}),(0,r.jsx)(n.td,{children:"i2c5"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"i2c0"}),(0,r.jsx)(n.td,{children:"pwm2"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"spi2"}),(0,r.jsx)(n.td,{children:"pwm0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"spi2"}),(0,r.jsx)(n.td,{children:"pwm1"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"i2c1"}),(0,r.jsx)(n.td,{children:"pwm3"})]})]})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"okay"}),":"]})," Configures the corresponding pin for its dedicated function."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"disabled"}),":"]})," Disables the pin's dedicated function, allowing it to be used as a GPIO."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Note:"})," Configuration changes take effect ",(0,r.jsx)(n.strong,{children:"after a restart"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"navigation-instructions",children:"Navigation Instructions"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.strong,{children:"Up/Down keys"})," on the keyboard to select a function item, press ",(0,r.jsx)(n.strong,{children:"Enter"})," to toggle the function."]}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.strong,{children:"Left/Right keys"})," on the keyboard to choose between ",(0,r.jsx)(n.code,{children:"Select"})," and ",(0,r.jsx)(n.code,{children:"Exit"}),", press ",(0,r.jsx)(n.strong,{children:"Enter"})," to confirm."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"40pin_define",children:"40-Pin Definition"}),"\n",(0,r.jsx)(n.p,{children:"The development board provides a 40-pin standard interface for convenient peripheral expansion. The digital I/Os use a 3.3V voltage level. The pin definitions for the 40-pin interface are as follows:"}),"\n",(0,r.jsxs)(a.A,{groupId:"rdk-type",children:[(0,r.jsxs)(o.A,{value:"x3",label:"RDK X3",children:[(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/01_40pin_user_sample/image/40pin_user_sample/image-20220828203147852.png",alt:"image-20220828203147852"})}),(0,r.jsx)(n.p,{children:"The development board has silk screen markings on the 40-pin interface to facilitate operation. The locations of PIN1 and PIN40 are as follows:"}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/01_40pin_user_sample/image/40pin_user_sample/image-20220828203207798.png",alt:"image-20220828203207798"})})]}),(0,r.jsx)(o.A,{value:"x3md",label:"RDK X3 Module",children:(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/07_Advanced_development/01_hardware_development/rdk_x3_module/image/rdk_x3_module/image-20230510155124570.png",alt:"image-20230510155124570"})})}),(0,r.jsx)(o.A,{value:"ultra",label:"RDK Ultra",children:(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/01_40pin_user_sample/image/40pin_user_sample/image-20230830194924570.png",alt:"image-20230510155124570"})})}),(0,r.jsx)(o.A,{value:"rdkx5&x5md",label:"RDK X5 & RDK X5 Module",children:(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/01_40pin_user_sample/image/40pin_user_sample/image-20251021194124.png",alt:"image-20251021194124"})})})]}),"\n",(0,r.jsx)(n.h2,{id:"gpio-readwrite-operation-example",children:"GPIO Read/Write Operation Example"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Video Reference:"})," ",(0,r.jsx)(n.a,{href:"https://www.bilibili.com/video/BV1rm4y1E73q/?p=16",children:"Watch on Bilibili"})]}),"\n",(0,r.jsxs)(n.p,{children:["The development board includes various 40-pin GPIO pin function test codes in the ",(0,r.jsx)(n.code,{children:"/app/40pin_samples/"})," directory, such as GPIO input/output testing, PWM, I2C, SPI, and UART tests. All test programs are written in Python. Detailed information about each module can be found in other sections of this chapter."]}),"\n",(0,r.jsxs)(n.p,{children:["For example, in ",(0,r.jsx)(n.code,{children:"/app/40pin_samples/button_led.py"}),", the program configures pin ",(0,r.jsx)(n.code,{children:"37"})," as input and pin ",(0,r.jsx)(n.code,{children:"36"})," as output. The output state of pin ",(0,r.jsx)(n.code,{children:"36"})," is controlled based on the input state of pin ",(0,r.jsx)(n.code,{children:"37"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"environment-setup",children:"Environment Setup"}),"\n",(0,r.jsxs)(n.p,{children:["Use Dupont wires to connect pin ",(0,r.jsx)(n.code,{children:"37"})," to 3.3V or GND to control its voltage level."]}),"\n",(0,r.jsx)(n.h3,{id:"execution-steps",children:"Execution Steps"}),"\n",(0,r.jsxs)(n.p,{children:["Run the ",(0,r.jsx)(n.code,{children:"button_led.py"})," program to start the GPIO read/write operation:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sunrise@ubuntu:~$ cd /app/40pin_samples/\nsunrise@ubuntu:/app/40pin_samples$ sudo python3 ./button_led.py\n"})}),"\n",(0,r.jsx)(n.h2,{id:"expected-output",children:"Expected Output"}),"\n",(0,r.jsxs)(n.p,{children:["By controlling the voltage level of pin ",(0,r.jsx)(n.code,{children:"37"}),", the output level of pin ",(0,r.jsx)(n.code,{children:"31"})," will change accordingly."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sunrise@ubuntu:/app/40pin_samples$ sudo python3 ./button_led.py\nStarting demo now! Press CTRL+C to exit\nOutputting 0 to Pin 31\nOutputting 1 to Pin 31\nOutputting 0 to Pin 31\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},11470:(e,n,i)=>{i.d(n,{A:()=>w});var t=i(96540),r=i(34164),s=i(23104),a=i(56347),o=i(205),l=i(57485),c=i(31682),d=i(70679);function u(e){return t.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:n,children:i}=e;return(0,t.useMemo)(()=>{const e=n??function(e){return u(e).map(({props:{value:e,label:n,attributes:i,default:t}})=>({value:e,label:n,attributes:i,default:t}))}(i);return function(e){const n=(0,c.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,i])}function h({value:e,tabValues:n}){return n.some(n=>n.value===e)}function m({queryString:e=!1,groupId:n}){const i=(0,a.W6)(),r=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,l.aZ)(r),(0,t.useCallback)(e=>{if(!r)return;const n=new URLSearchParams(i.location.search);n.set(r,e),i.replace({...i.location,search:n.toString()})},[r,i])]}function f(e){const{defaultValue:n,queryString:i=!1,groupId:r}=e,s=p(e),[a,l]=(0,t.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!h({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const i=n.find(e=>e.default)??n[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:s})),[c,u]=m({queryString:i,groupId:r}),[f,g]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[i,r]=(0,d.Dv)(n);return[i,(0,t.useCallback)(e=>{n&&r.set(e)},[n,r])]}({groupId:r}),x=(()=>{const e=c??f;return h({value:e,tabValues:s})?e:null})();(0,o.A)(()=>{x&&l(x)},[x]);return{selectedValue:a,selectValue:(0,t.useCallback)(e=>{if(!h({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),g(e)},[u,g,s]),tabValues:s}}var g=i(92303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=i(74848);function b({className:e,block:n,selectedValue:i,selectValue:t,tabValues:a}){const o=[],{blockElementScrollPositionUntilNextRender:l}=(0,s.a_)(),c=e=>{const n=e.currentTarget,r=o.indexOf(n),s=a[r].value;s!==i&&(l(n),t(s))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const i=o.indexOf(e.currentTarget)+1;n=o[i]??o[0];break}case"ArrowLeft":{const i=o.indexOf(e.currentTarget)-1;n=o[i]??o[o.length-1];break}}n?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},e),children:a.map(({value:e,label:n,attributes:t})=>(0,j.jsx)("li",{role:"tab",tabIndex:i===e?0:-1,"aria-selected":i===e,ref:e=>{o.push(e)},onKeyDown:d,onClick:c,...t,className:(0,r.A)("tabs__item",x.tabItem,t?.className,{"tabs__item--active":i===e}),children:n??e},e))})}function _({lazy:e,children:n,selectedValue:i}){const s=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=s.find(e=>e.props.value===i);return e?(0,t.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:s.map((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==i}))})}function v(e){const n=f(e);return(0,j.jsxs)("div",{className:(0,r.A)("tabs-container",x.tabList),children:[(0,j.jsx)(b,{...n,...e}),(0,j.jsx)(_,{...n,...e})]})}function w(e){const n=(0,g.A)();return(0,j.jsx)(v,{...e,children:u(e.children)},String(n))}},19365:(e,n,i)=>{i.d(n,{A:()=>a});i(96540);var t=i(34164);const r={tabItem:"tabItem_Ymn6"};var s=i(74848);function a({children:e,hidden:n,className:i}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,t.A)(r.tabItem,i),hidden:n,children:e})}},28453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var t=i(96540);const r={},s=t.createContext(r);function a(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);