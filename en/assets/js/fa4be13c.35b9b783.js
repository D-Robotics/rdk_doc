"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[68222],{28453:(e,i,n)=>{n.d(i,{R:()=>d,x:()=>o});var s=n(96540);const r={},t=s.createContext(r);function d(e){const i=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(t.Provider,{value:i},e.children)}},59800:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>o,default:()=>a,frontMatter:()=>d,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"Basic_Application/multi_media/multi_media_api/cdev/vio_api","title":"VIO (Video Input) API","description":"The VIO module provides functionalities for operating MIPI cameras and performing image processing.","source":"@site/i18n/en/docusaurus-plugin-content-docs-docs_s/current/03_Basic_Application/04_multi_media/multi_media_api/cdev/vio_api.md","sourceDirName":"03_Basic_Application/04_multi_media/multi_media_api/cdev","slug":"/Basic_Application/multi_media/multi_media_api/cdev/vio_api","permalink":"/rdk_doc/en/rdk_s/Basic_Application/multi_media/multi_media_api/cdev/vio_api","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1764745544000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"RDK S100 Multimedia Interface Description","permalink":"/rdk_doc/en/rdk_s/Basic_Application/multi_media/multi_media_api/pydev/pydev_multimedia_api_s100"},"next":{"title":"ENCODER API","permalink":"/rdk_doc/en/rdk_s/Basic_Application/multi_media/multi_media_api/cdev/encoder_api"}}');var r=n(74848),t=n(28453);const d={sidebar_position:1},o="VIO (Video Input) API",c={},l=[{value:"sp_init_vio_module",id:"sp_init_vio_module",level:2},{value:"sp_release_vio_module",id:"sp_release_vio_module",level:2},{value:"sp_open_camera",id:"sp_open_camera",level:2},{value:"sp_open_camera_v2",id:"sp_open_camera_v2",level:2},{value:"sp_open_vps",id:"sp_open_vps",level:2},{value:"sp_vio_close",id:"sp_vio_close",level:2},{value:"sp_vio_get_frame",id:"sp_vio_get_frame",level:2},{value:"sp_vio_get_raw",id:"sp_vio_get_raw",level:2},{value:"sp_vio_get_yuv",id:"sp_vio_get_yuv",level:2},{value:"sp_vio_set_frame",id:"sp_vio_set_frame",level:2},{value:"Host ID Selection",id:"host-id-selection",level:2}];function h(e){const i={admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"vio-video-input-api",children:"VIO (Video Input) API"})}),"\n",(0,r.jsxs)(i.p,{children:["The ",(0,r.jsx)(i.code,{children:"VIO"})," module provides functionalities for operating ",(0,r.jsx)(i.code,{children:"MIPI"})," cameras and performing image processing."]}),"\n",(0,r.jsxs)(i.p,{children:["The ",(0,r.jsx)(i.code,{children:"VIO"})," API offers the following interfaces:"]}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Function"}),(0,r.jsx)(i.th,{children:"Description"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"sp_init_vio_module"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Initialize VIO object"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"sp_release_vio_module"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Destroy VIO object"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"sp_open_camera"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Open camera"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"sp_open_camera_v2"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Open camera with specified resolution"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"sp_open_vps"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Open VPS"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"sp_vio_close"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Close camera"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"sp_vio_get_frame"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Acquire video frame"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"sp_vio_set_frame"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Send video frame to VPS module"})})]})]})]}),"\n",(0,r.jsx)(i.h2,{id:"sp_init_vio_module",children:"sp_init_vio_module"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Function Prototype]"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.code,{children:"void *sp_init_vio_module()"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Description]"})}),"\n",(0,r.jsxs)(i.p,{children:["Initializes the ",(0,r.jsx)(i.code,{children:"VIO"})," object and creates an operation handle. This must be called before invoking any other interface."]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Parameters]"})}),"\n",(0,r.jsx)(i.p,{children:"None"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Return Type]"})}),"\n",(0,r.jsxs)(i.p,{children:["Returns a pointer to the ",(0,r.jsx)(i.code,{children:"VIO"})," object on success; returns ",(0,r.jsx)(i.code,{children:"NULL"})," on failure."]}),"\n",(0,r.jsx)(i.h2,{id:"sp_release_vio_module",children:"sp_release_vio_module"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Function Prototype]"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.code,{children:"void sp_release_vio_module(void *obj)"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Description]"})}),"\n",(0,r.jsxs)(i.p,{children:["Destroys the ",(0,r.jsx)(i.code,{children:"VIO"})," object."]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Parameters]"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"obj"}),": Pointer to the ",(0,r.jsx)(i.code,{children:"VIO"})," object obtained from the initialization interface."]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Return Type]"})}),"\n",(0,r.jsx)(i.p,{children:"None"}),"\n",(0,r.jsx)(i.h2,{id:"sp_open_camera",children:"sp_open_camera"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Function Prototype]"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.code,{children:"int32_t sp_open_camera(void *obj, const int32_t pipe_id, const int32_t video_index, int32_t chn_num, int32_t *width, int32_t *height)"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Description]"})}),"\n",(0,r.jsx)(i.p,{children:"Initializes the MIPI camera connected to the RDK S100.Supports configuring output resolutions\u2014up to 6 different resolution sets\u2014and only downscaling is supported. The downscaling ratio range is [1, 1/64)."}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Parameters]"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"obj"}),": Pointer to the initialized ",(0,r.jsx)(i.code,{children:"VIO"})," object."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"pipe_id"}),": Supports multiple data inputs; it is recommended to set this to 0."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"video_index"}),': Host ID corresponding to the camera. -1 means auto-detection; for 0, 1, 2, please refer to the "Host ID Selection" section.']}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"chn_num"}),": Number of different output resolutions to configure. Maximum is 6; minimum is 1."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"width"}),": Address of the array specifying output widths."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"height"}),": Address of the array specifying output heights."]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Return Type]"})}),"\n",(0,r.jsx)(i.p,{children:"Returns 0 on success; returns -1 on failure."}),"\n",(0,r.jsx)(i.h2,{id:"sp_open_camera_v2",children:"sp_open_camera_v2"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Function Prototype]"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.code,{children:"int32_t sp_open_camera_v2(void *obj, const int32_t pipe_id, const int32_t video_index, int32_t chn_num, sp_sensors_parameters *parameters, int32_t *width, int32_t *height)"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Description]"})}),"\n",(0,r.jsxs)(i.p,{children:["Initializes the MIPI camera connected to the RDK S100.",(0,r.jsx)(i.br,{}),"\n","Supports specifying the camera's native RAW output resolution via the ",(0,r.jsx)(i.code,{children:"sp_sensors_parameters"})," structure.",(0,r.jsx)(i.br,{}),"\n","Supports configuring output resolutions\u2014up to 6 different resolution sets\u2014and only downscaling is supported. The downscaling ratio range is [1, 1/64)."]}),"\n",(0,r.jsx)(i.p,{children:"Currently supported camera resolutions are listed below:"}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Camera"}),(0,r.jsx)(i.th,{children:"Resolution"})]})}),(0,r.jsx)(i.tbody,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"IMX219"}),(0,r.jsx)(i.td,{children:"1920x1080@30fps (default)"})]})})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Parameters]"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"obj"}),": Pointer to the initialized ",(0,r.jsx)(i.code,{children:"VIO"})," object."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"pipe_id"}),": Supports multiple data inputs; it is recommended to set this to 0."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"video_index"}),': Host ID corresponding to the camera. -1 means auto-detection; for 0, 1, 2, please refer to the "Host ID Selection" section.']}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"chn_num"}),": Number of different output resolutions to configure. Maximum is 6; minimum is 1."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"parameters"}),": Structure containing camera RAW output parameters, used to specify resolution and frame rate."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"width"}),": Address of the array specifying output widths."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"height"}),": Address of the array specifying output heights."]}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:["Members of the ",(0,r.jsx)(i.code,{children:"sp_sensors_parameters"})," structure are listed below:"]}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Data Type"}),(0,r.jsx)(i.th,{children:"Member"}),(0,r.jsx)(i.th,{children:"Description"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"int32_t"}),(0,r.jsx)(i.td,{children:"raw_height"}),(0,r.jsx)(i.td,{children:"Height of the camera's RAW output"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"int32_t"}),(0,r.jsx)(i.td,{children:"raw_width"}),(0,r.jsx)(i.td,{children:"Width of the camera's RAW output"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"int32_t"}),(0,r.jsx)(i.td,{children:"fps"}),(0,r.jsx)(i.td,{children:"Frame rate of the camera's output"})]})]})]}),"\n",(0,r.jsx)(i.admonition,{title:"Note!",type:"info",children:(0,r.jsxs)(i.p,{children:["The ",(0,r.jsx)(i.code,{children:"S100"})," chip has alignment requirements for ",(0,r.jsx)(i.code,{children:"VPS"})," output: output width must be 16-byte aligned, and output height must be 2-byte aligned. An error will be reported if your configured width and height do not meet these alignment requirements."]})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Return Type]"})}),"\n",(0,r.jsx)(i.p,{children:"Returns 0 on success; returns -1 on failure."}),"\n",(0,r.jsx)(i.h2,{id:"sp_open_vps",children:"sp_open_vps"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Function Prototype]"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.code,{children:"int32_t sp_open_vps(void *obj, const int32_t pipe_id, int32_t chn_num, int32_t proc_mode, int32_t src_width, int32_t src_height, int32_t *dst_width, int32_t *dst_height, int32_t *crop_x, int32_t *crop_y, int32_t *crop_width, int32_t *crop_height, int32_t *rotate)"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Description]"})}),"\n",(0,r.jsx)(i.p,{children:"Opens an image processing module that supports scaling and cropping operations on input images."}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Parameters]"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"obj"}),": Pointer to the initialized ",(0,r.jsx)(i.code,{children:"VIO"})," object."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"pipe_id"}),": Supports multiple instances, distinguished by ",(0,r.jsx)(i.code,{children:"pipe_id"}),"."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"chn_num"}),": Number of output images to configure. Maximum is 6; minimum is 1. This correlates with the size of the destination width/height arrays."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"proc_mode"}),": Processing mode. Currently supported modes: ",(0,r.jsx)(i.code,{children:"SP_VPS_SCALE"})," (scaling only), ",(0,r.jsx)(i.code,{children:"SP_VPS_SCALE_CROP"})," (cropping and scaling)."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"src_width"}),": Width of the source frame."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"src_height"}),": Height of the source frame."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"dst_width"}),": Address of the array specifying target output widths."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"dst_height"}),": Address of the array specifying target output heights."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"crop_x"}),": Array of x-coordinates for the top-left corner of crop regions. Pass ",(0,r.jsx)(i.code,{children:"NULL"})," if cropping is not enabled in ",(0,r.jsx)(i.code,{children:"proc_mode"}),"."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"crop_y"}),": Array of y-coordinates for the top-left corner of crop regions. Pass ",(0,r.jsx)(i.code,{children:"NULL"})," if cropping is not enabled in ",(0,r.jsx)(i.code,{children:"proc_mode"}),"."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"crop_width"}),": Array of crop region widths. Pass ",(0,r.jsx)(i.code,{children:"NULL"})," if cropping is not enabled in ",(0,r.jsx)(i.code,{children:"proc_mode"}),"."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"crop_height"}),": Array of crop region heights. Pass ",(0,r.jsx)(i.code,{children:"NULL"})," if cropping is not enabled in ",(0,r.jsx)(i.code,{children:"proc_mode"}),"."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"rotate"}),": Array of rotation angles. Rotation is currently unsupported; pass ",(0,r.jsx)(i.code,{children:"NULL"}),"."]}),"\n"]}),"\n",(0,r.jsx)(i.admonition,{title:"Note!",type:"info",children:(0,r.jsxs)(i.p,{children:["The ",(0,r.jsx)(i.code,{children:"S100"})," chip has alignment requirements for ",(0,r.jsx)(i.code,{children:"VPS"})," output: output width must be 16-byte aligned, and output height must be 2-byte aligned. An error will be reported if your configured width and height do not meet these alignment requirements."]})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Return Type]"})}),"\n",(0,r.jsx)(i.p,{children:"Returns 0 on success; returns -1 on failure."}),"\n",(0,r.jsx)(i.h2,{id:"sp_vio_close",children:"sp_vio_close"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Function Prototype]"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.code,{children:"int32_t sp_vio_close(void *obj)"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Description]"})}),"\n",(0,r.jsxs)(i.p,{children:["Closes either the camera or VPS module, depending on whether the provided ",(0,r.jsx)(i.code,{children:"obj"})," corresponds to an opened camera or VPS instance."]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Parameters]"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"obj"}),": Pointer to the initialized ",(0,r.jsx)(i.code,{children:"VIO"})," object."]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Return Type]"})}),"\n",(0,r.jsx)(i.p,{children:"Returns 0 on success; returns -1 on failure."}),"\n",(0,r.jsx)(i.h2,{id:"sp_vio_get_frame",children:"sp_vio_get_frame"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Function Prototype]"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.code,{children:"int32_t sp_vio_get_frame(void *obj, char *frame_buffer, int32_t width, int32_t height, const int32_t timeout)"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Description]"})}),"\n",(0,r.jsxs)(i.p,{children:["Acquires image frame data at the specified resolution (the resolution must have been configured during module initialization; otherwise, acquisition will fail). The returned data format is ",(0,r.jsx)(i.code,{children:"NV12"})," YUV."]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Parameters]"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"obj"}),": Pointer to the initialized ",(0,r.jsx)(i.code,{children:"VIO"})," object."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"frame_buffer"}),": Pointer to a pre-allocated memory buffer for storing the retrieved image. Since the acquired image is always in ",(0,r.jsx)(i.code,{children:"NV12"})," format, the required buffer size can be calculated using the formula ",(0,r.jsx)(i.code,{children:"height * width * 3 / 2"}),", or by using the provided macro ",(0,r.jsx)(i.code,{children:"FRAME_BUFFER_SIZE(w, h)"}),"."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"width"}),": Width of the image to be stored in ",(0,r.jsx)(i.code,{children:"frame_buffer"}),". Must match one of the output widths configured in ",(0,r.jsx)(i.code,{children:"sp_open_camera"})," or ",(0,r.jsx)(i.code,{children:"sp_open_vps"}),"."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"height"}),": Height of the image to be stored in ",(0,r.jsx)(i.code,{children:"frame_buffer"}),". Must match one of the output heights configured in ",(0,r.jsx)(i.code,{children:"sp_open_camera"})," or ",(0,r.jsx)(i.code,{children:"sp_open_vps"}),"."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"timeout"}),": Timeout for frame acquisition, in milliseconds (",(0,r.jsx)(i.code,{children:"ms"}),"). Typically set to ",(0,r.jsx)(i.code,{children:"2000"}),"."]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Return Type]"})}),"\n",(0,r.jsx)(i.p,{children:"Returns 0 on success, -1 on failure."}),"\n",(0,r.jsx)(i.h2,{id:"sp_vio_get_raw",children:"sp_vio_get_raw"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Function Prototype]"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.code,{children:"int32_t sp_vio_get_raw(void *obj, char *frame_buffer, int32_t width, int32_t height, const int32_t timeout)"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Description]"})}),"\n",(0,r.jsx)(i.p,{children:"Obtains raw image data from the camera."}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Parameters]"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"obj"}),": Pointer to an already initialized ",(0,r.jsx)(i.code,{children:"VIO"})," object."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"frame_buffer"}),": Pointer to a pre-allocated memory buffer used to store the retrieved raw image. The required buffer size (in bytes) can be calculated using the formula: ",(0,r.jsx)(i.code,{children:"(height * width * bit depth) / 8"}),"."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"width"}),": Pass ",(0,r.jsx)(i.code,{children:"NULL"})," when retrieving raw image data."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"height"}),": Pass ",(0,r.jsx)(i.code,{children:"NULL"})," when retrieving raw image data."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"timeout"}),": Timeout duration (in milliseconds) for acquiring the image; typically set to ",(0,r.jsx)(i.code,{children:"2000"}),"."]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Return Type]"})}),"\n",(0,r.jsx)(i.p,{children:"Returns 0 on success, -1 on failure."}),"\n",(0,r.jsx)(i.h2,{id:"sp_vio_get_yuv",children:"sp_vio_get_yuv"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Function Prototype]"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.code,{children:"int32_t sp_vio_get_yuv(void *obj, char *frame_buffer, int32_t width, int32_t height, const int32_t timeout)"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Description]"})}),"\n",(0,r.jsx)(i.p,{children:"Obtains YUV data from the camera's ISP module."}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Parameters]"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"obj"}),": Pointer to an already initialized ",(0,r.jsx)(i.code,{children:"VIO"})," object."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"frame_buffer"}),": Pointer to a pre-allocated memory buffer used to store the retrieved image. Currently, all retrieved images are in ",(0,r.jsx)(i.code,{children:"NV12"})," format, so the required buffer size can be calculated using the formula: ",(0,r.jsx)(i.code,{children:"height * width * 3 / 2"}),", or alternatively by using the provided macro ",(0,r.jsx)(i.code,{children:"FRAME_BUFFER_SIZE(w, h)"}),"."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"width"}),": Pass ",(0,r.jsx)(i.code,{children:"NULL"})," when retrieving ISP YUV data."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"height"}),": Pass ",(0,r.jsx)(i.code,{children:"NULL"})," when retrieving ISP YUV data."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"timeout"}),": Timeout duration (in milliseconds) for acquiring the image; typically set to ",(0,r.jsx)(i.code,{children:"2000"}),"."]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Return Type]"})}),"\n",(0,r.jsx)(i.p,{children:"Returns 0 on success, -1 on failure."}),"\n",(0,r.jsx)(i.h2,{id:"sp_vio_set_frame",children:"sp_vio_set_frame"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Function Prototype]"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.code,{children:"int32_t sp_vio_set_frame(void *obj, void *frame_buffer, int32_t size)"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Description]"})}),"\n",(0,r.jsxs)(i.p,{children:["When using the ",(0,r.jsx)(i.code,{children:"vps"})," module, source data must be fed into the system via this interface. The data in ",(0,r.jsx)(i.code,{children:"frame_buffer"})," must be in ",(0,r.jsx)(i.code,{children:"NV12"})," format and have the same resolution as the original frame specified when calling ",(0,r.jsx)(i.code,{children:"sp_open_vps"}),"."]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Parameters]"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"obj"}),": Pointer to an already initialized ",(0,r.jsx)(i.code,{children:"VIO"})," object."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"image_buffer"}),": Image frame data to be processed. Must be in ",(0,r.jsx)(i.code,{children:"NV12"})," format and match the resolution of the original frame used when calling ",(0,r.jsx)(i.code,{children:"sp_open_vps"}),"."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"size"}),": Frame size."]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"[Return Type]"})}),"\n",(0,r.jsx)(i.p,{children:"Returns 0 on success, -1 on failure."}),"\n",(0,r.jsx)(i.h2,{id:"host-id-selection",children:"Host ID Selection"}),"\n",(0,r.jsx)(i.p,{children:"The host IDs corresponding to each camera are shown in the figure below:"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/images_to_upload/20250220-114529.png",alt:"20250220-114529.png"})})]})}function a(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);