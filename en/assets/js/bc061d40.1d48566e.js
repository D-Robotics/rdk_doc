"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[14571],{18919:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"Advanced_development/linux_development/hardware_unit_test/bpu_cpu_ddr_stress","title":"CPU-BPU-DDR Stress Test","description":"Test Principles","source":"@site/i18n/en/docusaurus-plugin-content-docs-docs_s/current/07_Advanced_development/02_linux_development/05_hardware_unit_test/01-bpu_cpu_ddr_stress.md","sourceDirName":"07_Advanced_development/02_linux_development/05_hardware_unit_test","slug":"/Advanced_development/linux_development/hardware_unit_test/bpu_cpu_ddr_stress","permalink":"/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/bpu_cpu_ddr_stress","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1766140001000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"AutoTest Usage Guide","permalink":"/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/the_auto_test"},"next":{"title":"eMMC Stress Testing","permalink":"/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/emmc_stress"}}');var r=t(74848),i=t(28453);const o={sidebar_position:1},l="CPU-BPU-DDR Stress Test",d={},c=[{value:"Test Principles",id:"test-principles",level:2},{value:"Preparation",id:"preparation",level:2},{value:"Test Procedure",id:"test-procedure",level:2},{value:"Test Metrics",id:"test-metrics",level:2},{value:"Test Results",id:"test-results",level:3}];function a(e){const s={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"cpu-bpu-ddr-stress-test",children:"CPU-BPU-DDR Stress Test"})}),"\n",(0,r.jsx)(s.h2,{id:"test-principles",children:"Test Principles"}),"\n",(0,r.jsx)(s.p,{children:"The CPU-BPU-DDR stress test primarily evaluates the performance and stability of the CPU, BPU, and DDR under high-load conditions. Below are the fundamental principles of stress testing for these components:"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"1. CPU-DDR Stress Test"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Test Objective"}),": Use the ",(0,r.jsx)(s.code,{children:"stressapptest"})," tool to simulate a high-load environment involving intensive computation, data processing, and memory operations, thereby testing system performance under multi-threaded concurrent workloads."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Test Purpose"}),": Verify CPU stability and performance under prolonged high loads, ensuring that both the CPU and DDR can operate normally under heavy workloads without crashing, overheating, or suffering performance degradation."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"stressapptest CPU Stress Test Principle"}),": CPU stress testing is primarily achieved by concurrently executing compute-intensive tasks across multiple threads. These tasks include compute-heavy operations and parallel multi-threaded execution."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Thread Creation: ",(0,r.jsx)(s.code,{children:"stressapptest"})," creates multiple threads via ",(0,r.jsx)(s.code,{children:"pthread_create()"}),", with each thread performing computational tasks. The number of threads is typically specified by the user via the ",(0,r.jsx)(s.code,{children:"-C"})," parameter."]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-C",children:"for (int i = 0; i < num_threads; i++) {\n\tpthread_create(&threads[i], NULL, cpu_stress_function, (void*)i);\n}\n"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Compute-Intensive Tasks: Each thread executes compute-intensive operations such as floating-point calculations and memory reads/writes, thereby consuming CPU resources."}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-C",children:"void* cpu_stress_function(void* arg) {\n\twhile (true) {\n\t\t\t// Perform some CPU-intensive calculations\n\t\t\tdouble a = 3.14159265358979;\n\t\t\tfor (int i = 0; i < 1000000; i++) {\n\t\t\t\t\ta = a * a * 3.14159;  // Simulate a calculation\n\t\t\t}\n\t}\n\treturn NULL;\n}\n"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Thread Synchronization and Management: Functions like ",(0,r.jsx)(s.code,{children:"pthread_join()"})," ensure proper thread execution and synchronization."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"stressapptest DDR Stress Test Principle"}),": DDR memory stress testing primarily involves extensive memory allocation, access, and data exchange through high memory usage, frequent read/write operations, and memory bandwidth consumption."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Memory Allocation: During memory stress testing, ",(0,r.jsx)(s.code,{children:"stressapptest"})," allocates a specified amount of memory according to the ",(0,r.jsx)(s.code,{children:"-M"})," parameter (e.g., ",(0,r.jsx)(s.code,{children:"-M 8192"}),")."]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-C",children:'void* allocate_memory(size_t size) {\n\tvoid* ptr = malloc(size);  // Allocate memory of specified size\n\tif (ptr == NULL) {\n\t\t\tperror("Memory allocation failed");\n\t\t\texit(1);\n\t}\n\treturn ptr;\n}\n'})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Memory Read/Write Operations: ",(0,r.jsx)(s.code,{children:"stressapptest"})," performs extensive read and write operations on the allocated memory region. Below is a simple example:"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-C",children:"void stress_memory(void* ptr, size_t size) {\n\tvolatile char* data = (volatile char*)ptr;\n\t\t\tfor (size_t i = 0; i < size; i++) {\n\t\t\t\t\t\t\tdata[i] = (char)(i % 256);  // Write data\n\t\t\t\t\t\t\tchar temp = data[i];  // Read data\n\t\t\t}\n}\n"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Multi-threaded Memory Access: ",(0,r.jsx)(s.code,{children:"stressapptest"})," uses multiple threads to increase memory pressure. Multiple threads concurrently access memory, simulating high-load memory usage scenarios."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Command Analysis: After running the stress test script, execute the following command: ",(0,r.jsx)(s.code,{children:'stressapptest -s "$stime" -M "$memory_size" -f /tmp/sat.io1 -f /tmp/sat.io2 -i "$io_threads" -m 8 -C 2 -W'})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:'-s "$stime"'}),": Specifies the test duration."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:'-M "$memory_size"'}),": Specifies the amount of memory to use. In the source code, the ",(0,r.jsx)(s.code,{children:"-M"})," parameter controls the size of allocated memory."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"-f /tmp/sat.io1 -f /tmp/sat.io2"}),": The ",(0,r.jsx)(s.code,{children:"-f"})," parameter specifies files for I/O testing."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:'-i "$io_threads"'}),": Specifies the number of threads for I/O operations."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"-m 8"}),": Controls the intensity of memory stress."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"-C 2"}),": Specifies the number of CPU cores used for stress testing."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"-W"}),": Enables write operations, meaning both memory reads and writes are performed."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"2. BPU Stress Test"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Test Objective"}),": Run the ",(0,r.jsx)(s.code,{children:"run.sh"})," script and use the ",(0,r.jsx)(s.code,{children:"bpu_os_test"})," tool to adjust the ",(0,r.jsx)(s.code,{children:"-b"})," (BPU cores) and ",(0,r.jsx)(s.code,{children:"-r"})," (BPU load ratio) parameters, simulating various BPU load scenarios to ensure the BPU remains stable and delivers expected performance under high loads."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Test Purpose"}),": Ensure the BPU produces correct results consistent with expectations during computational tasks, and verify that it remains stable under prolonged high-load operation without crashing or producing errors."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"tc_hbdk3 BPU Stress Test Principle"}),": Load models containing extensive computational tasks and leverage the BPU for accelerated computation, thereby conducting BPU stress testing."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Command Analysis"}),": After running the stress test script, execute the following command: ",(0,r.jsx)(s.code,{children:"tc_hbdk3 -t $1 -b $2 -f $HBM_FILE -i $SRC_FILE -n $MODEL_NAME -o $OUTPUT_0_0,$OUTPUT_0_1,$OUTPUT_1_0,$OUTPUT_1_1 -g 0 -c 0"})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"-t $1"}),": Passes the value of the ",(0,r.jsx)(s.code,{children:"$portion"})," parameter, allowing flexible control over stress test intensity and enabling selection of appropriate load levels based on different test requirements."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"-b $2"}),": Specifies the number of BPU cores to use."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"-f $HBM_FILE"}),": The ",(0,r.jsx)(s.code,{children:"-f"})," parameter specifies the HBM file."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"-i $SRC_FILE"}),": This file contains input data used for model inference or training; the program reads data from it and passes it to the BPU for computation."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"-n $MODEL_NAME"}),": The ",(0,r.jsx)(s.code,{children:"-n"})," parameter specifies the model name to load and run."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"-o $OUTPUT_0_0"}),": These output files store computation results or log data."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"preparation",children:"Preparation"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"1."})," Before starting the stress test, attach a heatsink to the chip; otherwise, the chip may trigger thermal protection, affecting test results."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"2."})," Confirm that all files under the path ",(0,r.jsx)(s.code,{children:"/app/chip_base_test/01_cpu_bpu_ddr"})," are present and complete:"]}),"\n",(0,r.jsx)(s.admonition,{type:"warning",children:(0,r.jsxs)(s.p,{children:["The dynamic libraries under the ",(0,r.jsx)(s.code,{children:"/lib/"})," directory and the model/input files under the ",(0,r.jsx)(s.code,{children:"module/"})," directory listed below are ",(0,r.jsx)(s.strong,{children:"exclusively intended for BPU stress testing"})," and ",(0,r.jsx)(s.strong,{children:"must not be used for any other purpose"}),"."]})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"01_cpu_bpu_ddr/\n\u2514\u2500\u2500 scripts\n    \u251c\u2500\u2500 Readme.md\n    \u251c\u2500\u2500 bpu_os_test\n    \u251c\u2500\u2500 lib\n    \u2502   \u251c\u2500\u2500 libhbrt4.so\n    \u2502   \u2514\u2500\u2500 libhbtl.so\n    \u251c\u2500\u2500 module\n    \u2502   \u251c\u2500\u2500 input_1.bin\n    \u2502   \u251c\u2500\u2500 input_2.bin\n    \u2502   \u2514\u2500\u2500 yolov3.hbm\n    \u251c\u2500\u2500 run.sh\n    \u251c\u2500\u2500 stop_test.sh\n    \u251c\u2500\u2500 stress_test.sh\n    \u2514\u2500\u2500 stressapptest\n\n3 directories, 11 files\n"})}),"\n",(0,r.jsx)(s.h2,{id:"test-procedure",children:"Test Procedure"}),"\n",(0,r.jsxs)(s.p,{children:["The stress test script supports the ",(0,r.jsx)(s.code,{children:"-h"})," suffix to display command parameter descriptions:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"./stress_test.sh -h\n\nUsage: ./stress_test.sh [options]\n\nOptions:\n\t-t <time>        Set the test duration (e.g., 2h for hours, 30m for minutes; default: 48h).\n\t-m <size>        Set the memory size for stress test in MB (default: 100).\n\t-i <threads>     Set the I/O threads for stress test (default: 4).\n\t-b <bpu_core>    Specify the BPU core to use (default: 0).\n\t-r <portion>     Set the BPU portion value (default: 100).\n\t-o <directory>   Set the output directory for logs (default: ../../log).\n\t-h, --help       Show this help message and exit.\n\nExample:\n\t./stress_test.sh -t 24h -m 200 -i 8 -b 80\n"})}),"\n",(0,r.jsx)(s.p,{children:"Parameter explanations:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"t <time>"}),": Sets the stress test duration. Time format can be hours (e.g., 2h) or minutes (e.g., 30m), with a default value of 48 hours."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"m <size>"}),": Sets the memory size (in MB) for the stress test, with a default value of 100 MB."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"i <threads>"}),": Sets the number of I/O threads, with a default value of 4."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"b <bpu_core>"}),": Specifies the BPU (Brain Processing Unit) core ID, with a default value of 0."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"r <portion>"}),": Sets the BPU load ratio, with a default value of 100 (i.e., full load)."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"o <directory>"}),": Sets the log output directory, with a default value of ",(0,r.jsx)(s.code,{children:"../../log"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"h, --help"}),": Displays help information and exits the script."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Example:"}),"\nFor instance, run the command ",(0,r.jsx)(s.code,{children:"sudo ./stress_test.sh -t 24h -m 200 -i 8 -b 80"})," to perform a 24-hour stress test using 200 MB of memory, 8 I/O threads, and 80% BPU load."]}),"\n",(0,r.jsx)(s.p,{children:"After completing the preparation steps, execute the test command:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"cd /app/chip_base_test/01_cpu_bpu_ddr/scripts\n\nsudo ./stress_test.sh\n"})}),"\n",(0,r.jsxs)(s.p,{children:["The stress test script monitors the ",(0,r.jsx)(s.strong,{children:"stressapptest"})," process using the ",(0,r.jsx)(s.code,{children:"hrut_somstatus"})," command. Sample log output upon script startup is as follows:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"#hrut_somstatus\ntemperature--\x3e\n\tpvt_cmn_pvtc1_t1 : 66.322 (C)\n\tpvt_cmn_pvtc1_t2 : 65.771 (C)\n\tpvt_mcu_pvtc1_t1 : 67.976 (C)\n\tpvt_mcu_pvtc1_t2 : 68.344 (C)\n\tpvt_bpu_pvtc1_t1 : 68.712 (C)\nvoltage--\x3e\n\tFAKE     : 100.0 (mV)\n\tVDDQ_DDR2 : 503.0 (mV)\n\tVDD_MCU  : 748.0 (mV)\n\tVDDIO_PVT_MCU : 1802.0 (mV)\n\tVDDIO_TOP4_1V8 : 1802.0 (mV)\n\tVDDQ_DDR0 : 503.0 (mV)\n\tVDD2H_DDR0 : 1052.0 (mV)\n\tVAA_DDR0 : 1792.0 (mV)\n\tVDD_DDR0 : 742.0 (mV)\n\tVDDQ_DDR1 : 497.0 (mV)\n\tVDD2H_DDR1 : 1040.0 (mV)\n\tVAA_DDR1 : 1792.0 (mV)\n\tVDD_DDR1 : 742.0 (mV)\n\tCMN_PVTC1_V13 : 0.0 (mV)\n\tCMN_PVTC1_V14 : 0.0 (mV)\n\tCMN_PVTC1_V15 : 0.0 (mV)\n\tCMN_PVTC1_V16 : 0.0 (mV)\n\tVDDIO_SD_SDIO_T : 1788.0 (mV)\n\tVDD_CPU  : 776.0 (mV)\n\tCMN_PVTC1_V19 : 0.0 (mV)\n\tVAA_DDR2 : 1790.0 (mV)\n\tVDD2H_DDR2 : 1030.0 (mV)\n\tVDD_DDR2 : 737.0 (mV)\n\tVDDIO_TOP2_1V8 : 1780.0 (mV)\n        VDD_BPU  : 731.0 (mV)\n\tVDDIO_TOP0_1V8 : 1790.0 (mV)\n\tPLL_TOP0_VDDHV : 1768.0 (mV)\n\tCMN_PVTC1_V27 : 0.0 (mV)\n\tCMN_PVTC1_V28 : 0.0 (mV)\n\tCMN_PVTC1_V29 : 0.0 (mV)\n\tCMN_PVTC1_V30 : 0.0 (mV)\n\tCMN_PVTC1_V31 : 0.0 (mV)\n\tCMN_PVTC1_V32 : 0.0 (mV)\n\tVDDIO_SD_33_MCU : 3308.0 (mV)\n\tVDDIO_ADC_MCU : 1802.0 (mV)\n\tVDDIO_MCU_1V8 : 1802.0 (mV)\n\tPLL_MCU_VDDHV : 1802.0 (mV)\n\tPLL_MCU_VDDPOST : 748.0 (mV)\n\tPLL_MCU_VDDREF : 748.0 (mV)\n\tVDD_TOP  : 753.0 (mV)\n\tVDD_AON  : 753.0 (mV)\n\tVDDIO_SD_AON_CA : 1644.0 (mV)\n\tVDDIO_PVT_1V8 : 1792.0 (mV)\n\tMCU_PVTC1_V11 : 0.0 (mV)\n\tMCU_PVTC1_V12 : 0.0 (mV)\n\tMCU_PVTC1_V13 : 0.0 (mV)\n\tMCU_PVTC1_V14 : 0.0 (mV)\n\tMCU_PVTC1_V15 : 0.0 (mV)\n\tMCU_PVTC1_V16 : 0.0 (mV)\ncpu frequency--\x3e\n\t\t\t\t\t\tmin   cur     max\n\tpolicy0: 1125000        1500000 1500000\n\tpolicy4: 1125000        1500000 1500000\nbpu status information----\x3e\n\t\t\t\t\t\t\t\tratio\n\tbpu0:   99\n"})}),"\n",(0,r.jsxs)(s.p,{children:["The output of the ",(0,r.jsx)(s.code,{children:"hrut_somstatus"})," command is explained as follows:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"temperature"}),": Represents the current temperatures of the board, MCU, and BPU."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"cpu frequency"}),": Represents the CPU's minimum, current, and maximum operating frequencies (in MHz)."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"bpu status information"}),": Represents the BPU's minimum, current, and maximum operating frequencies, where ",(0,r.jsx)(s.code,{children:"ratio"})," indicates the current BPU utilization."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Execute the ",(0,r.jsx)(s.code,{children:"htop"})," command to check CPU utilization:"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/images_to_upload/Htop.png",alt:"Htop"})}),"\n",(0,r.jsx)(s.p,{children:"Each line displays the status of a CPU core in the following format:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"CpuX  [ progress bar ]\n"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"CpuX"})," (0~5): Indicates the CPU core number (this device has 6 cores)."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"[########...]"}),": Real-time load progress bar for each core."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"#"}),": Represents the user-space (user) utilization percentage."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"*"}),": Represents the kernel-space (system) utilization percentage."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"Load average: 7.10 9.56 9.57"}),": Represents the system\u2019s average load over the past 1, 5, and 15 minutes."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"test-metrics",children:"Test Metrics"}),"\n",(0,r.jsxs)(s.p,{children:["After the test program starts, it generates two log files\u2014",(0,r.jsx)(s.code,{children:"bpu-stressX.log"})," and ",(0,r.jsx)(s.code,{children:"cpu-stressX.log"}),"\u2014in the ",(0,r.jsx)(s.code,{children:"/app/chip_base_test/log"})," directory to record system status during stress testing. Ensure the following conditions are met during the stress test:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Stable operation for 48 hours without rebooting or hanging."}),"\n",(0,r.jsxs)(s.li,{children:["Use the following command to check whether the log files contain any abnormal messages such as ",(0,r.jsx)(s.code,{children:"fail"}),", ",(0,r.jsx)(s.code,{children:"error"}),", or ",(0,r.jsx)(s.code,{children:"timeout"}),":"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"cd \"/app/chip_base_test/log/\" && grep -iE 'error|fail|timeout' bpu-stress*.log cpu-stress*.log\n"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Run the ",(0,r.jsx)(s.code,{children:"TOP"})," command to monitor CPU and BPU utilization. Under normal conditions, utilization should remain steadily within the 98\u2013100% range."]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"test-results",children:"Test Results"}),"\n",(0,r.jsx)(s.p,{children:"Enter the command:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"cd \"/app/chip_base_test/log/\" && grep -iE 'error|fail|timeout' bpu-stress*.log cpu-stress*.log\n"})}),"\n",(0,r.jsx)(s.p,{children:"The output is as follows:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"cpu-stress1.log:2025/05/19-22:01:32(CST) Stats: Completed: 206320.00M in 9.46s 21819.44MB/s, with 0 hardware incidents, 0 errors\ncpu-stress1.log:2025/05/19-22:01:32(CST) Status: PASS - please verify no corrected errors\ncpu-stress2.log:2025/05/19-22:20:22(CST) Stats: Completed: 220626.00M in 9.00s 24511.95MB/s, with 0 hardware incidents, 0 errors\ncpu-stress2.log:2025/05/19-22:20:22(CST) Status: PASS - please verify no corrected errors\ncpu-stress3.log:2025/05/19-22:21:20(CST) Stats: Completed: 196480.00M in 9.00s 21829.11MB/s, with 0 hardware incidents, 0 errors\n"})}),"\n",(0,r.jsx)(s.p,{children:"No abnormal messages appear in the output, and the number of errors is 0, indicating that the stress test results are normal."})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>o,x:()=>l});var n=t(96540);const r={},i=n.createContext(r);function o(e){const s=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);