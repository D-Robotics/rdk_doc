"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[43523],{28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>c});var r=n(96540);const s={},o=r.createContext(s);function i(e){const t=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(o.Provider,{value:t},e.children)}},80910:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"System_configuration/self_start","title":"2.5 Boot Auto-Start Configuration","description":"There are multiple ways to add auto-start programs in Ubuntu. This section provides two methods for reference.","source":"@site/i18n/en/docusaurus-plugin-content-docs-docs_s/current/02_System_configuration/05_self_start.md","sourceDirName":"02_System_configuration","slug":"/System_configuration/self_start","permalink":"/rdk_doc/en/rdk_s/System_configuration/self_start","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1766140001000,"sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"2.4 Thermal and CPU Frequency Management","permalink":"/rdk_doc/en/rdk_s/System_configuration/frequency_management"},"next":{"title":"2.6 GUI Network Configuration Process","permalink":"/rdk_doc/en/rdk_s/System_configuration/gui_network_config"}}');var s=n(74848),o=n(28453);const i={sidebar_position:5},c="2.5 Boot Auto-Start Configuration",a={},d=[{value:"Configure an Auto-Start Service",id:"configure-an-auto-start-service",level:2},{value:"Add to the rc.local Service",id:"add-to-the-rclocal-service",level:2}];function l(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"25-boot-auto-start-configuration",children:"2.5 Boot Auto-Start Configuration"})}),"\n",(0,s.jsx)(t.p,{children:"There are multiple ways to add auto-start programs in Ubuntu. This section provides two methods for reference."}),"\n",(0,s.jsx)(t.h2,{id:"configure-an-auto-start-service",children:"Configure an Auto-Start Service"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Create a startup script"}),"\n",(0,s.jsxs)(t.p,{children:["Use any text editor to create a new startup script in the ",(0,s.jsx)(t.code,{children:"/etc/init.d"})," directory. Assume the script is named ",(0,s.jsx)(t.code,{children:"your_script_name"}),". Below is a sample script for reference:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"#!/bin/bash\n\n### BEGIN INIT INFO\n# Provides:          your_service_name\n# Required-Start:    $all\n# Required-Stop:     \n# Default-Start:     2 3 4 5\n# Default-Stop:      0 1 6\n# Short-Description: Start your_service_name at boot time\n# Description:       Enable service provided by your_service_name\n### END INIT INFO\n\n/path/to/your/program &\n\nexit 0\n"})}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Make the startup script executable"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"sudo chmod +x /etc/init.d/your_script_name\n"})}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Use the ",(0,s.jsx)(t.code,{children:"update-rc.d"})," command to add the script to the system's startup items"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"sudo update-rc.d your_script_name defaults\n"})}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Enable auto-start using the ",(0,s.jsx)(t.code,{children:"systemctl"})," command"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"sudo systemctl enable your_script_name\n"})}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Reboot the development board to verify that the auto-start service runs correctly"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"root@ubuntu:~# systemctl status your_script_name.service \n\u25cf your_script_name.service - LSB: Start your_service_name at boot time\n    Loaded: loaded (/etc/init.d/your_script_name; generated)\n    Active: active (exited) since Wed 2023-04-19 15:01:12 CST; 57s ago\n    Docs: man:systemd-sysv-generator(8)\n    Process: 2768 ExecStart=/etc/init.d/your_script_name start (code=exited, status=0/SUCCESS)\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"add-to-the-rclocal-service",children:"Add to the rc.local Service"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"rc.local"})," is a system service used to automatically execute scripts or commands during system boot. This service is automatically invoked at system startup and executes user-specified scripts or commands after the system has finished booting, enabling custom configurations or operations at boot time."]}),"\n",(0,s.jsxs)(t.p,{children:["In earlier Linux distributions, ",(0,s.jsx)(t.code,{children:"rc.local"})," was the last service executed by default during the system boot process. With the widespread adoption of systemd, ",(0,s.jsx)(t.code,{children:"rc.local"})," is now considered a legacy system service."]}),"\n",(0,s.jsxs)(t.p,{children:["You can implement this by adding your startup command at the end of the ",(0,s.jsx)(t.code,{children:"/etc/rc.local"})," file (edited via ",(0,s.jsx)(t.code,{children:"sudo vim /etc/rc.local"}),"), for example:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'#!/bin/bash -e\n#\n# rc.local\n#\n# This script is executed at the end of each multiuser runlevel.\n# Make sure that the script will "exit 0" on success or any other\n# value on error.\n#\n# In order to enable or disable this script just change the execution\n# bits.\n#\n# By default this script does nothing.\n\n# Insert what you need\n\nexit 0\n'})})]})}function u(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);