"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[29228],{9818:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>l,frontMatter:()=>o,metadata:()=>r,toc:()=>s});const r=JSON.parse('{"id":"Basic_Application/cdev_demo_sample/vio_capture","title":"3.2.4 vio_capture Sample Introduction","description":"Sample Overview","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/03_Basic_Application/02_cdev_demo_sample/vio_capture.md","sourceDirName":"03_Basic_Application/02_cdev_demo_sample","slug":"/Basic_Application/cdev_demo_sample/vio_capture","permalink":"/rdk_doc/en/Basic_Application/cdev_demo_sample/vio_capture","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1770185252000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"3.2.3 rtsp2display Example Introduction","permalink":"/rdk_doc/en/Basic_Application/cdev_demo_sample/rtsp2display"},"next":{"title":"3.2.5 vio2display Example Introduction","permalink":"/rdk_doc/en/Basic_Application/cdev_demo_sample/vio2display"}}');var a=t(74848),i=t(28453);const o={sidebar_position:4},c="3.2.4 vio_capture Sample Introduction",d={},s=[{value:"Sample Overview",id:"sample-overview",level:2},{value:"Effect Demonstration",id:"effect-demonstration",level:2},{value:"Hardware Preparation",id:"hardware-preparation",level:2},{value:"Hardware Connection",id:"hardware-connection",level:3},{value:"Quick Start",id:"quick-start",level:2},{value:"Code and Board Location",id:"code-and-board-location",level:3},{value:"Compilation and Execution",id:"compilation-and-execution",level:3},{value:"Execution Effect",id:"execution-effect",level:3},{value:"Detailed Introduction",id:"detailed-introduction",level:2},{value:"Sample Program Parameter Options Description",id:"sample-program-parameter-options-description",level:3},{value:"Software Architecture Description",id:"software-architecture-description",level:3},{value:"API Flow Description",id:"api-flow-description",level:3},{value:"FAQ",id:"faq",level:3}];function p(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"324-vio_capture-sample-introduction",children:"3.2.4 vio_capture Sample Introduction"})}),"\n",(0,a.jsx)(n.h2,{id:"sample-overview",children:"Sample Overview"}),"\n",(0,a.jsxs)(n.p,{children:["vio_capture is a C language development code sample located in ",(0,a.jsx)(n.code,{children:"/app/cdev_demo"})," ",(0,a.jsx)(n.br,{}),"\n","This sample is used to capture YUV format images and RAW data from the camera and save them as local files."]}),"\n",(0,a.jsx)(n.h2,{id:"effect-demonstration",children:"Effect Demonstration"}),"\n",(0,a.jsxs)(n.p,{children:["We execute this sample through vscode to observe the images captured by the camera.\n",(0,a.jsx)(n.img,{src:"http://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/02_cdev_demo_sample/image/cdev_vio_capture_example_effect_1.png",alt:"connect-img"})]}),"\n",(0,a.jsx)(n.p,{children:"We use yuvplayer to check the captured images to see if they meet our expectations."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"http://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/02_cdev_demo_sample/image/yuv0_img.png",alt:"connect-img"})}),"\n",(0,a.jsx)(n.h2,{id:"hardware-preparation",children:"Hardware Preparation"}),"\n",(0,a.jsx)(n.h3,{id:"hardware-connection",children:"Hardware Connection"}),"\n",(0,a.jsx)(n.p,{children:"This sample does not require a mouse and keyboard, so here we connect the camera, HDMI display, Ethernet port, and power cable."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"http://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/02_cdev_demo_sample/image/cdev_vio_capture_hardware_connect.png",alt:"connect-img"})}),"\n",(0,a.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,a.jsx)(n.h3,{id:"code-and-board-location",children:"Code and Board Location"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"root@ubuntu:/app/cdev_demo/vio_capture# tree\n.\n\u251c\u2500\u2500 capture.c\n\u2514\u2500\u2500 Makefile\n"})}),"\n",(0,a.jsx)(n.h3,{id:"compilation-and-execution",children:"Compilation and Execution"}),"\n",(0,a.jsx)(n.p,{children:"We can directly use make in this directory to compile the capture executable file."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"root@ubuntu:/app/cdev_demo/vio_capture# tree\n.\n\u251c\u2500\u2500 capture\n\u251c\u2500\u2500 capture.c\n\u251c\u2500\u2500 capture.o\n\u2514\u2500\u2500 Makefile\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"execution-effect",children:"Execution Effect"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"\nroot@ubuntu:/app/cdev_demo/vio_capture# ./capture -b 16 -c 10 -h 1080 -w 1920\n2000/01/01 08:32:50.675 !INFO [OpenCamera][0450]hbn module\nset camera fps: -1,width: 1920,height: 1080\nCamera 0:\n        mipi_host: 0\nCamera 1:\n        mipi_host: 2\nCamera 2:\n        mipi_host: 0\nCamera 3:\n        mipi_host: 0\nmipi mclk is not configed.\nSearching camera sensor on device: /proc/device-tree/soc/cam/vcon@0 i2c bus: 6 mipi rx phy: 0\nWARN: Sensor Name: sc1330t, Expected Chip ID: 0xCA18, Actual Chip ID Read: 0x00\nWARN: Sensor Name: irs2875-tof, Expected Chip ID: 0x2875, Actual Chip ID Read: 0x00\nWARN: Sensor Name: sc230ai-10fps, Expected Chip ID: 0xCB34, Actual Chip ID Read: 0x00\nWARN: Sensor Name: sc230ai-30fps, Expected Chip ID: 0xCB34, Actual Chip ID Read: 0x00\nWARN: Sensor Name: sc132gs-1280p, Expected Chip ID: 0x132, Actual Chip ID Read: 0x00\nWARN: Sensor Name: sc035hgs, Expected Chip ID: 0x5A, Actual Chip ID Read: 0x00\nWARN: Sensor Name: ov5640, Expected Chip ID: 0x5640, Actual Chip ID Read: 0x00\nWARN: Sensor Name: f37, Expected Chip ID: 0xF37, Actual Chip ID Read: 0x00\nWARN: Sensor Name: imx415-30fps-2lane, Expected Chip ID: 0x03, Actual Chip ID Read: 0x00\nWARN: Sensor Name: imx415-30fps-4lane, Expected Chip ID: 0x03, Actual Chip ID Read: 0x00\nWARN: Sensor Name: sc202cs-1600x1200, Expected Chip ID: 0xEB52, Actual Chip ID Read: 0x00\nWARN: Sensor Name: irs2381c-tof, Expected Chip ID: 0x2381, Actual Chip ID Read: 0x00\n[0] INFO: Found sensor name:imx219-1920x1080-30fps on mipi rx csi 0, i2c addr 0x10, config_file:linear_1920x1080_raw10_30fps_2lane.c\nWARN: Sensor Name: ov5647-640x480-60fps, Expected Chip ID: 0x5647, Actual Chip ID Read: 0x00\nWARN: Sensor Name: ov5647-1280x960-30fps, Expected Chip ID: 0x5647, Actual Chip ID Read: 0x00\nWARN: Sensor Name: ov5647-1920x1080-30fps, Expected Chip ID: 0x5647, Actual Chip ID Read: 0x00\nWARN: Sensor Name: ov5647-2592x1944-15fps, Expected Chip ID: 0x5647, Actual Chip ID Read: 0x00\nWARN: Sensor Name: imx477-1280x960-120fps, Expected Chip ID: 0x477, Actual Chip ID Read: 0x00\nWARN: Sensor Name: imx477-1920x1080-50fps, Expected Chip ID: 0x477, Actual Chip ID Read: 0x00\nWARN: Sensor Name: imx477-2016x1520-40fps, Expected Chip ID: 0x477, Actual Chip ID Read: 0x00\nWARN: Sensor Name: imx477-4000x3000-10fps, Expected Chip ID: 0x477, Actual Chip ID Read: 0x00\nWARN: Sensor Name: sc035hgs-vc0, Expected Chip ID: 0x35, Actual Chip ID Read: 0x00\nWARN: Sensor Name: sc035hgs-vc1, Expected Chip ID: 0x35, Actual Chip ID Read: 0x00\nWARN: Sensor Name: sc231ai-30fps, Expected Chip ID: 0xCB6A, Actual Chip ID Read: 0x00\nWARN: Sensor Name: imx586-30fps-4lane, Expected Chip ID: 0x586, Actual Chip ID Read: 0x00\nWARN: Sensor Name: os08c10-30fps-2lane, Expected Chip ID: 0x53, Actual Chip ID Read: 0x00\n2000/01/01 08:32:50.805 !INFO [CamInitParam][0326]Setting VSE channel-0: input_width:1920, input_height:1080, dst_w:1920, dst_h:1080\n2000/01/01 08:32:50.805 !INFO [CamInitParam][0326]Setting VSE channel-1: input_width:1920, input_height:1080, dst_w:1920, dst_h:1080\n2000/01/01 08:32:50.805 !INFO [vp_vin_init][0055]csi0 ignore mclk ex attr, because mclk is not configed at device tree.\n================= VP Modules Status ====================\n======================== VFLOW =========================\n(active)[S0] vin0_C0*(dma)-m2m-isp0_C0-m2m-vse0_C0\n========================= SIF ==========================\n------------------- flow0 info -------------------\nrx_index:0\nvc_index:0\nipi_channels:1\nwidth:1920\nheight:1080\nformat:0x2b\nonline_isp:1\nddr_en:0\nbufnum:0\nemb_en:0\nembeded_dependence:0\nembeded_width:0\nembeded_height:0\nsize_err_cnt:1\n========================= ISP ==========================\n------------------- flow0 info -------------------\ninput_mode:2\nsched_mode:0\ntile_mode:0\naf_mode:0\nsensor_mode:0\ninput_width:1920\ninput_height:1080\ninput_format:1\ninput_bit_width:10\ninput_crop_x:0\ninput_crop_y:0\ninput_crop_w:1920\ninput_crop_h:1080\nddr_en:1\noutput_format:2\noutput_bit_width:8\n========================= VSE ==========================\n------------------- flow0 info -------------------\ninput_fps:0/0\ninput_width:1920\ninput_height:1080\ninput_format:2\ninput_bitwidth:8\ndns0 channel: roi [0][0][1920][1080], target [1920][1080], fps [0/0]\ndns1 channel: roi [0][0][1920][1080], target [1920][1080], fps [0/0]\n========================= VENC =========================\n========================= VDEC =========================\n========================= JENC =========================\n======================= Buffer =========================\n----------------------------------------------\nflowid module cid chn FREE  REQ  PRO  COM USED\n----------------------------------------------\n0      vin0   0   0     16    0    0    0    0\n0      vin0   0   8      0    1    2    0    0\n\n0      isp0   0   0     16    0    0    0    0\n0      isp0   0   8      0    3    0    0    0\n\n0      vse0   0   0     16    0    0    0    0\n0      vse0   0   8      0    3    0    0    0\n0      vse0   0   9      0    3    0    0    0\n\n----------------------------------------------\nflowid module cid chn FREE  REQ  PRO  COM USED\n----------------------------------------------\n0      vin0   0   0     16    0    0    0    0\n0      vin0   0   8      0    1    2    0    0\n\n0      isp0   0   0     16    0    0    0    0\n0      isp0   0   8      0    3    0    0    0\n\n0      vse0   0   0     16    0    0    0    0\n0      vse0   0   8      0    3    0    0    0\n0      vse0   0   9      0    3    0    0    0\n\n========================= END ===========================\ncapture time :0\ntemp_ptr.data_size[0]:4147200\ncapture time :1\ntemp_ptr.data_size[0]:4147200\ncapture time :2\ntemp_ptr.data_size[0]:4147200\ncapture time :3\ntemp_ptr.data_size[0]:4147200\ncapture time :4\ntemp_ptr.data_size[0]:4147200\ncapture time :5\ntemp_ptr.data_size[0]:4147200\ncapture time :6\ntemp_ptr.data_size[0]:4147200\ncapture time :7\ntemp_ptr.data_size[0]:4147200\ncapture time :8\ntemp_ptr.data_size[0]:4147200\ncapture time :9\ntemp_ptr.data_size[0]:4147200\nroot@ubuntu:/app/cdev_demo/vio_capture#\n"})}),"\n",(0,a.jsx)(n.p,{children:"We use the ls -la command to check if RAW and YUV images are captured."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"root@ubuntu:/app/cdev_demo/vio_capture# ls -la\ntotal 70964\ndrwxrwxr-x  2 root video    4096 Jan  1 08:07 .\ndrwxrwxr-x 10 root video    4096 Jul 31  2025 ..\n-rwxr-xr-x  1 root video   14480 Jan  1  2000 capture\n-rw-rw-r--  1 root video    4352 Jun  3  2025 capture.c\n-rw-r--r--  1 root video    6296 Jan  1  2000 capture.o\n-rw-rw-r--  1 root video     373 Jun  3  2025 Makefile\n-rw-r--r--  1 root root  4147200 Jan  1 08:07 raw_0.raw\n-rw-r--r--  1 root root  4147200 Jan  1 08:07 raw_1.raw\n-rw-r--r--  1 root root  4147200 Jan  1 08:07 raw_2.raw\n-rw-r--r--  1 root root  4147200 Jan  1 08:07 raw_3.raw\n-rw-r--r--  1 root root  4147200 Jan  1 08:07 raw_4.raw\n-rw-r--r--  1 root root  4147200 Jan  1 08:07 raw_5.raw\n-rw-r--r--  1 root root  4147200 Jan  1 08:07 raw_6.raw\n-rw-r--r--  1 root root  4147200 Jan  1 08:07 raw_7.raw\n-rw-r--r--  1 root root  4147200 Jan  1 08:07 raw_8.raw\n-rw-r--r--  1 root root  4147200 Jan  1 08:07 raw_9.raw\n-rw-r--r--  1 root root  3110400 Jan  1 08:07 yuv_0.yuv\n-rw-r--r--  1 root root  3110400 Jan  1 08:07 yuv_1.yuv\n-rw-r--r--  1 root root  3110400 Jan  1 08:07 yuv_2.yuv\n-rw-r--r--  1 root root  3110400 Jan  1 08:07 yuv_3.yuv\n-rw-r--r--  1 root root  3110400 Jan  1 08:07 yuv_4.yuv\n-rw-r--r--  1 root root  3110400 Jan  1 08:07 yuv_5.yuv\n-rw-r--r--  1 root root  3110400 Jan  1 08:07 yuv_6.yuv\n-rw-r--r--  1 root root  3110400 Jan  1 08:07 yuv_7.yuv\n-rw-r--r--  1 root root  3110400 Jan  1 08:07 yuv_8.yuv\n-rw-r--r--  1 root root  3110400 Jan  1 08:07 yuv_9.yuv\nroot@ubuntu:/app/cdev_demo/vio_capture# \n"})}),"\n",(0,a.jsx)(n.p,{children:"Download the output files to a device that can browse RAW and YUV files, such as a computer, and then preview the RAW and YUV images using software.\nRAW images are generally darker, while YUV images have undergone ISP processing and will more realistically represent the actual scene."}),"\n",(0,a.jsx)(n.h2,{id:"detailed-introduction",children:"Detailed Introduction"}),"\n",(0,a.jsx)(n.h3,{id:"sample-program-parameter-options-description",children:"Sample Program Parameter Options Description"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"root@ubuntu:/app/cdev_demo/vio_capture# ./capture \nUsage: capture [OPTION...]\ncapture sample -- An example of capture yuv/raw\n\n  -b, --bit=bit              the depth of raw,mostly is 10,imx477 is 12\n  -c, --count=number         capture number\n  -h, --height=height        sensor output height\n  -w, --width=width          sensor output width\n  -?, --help                 Give this help list\n      --usage                Give a short usage message\n\nMandatory or optional arguments to long options are also mandatory or optional\nfor any corresponding short options.\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Sample program parameter options description ",(0,a.jsx)(n.br,{}),"\n","--width\t -w: Camera sensor output width ",(0,a.jsx)(n.br,{}),"\n","--height -h: Camera sensor output height ",(0,a.jsx)(n.br,{}),"\n","--bit\t-b: RAW bit depth (usually 8/10/16) ",(0,a.jsx)(n.br,{}),"\n","--count\t-c: Number of frames to capture"]}),"\n",(0,a.jsx)(n.p,{children:"Here we can list some example parameters for standard sensors for reference."}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Model"}),(0,a.jsx)(n.th,{children:"Width"}),(0,a.jsx)(n.th,{children:"Height"}),(0,a.jsx)(n.th,{children:"Bit Depth"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"IMX219"}),(0,a.jsx)(n.td,{children:"1920"}),(0,a.jsx)(n.td,{children:"1080"}),(0,a.jsx)(n.td,{children:"16"})]})})]}),"\n",(0,a.jsx)(n.h3,{id:"software-architecture-description",children:"Software Architecture Description"}),"\n",(0,a.jsx)(n.p,{children:"This sample mainly captures YUV and RAW images from the camera. The logic is relatively simple, after opening the camera, call the interfaces provided by the libspcdev library to directly obtain YUV and RAW images for saving."}),"\n",(0,a.jsx)("center",{children:(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"http://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/02_cdev_demo_sample/image/cdev_vio_capture_software_arch.png",alt:"software_arch"})})}),"\n",(0,a.jsx)(n.h3,{id:"api-flow-description",children:"API Flow Description"}),"\n",(0,a.jsx)("center",{children:(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"http://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/02_cdev_demo_sample/image/cdev_vio_capture_api_flow.png",alt:"software_arch"})})}),"\n",(0,a.jsx)(n.h3,{id:"faq",children:"FAQ"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Q:"})," Why can't other cameras capture images? ",(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.strong,{children:"A:"})," Other cameras have not undergone driver adaptation. libspcdev calls the already adapted camera drivers for use. Different cameras have different parameters, so other cameras cannot capture images."]})]})}function l(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>c});var r=t(96540);const a={},i=r.createContext(a);function o(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);