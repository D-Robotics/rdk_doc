"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[67242],{3936:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>r,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"Advanced_development/multimedia_development/multimedia_application/sample_pym","title":"sample_pym Usage Instructions","description":"Function Overview","source":"@site/i18n/en/docusaurus-plugin-content-docs-docs_s/current/07_Advanced_development/03_multimedia_development/02_multimedia_application/04_sample_pym.md","sourceDirName":"07_Advanced_development/03_multimedia_development/02_multimedia_application","slug":"/Advanced_development/multimedia_development/multimedia_application/sample_pym","permalink":"/rdk_doc/en/rdk_s/Advanced_development/multimedia_development/multimedia_application/sample_pym","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1764746491000,"sidebarPosition":4,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"sample_isp Usage Guide","permalink":"/rdk_doc/en/rdk_s/Advanced_development/multimedia_development/multimedia_application/sample_isp"},"next":{"title":"sample_gdc Usage Instructions","permalink":"/rdk_doc/en/rdk_s/Advanced_development/multimedia_development/multimedia_application/sample_gdc"}}');var s=n(74848),d=n(28453);const o={},l="sample_pym Usage Instructions",r={},a=[{value:"Function Overview",id:"function-overview",level:2},{value:"Code Location and Directory Structure",id:"code-location-and-directory-structure",level:3},{value:"Compilation",id:"compilation",level:2},{value:"Execution",id:"execution",level:2},{value:"How to Run the Program",id:"how-to-run-the-program",level:3},{value:"Program Argument Options",id:"program-argument-options",level:3},{value:"Execution Example",id:"execution-example",level:3}];function c(e){const i={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"sample_pym-usage-instructions",children:"sample_pym Usage Instructions"})}),"\n",(0,s.jsx)(i.h2,{id:"function-overview",children:"Function Overview"}),"\n",(0,s.jsx)(i.p,{children:"sample_pym reads a YUV file into memory allocated by hbm, passes it to PYM, which processes it in a pyramid layer manner, and finally dumps the processed YUV data to the file system."}),"\n",(0,s.jsx)(i.h3,{id:"code-location-and-directory-structure",children:"Code Location and Directory Structure"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Code location: ",(0,s.jsx)(i.code,{children:"/app/multimedia_samples/sample_pym"})]}),"\n",(0,s.jsx)(i.li,{children:"Directory structure:"}),"\n"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{children:"sample_pym/\n\u251c\u2500\u2500 Makefile\n\u2514\u2500\u2500 sample_pym.c\n"})}),"\n",(0,s.jsx)(i.h2,{id:"compilation",children:"Compilation"}),"\n",(0,s.jsxs)(i.p,{children:["Run the ",(0,s.jsx)(i.code,{children:"make"})," command in the source code directory to compile:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-Shell",children:"cd /app/multimedia_samples/sample_pym\nmake\n"})}),"\n",(0,s.jsx)(i.h2,{id:"execution",children:"Execution"}),"\n",(0,s.jsx)(i.h3,{id:"how-to-run-the-program",children:"How to Run the Program"}),"\n",(0,s.jsxs)(i.p,{children:["Execute the program directly with ",(0,s.jsx)(i.code,{children:"./sample_pym"})," to display help information:"]}),"\n",(0,s.jsx)(i.h3,{id:"program-argument-options",children:"Program Argument Options"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{children:"./sample_pym\nUsage: sample_pym [OPTIONS]\nOptions:\n-i, --input_file FILE   Specify the input file\n-w, --input_width WIDTH Specify the input width\n-h, --input_height HEIGHT       Specify the input height\n-f, --feedback                  Specify feedback mode\n-V, --verbose           Enable verbose mode\n"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"-i"}),": Specifies the input YUV file. The test program uses files in NV12 format as input."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"-w"}),": Width of the input YUV image."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"-h"}),": Height of the input YUV image."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"-f"}),": Specifies the PYM operating mode. By default, it runs in Vflow mode."]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"execution-example",children:"Execution Example"}),"\n",(0,s.jsxs)(i.p,{children:["Taking a YUV image with input resolution 1920\xd71080 as an example, run:",(0,s.jsx)(i.br,{}),"\n",(0,s.jsx)(i.code,{children:"./sample_pym -i /app/res/assets/nv12_1920x1080.yuv -w 1920 -h 1080"}),"."]}),"\n",(0,s.jsx)(i.p,{children:"This feeds a YUV image into PYM, initializes six channels, performs downsampling operations at scales of 1, 1/2, 1/4, 1/8, 1/16, and 1/32 respectively, and saves the processed images as YUV files:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Channel 0 outputs the original resolution: 1920 \xd7 1080."}),"\n",(0,s.jsx)(i.li,{children:"Channel 1 outputs width and height each halved: 960 \xd7 540."}),"\n",(0,s.jsx)(i.li,{children:"Channel 2 outputs width and height each quartered: 480 \xd7 270."}),"\n",(0,s.jsx)(i.li,{children:"Channel 3 outputs width and height each reduced by 1/8: 240 \xd7 134."}),"\n",(0,s.jsx)(i.li,{children:"Channel 4 outputs width and height each reduced by 1/16: 120 \xd7 66."}),"\n",(0,s.jsx)(i.li,{children:"Channel 5 outputs width and height each reduced by 1/32: 60 \xd7 32."}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Output log as follows:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{children:"pym vnode work mode: vflow\nUsing input file:/app/res/assets/nv12_1920x1080.yuv, input:1920x1080\n(read_yuvv_nv12_file):file read(/app/res/assets/nv12_1920x1080.yuv), y-size(2073600)\n\npym config:\n        ichn input width = 1920, height = 1080\n        ochn[0] ratio= 1, width = 1920, height = 1080 wstride=1920 vstride=1080 out[1920*1080]\n        ochn[1] ratio= 2, width = 960, height = 540 wstride=960 vstride=540 out[960*540]\n        ochn[2] ratio= 4, width = 480, height = 270 wstride=480 vstride=270 out[480*270]\n        ochn[3] ratio= 8, width = 240, height = 134 wstride=240 vstride=134 out[240*134]\n        ochn[4] ratio= 16, width = 120, height = 66 wstride=128 vstride=66 out[120*66]\n        ochn[5] ratio= 32, width = 60, height = 32 wstride=64 vstride=32 out[60*32]\n"})}),"\n",(0,s.jsx)(i.p,{children:"Note:"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["The width output by the PYM module is aligned to 16-byte boundaries. When viewing images, pay attention to cases where the ",(0,s.jsx)(i.code,{children:"width"})," differs from the ",(0,s.jsx)(i.code,{children:"wstride"})," parameter."]}),"\n"]})]})}function p(e={}){const{wrapper:i}={...(0,d.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>l});var t=n(96540);const s={},d=t.createContext(s);function o(e){const i=t.useContext(d);return t.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(d.Provider,{value:i},e.children)}}}]);