"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[42149],{28453:(n,e,t)=>{t.d(e,{R:()=>r,x:()=>a});var s=t(96540);const c={},i=s.createContext(c);function r(n){const e=s.useContext(i);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:r(n.components),s.createElement(i.Provider,{value:e},n.children)}},29634:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Advanced_development/mcu_development/S100/mcu_i2c","title":"I2C\u4f7f\u7528\u6307\u5357","description":"S100 MCU\u82af\u7247\u63d0\u4f9b\u4e86\u6807\u51c6\u7684I2C\u603b\u7ebf\uff0cI2C\u603b\u7ebf\u63a7\u5236\u5668\u901a\u8fc7\u4e32\u884c\u6570\u636e\u7ebf\uff08SDA\uff09\u548c\u4e32\u884c\u65f6\u949f\uff08SCL\uff09\u7ebf\u5728\u8fde\u63a5\u5230\u603b\u7ebf\u7684\u5668\u4ef6\u95f4\u4f20\u9012\u4fe1\u606f\u3002\u6bcf\u4e2a\u5668\u4ef6\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684\u5730\u5740\u3002I2C\u5b50\u7cfb\u7edf\u7684\u4e3b\u8981\u529f\u80fd\u662f\u5b9e\u73b0\u5355\u7247\u673a\u4e0e\u5916\u56f4\u8bbe\u5907\u4e4b\u95f4\u7684\u4e32\u884c\u901a\u4fe1\u3002\u5b83\u53ef\u4ee5\u9a71\u52a8mipi\u5b50\u5361\u3001pmic\u82af\u7247\u548c\u5176\u4ed6\u5e38\u7528\u7684\u5916\u56f4\u8bbe\u5907\u3002","source":"@site/docs_s/07_Advanced_development/05_mcu_development/01_S100/10_mcu_i2c.md","sourceDirName":"07_Advanced_development/05_mcu_development/01_S100","slug":"/Advanced_development/mcu_development/S100/mcu_i2c","permalink":"/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/mcu_i2c","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1754660894000,"sidebarPosition":10,"frontMatter":{"sidebar_position":10},"sidebar":"tutorialSidebar","previous":{"title":"CAN\u4f7f\u7528\u6307\u5357","permalink":"/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/mcu_can"},"next":{"title":"Eth\u4f7f\u7528\u6307\u5357","permalink":"/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/mcu_eth"}}');var c=t(74848),i=t(28453);const r={sidebar_position:10},a="I2C\u4f7f\u7528\u6307\u5357",o={},d=[{value:"I2C\u63a7\u5236\u5668",id:"i2c\u63a7\u5236\u5668",level:2},{value:"\u4ee3\u7801\u8def\u5f84",id:"\u4ee3\u7801\u8def\u5f84",level:2},{value:"\u521d\u59cb\u5316\u548c\u8c03\u5ea6",id:"\u521d\u59cb\u5316\u548c\u8c03\u5ea6",level:3},{value:"I2C\u4f7f\u7528",id:"i2c\u4f7f\u7528",level:2},{value:"\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3",id:"\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3",level:2},{value:"void I2c_Init ( const I2c_ConfigType * Config )",id:"void-i2c_init--const-i2c_configtype--config-",level:3},{value:"void I2c_DeInit ( void )",id:"void-i2c_deinit--void-",level:3},{value:"Std_ReturnType I2c_SyncDataTrans ( uint8 Channel, const I2c_RequestType* RequestPtr )",id:"std_returntype-i2c_syncdatatrans--uint8-channel-const-i2c_requesttype-requestptr-",level:3},{value:"Std_ReturnType I2c_SyncMultiDataTrans ( uint8 Channel, const I2c_RequestType* RequestPtr uint8 I2cRequestCnt)",id:"std_returntype-i2c_syncmultidatatrans--uint8-channel-const-i2c_requesttype-requestptr-uint8-i2crequestcnt",level:3},{value:"Std_ReturnType I2c_AsyncDataTrans ( uint8 Channel, const I2c_RequestType* RequestPtr )",id:"std_returntype-i2c_asyncdatatrans--uint8-channel-const-i2c_requesttype-requestptr-",level:3},{value:"I2c_StatusType I2c_StatusGet ( uint8 Channel )",id:"i2c_statustype-i2c_statusget--uint8-channel-",level:3},{value:"void I2c_GetVersionInfo ( Std_VersionInfoType* VersionInfo )",id:"void-i2c_getversioninfo--std_versioninfotype-versioninfo-",level:3}];function l(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...n.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.header,{children:(0,c.jsx)(e.h1,{id:"i2c\u4f7f\u7528\u6307\u5357",children:"I2C\u4f7f\u7528\u6307\u5357"})}),"\n",(0,c.jsx)(e.p,{children:"S100 MCU\u82af\u7247\u63d0\u4f9b\u4e86\u6807\u51c6\u7684I2C\u603b\u7ebf\uff0cI2C\u603b\u7ebf\u63a7\u5236\u5668\u901a\u8fc7\u4e32\u884c\u6570\u636e\u7ebf\uff08SDA\uff09\u548c\u4e32\u884c\u65f6\u949f\uff08SCL\uff09\u7ebf\u5728\u8fde\u63a5\u5230\u603b\u7ebf\u7684\u5668\u4ef6\u95f4\u4f20\u9012\u4fe1\u606f\u3002\u6bcf\u4e2a\u5668\u4ef6\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684\u5730\u5740\u3002I2C\u5b50\u7cfb\u7edf\u7684\u4e3b\u8981\u529f\u80fd\u662f\u5b9e\u73b0\u5355\u7247\u673a\u4e0e\u5916\u56f4\u8bbe\u5907\u4e4b\u95f4\u7684\u4e32\u884c\u901a\u4fe1\u3002\u5b83\u53ef\u4ee5\u9a71\u52a8mipi\u5b50\u5361\u3001pmic\u82af\u7247\u548c\u5176\u4ed6\u5e38\u7528\u7684\u5916\u56f4\u8bbe\u5907\u3002"}),"\n",(0,c.jsx)(e.h2,{id:"i2c\u63a7\u5236\u5668",children:"I2C\u63a7\u5236\u5668"}),"\n",(0,c.jsx)(e.p,{children:"I2C\u63a7\u5236\u5668\u652f\u6301\u4ee5\u4e0b\u529f\u80fd\uff1a"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u4e09\u79cd\u901f\u7387\u6a21\u5f0f\u9009\u62e9\uff08\u76ee\u524d\u9a71\u52a8\u4e0d\u652f\u6301HIGH SPEED\u6a21\u5f0f\uff09","\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Standard Mode"}),"\uff1a0\u2013100 Kb/s"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Fast Mode & Fast Mode Plus"}),"\uff1a","\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Fast Mode\uff1a0\u2013400 Kb/s"}),"\n",(0,c.jsx)(e.li,{children:"Fast Mode Plus\uff1a0\u20131000 Kb/s"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"High-Speed Mode"}),"\uff1a0\u20133.4 Mb/s"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.li,{children:"\u652f\u6301\u4e3b\u4ece\u6a21\u5f0f\u914d\u7f6e"}),"\n",(0,c.jsx)(e.li,{children:"\u652f\u6301 7 \u4f4d\u548c 10 \u4f4d\u5bfb\u5740\u6a21\u5f0f"}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"S100 MCU\u82af\u7247\u603b\u5171\u63d0\u4f9b4\u4e2aI2C\u63a7\u5236\u5668(I2C6-9)\uff0c\u9ed8\u8ba4\u901f\u7387\u4e3aFast Mode Plus\u3002"}),"\n",(0,c.jsx)(e.h2,{id:"\u4ee3\u7801\u8def\u5f84",children:"\u4ee3\u7801\u8def\u5f84"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Mcalcdd/Common/Register/inc/I2c_Register.h # \u5bc4\u5b58\u5668\u76f8\u5173\u5185\u5bb9"}),"\n",(0,c.jsx)(e.li,{children:"McalCdd/I2c/src/I2c.c # \u9a71\u52a8\u4ee3\u7801"}),"\n",(0,c.jsx)(e.li,{children:"McalCdd/I2c/src/I2c_Lld.c # \u5e95\u5c42\u9a71\u52a8\u4ee3\u7801"}),"\n",(0,c.jsx)(e.li,{children:"McalCdd/I2c/inc/I2c.h # \u9a71\u52a8\u5934\u6587\u4ef6"}),"\n",(0,c.jsx)(e.li,{children:"McalCdd/I2c/inc/I2c_Lld.h # \u5e95\u5c42\u9a71\u52a8\u5934\u6587\u4ef6"}),"\n",(0,c.jsx)(e.li,{children:"Config/McalCdd/gen_s100_sip_B_mcu1/I2c/src/I2c_PBcfg.c # PB\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,c.jsx)(e.li,{children:"Config/McalCdd/gen_s100_sip_B_mcu1/I2c/inc/I2c_PBcfg.h # PB\u914d\u7f6e\u5934\u6587\u4ef6"}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"\u521d\u59cb\u5316\u548c\u8c03\u5ea6",children:"\u521d\u59cb\u5316\u548c\u8c03\u5ea6"}),"\n",(0,c.jsx)(e.p,{children:"\u901a\u7528I/O\u5f15\u811a\u7684\u521d\u59cb\u5316\u4e0d\u5728I2c\u9a71\u52a8\u7a0b\u5e8f\u7684\u8303\u56f4\u5185\uff0c\u5e94\u7531PORT\u9a71\u52a8\u5148\u5b8c\u6210IO\u521d\u59cb\u5316(Port_Init(NULL);)\uff0c\u7136\u540e\u4f7f\u7528I2c\u9a71\u52a8\u3002 I2c\u9a71\u52a8\u521d\u59cb\u5316\u51fd\u6570\u4e3aI2c_Init(NULL)\u3002"}),"\n",(0,c.jsx)(e.h2,{id:"i2c\u4f7f\u7528",children:"I2C\u4f7f\u7528"}),"\n",(0,c.jsx)(e.p,{children:"S100 \u4e3aMCU\u4fa7\u5b9e\u73b0\u4e86\u4e00\u5957\u7c7b\u4f3ci2c-tools\u5f00\u6e90\u5de5\u5177\u7684\u547d\u4ee4\uff0c\u6765\u652f\u6301\u7528\u6237\u8c03\u8bd5\u4f7f\u7528."}),"\n",(0,c.jsx)(e.p,{children:"\u4ee3\u7801\u8def\u5f84"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-sh",children:"samples/I2c/src/I2c_Cmd.c\n"})}),"\n",(0,c.jsx)(e.p,{children:"\u76ee\u524d\u652f\u6301i2cdetect, i2cget, i2cset\u3002"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"i2cdetect \u2014 \u7528\u6765\u5217\u4e3eI2C bus\u53ca\u8be5bus\u4e0a\u7684\u6240\u6709\u8bbe\u5907"}),"\n",(0,c.jsx)(e.li,{children:"i2cget \u2014 \u8bfb\u53d6I2C\u8bbe\u5907\u67d0\u4e2aregister\u7684\u503c"}),"\n",(0,c.jsx)(e.li,{children:"i2cset \u2014 \u5199\u5165I2C\u8bbe\u5907\u67d0\u4e2aregister\u7684\u503c"}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"\u6d4b\u8bd5\u793a\u4f8b\u5982\u4e0b\uff1a"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-sh",children:"D-Robotics:/$ i2cdetect 7\n     0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f\n00:    -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\n10: -- -- 12 -- -- -- -- -- -- -- -- -- -- -- -- --\n20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\n30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\n40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\n50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\n60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\n70: -- -- -- -- -- -- -- --\n"})}),"\n",(0,c.jsx)(e.h2,{id:"\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3",children:"\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3"}),"\n",(0,c.jsx)(e.h3,{id:"void-i2c_init--const-i2c_configtype--config-",children:"void I2c_Init ( const I2c_ConfigType * Config )"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-shell",children:"Description\uff1aSubsystem driver initialization function.\n\nSync/Async\uff1aSynchronous\nParameters(in)\n    Config\uff1a Pointer to configuration structure\nParameters(inout)\n    None\nParameters(out)\n    None\nReturn value: None\n"})}),"\n",(0,c.jsx)(e.h3,{id:"void-i2c_deinit--void-",children:"void I2c_DeInit ( void )"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-shell",children:"Description\uff1aDe-initialize of i2c system to reset values.\n\nSync/Async\uff1aSynchronous\nParameters(in)\n    None\nParameters(inout)\n    None\nParameters(out)\n    None\nReturn value: None\n"})}),"\n",(0,c.jsx)(e.h3,{id:"std_returntype-i2c_syncdatatrans--uint8-channel-const-i2c_requesttype-requestptr-",children:"Std_ReturnType I2c_SyncDataTrans ( uint8 Channel, const I2c_RequestType* RequestPtr )"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-shell",children:"Description\uff1aSends or receives an I2C message blocking.\n\nSync/Async\uff1aSynchronous\nParameters(in)\n    Channel: I2C Channel.\n    RequestPtr: I2C transmit request type\nParameters(inout)\n    None\nParameters(out)\n    None\nReturn value:\n    E_OK: command has been accepted\n    E_NOT_OK: command has not been accepted\n"})}),"\n",(0,c.jsx)(e.h3,{id:"std_returntype-i2c_syncmultidatatrans--uint8-channel-const-i2c_requesttype-requestptr-uint8-i2crequestcnt",children:"Std_ReturnType I2c_SyncMultiDataTrans ( uint8 Channel, const I2c_RequestType* RequestPtr uint8 I2cRequestCnt)"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-shell",children:"Description\uff1aSends or receives an I2C message blocking.\n\nSync/Async\uff1aSynchronous\nParameters(in)\n    Channel: I2C Channel.\n    RequestPtr: I2C transmit request type\n    I2cRequestCnt: I2C transmit num\nParameters(inout)\n    None\nParameters(out)\n    None\nReturn value:\n    E_OK: command has been accepted\n    E_NOT_OK: command has not been accepted\n"})}),"\n",(0,c.jsx)(e.h3,{id:"std_returntype-i2c_asyncdatatrans--uint8-channel-const-i2c_requesttype-requestptr-",children:"Std_ReturnType I2c_AsyncDataTrans ( uint8 Channel, const I2c_RequestType* RequestPtr )"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-shell",children:"Description\uff1aThis function performs Sends or receives an I2C message non-blocking\n\nSync/Async\uff1aAsynchronous\nParameters(in)\n    Channel: I2C Channel.\n    RequestPtr: I2C transmit request type\nParameters(inout)\n    None\nParameters(out)\n    None\nReturn value:\n    E_OK: command has been accepted\n    E_NOT_OK: command has not been accepted\n"})}),"\n",(0,c.jsx)(e.h3,{id:"i2c_statustype-i2c_statusget--uint8-channel-",children:"I2c_StatusType I2c_StatusGet ( uint8 Channel )"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-shell",children:"Description\uff1aGets the status of an I2C channel.\n\nSync/Async\uff1aSynchronous\nParameters(in)\n    Channel: I2C Channel.\nParameters(inout)\n    None\nParameters(out)\n    None\nReturn value: status of an I2C channel\n"})}),"\n",(0,c.jsx)(e.h3,{id:"void-i2c_getversioninfo--std_versioninfotype-versioninfo-",children:"void I2c_GetVersionInfo ( Std_VersionInfoType* VersionInfo )"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-shell",children:"Description\uff1aThis function Gets the version information of this module\n\nSync/Async\uff1aSynchronous\nParameters(in)\n    VersionInfo: version information of this module\nParameters(inout)\n    None\nParameters(out)\n    None\nReturn value: None\n"})})]})}function u(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,c.jsx)(e,{...n,children:(0,c.jsx)(l,{...n})}):l(n)}}}]);