"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[50450],{11470:(e,t,n)=>{n.d(t,{A:()=>y});var o=n(96540),s=n(34164),r=n(23104),a=n(56347),l=n(205),i=n(57485),c=n(31682),d=n(70679);function u(e){return o.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,o.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function h(e){const{values:t,children:n}=e;return(0,o.useMemo)(()=>{const e=t??function(e){return u(e).map(({props:{value:e,label:t,attributes:n,default:o}})=>({value:e,label:t,attributes:n,default:o}))}(n);return function(e){const t=(0,c.XI)(e,(e,t)=>e.value===t.value);if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[t,n])}function p({value:e,tabValues:t}){return t.some(t=>t.value===e)}function b({queryString:e=!1,groupId:t}){const n=(0,a.W6)(),s=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,i.aZ)(s),(0,o.useCallback)(e=>{if(!s)return;const t=new URLSearchParams(n.location.search);t.set(s,e),n.replace({...n.location,search:t.toString()})},[s,n])]}function m(e){const{defaultValue:t,queryString:n=!1,groupId:s}=e,r=h(e),[a,i]=(0,o.useState)(()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=t.find(e=>e.default)??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:r})),[c,u]=b({queryString:n,groupId:s}),[m,g]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,s]=(0,d.Dv)(t);return[n,(0,o.useCallback)(e=>{t&&s.set(e)},[t,s])]}({groupId:s}),x=(()=>{const e=c??m;return p({value:e,tabValues:r})?e:null})();(0,l.A)(()=>{x&&i(x)},[x]);return{selectedValue:a,selectValue:(0,o.useCallback)(e=>{if(!p({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);i(e),u(e),g(e)},[u,g,r]),tabValues:r}}var g=n(92303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=n(74848);function v({className:e,block:t,selectedValue:n,selectValue:o,tabValues:a}){const l=[],{blockElementScrollPositionUntilNextRender:i}=(0,r.a_)(),c=e=>{const t=e.currentTarget,s=l.indexOf(t),r=a[s].value;r!==n&&(i(t),o(r))},d=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":t},e),children:a.map(({value:e,label:t,attributes:o})=>(0,f.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{l.push(e)},onKeyDown:d,onClick:c,...o,className:(0,s.A)("tabs__item",x.tabItem,o?.className,{"tabs__item--active":n===e}),children:t??e},e))})}function j({lazy:e,children:t,selectedValue:n}){const r=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=r.find(e=>e.props.value===n);return e?(0,o.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:r.map((e,t)=>(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==n}))})}function k(e){const t=m(e);return(0,f.jsxs)("div",{className:(0,s.A)("tabs-container",x.tabList),children:[(0,f.jsx)(v,{...t,...e}),(0,f.jsx)(j,{...t,...e})]})}function y(e){const t=(0,g.A)();return(0,f.jsx)(k,{...e,children:u(e.children)},String(t))}},19365:(e,t,n)=>{n.d(t,{A:()=>a});n(96540);var o=n(34164);const s={tabItem:"tabItem_Ymn6"};var r=n(74848);function a({children:e,hidden:t,className:n}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,o.A)(s.tabItem,n),hidden:t,children:e})}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>l});var o=n(96540);const s={},r=o.createContext(s);function a(e){const t=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),o.createElement(r.Provider,{value:t},e.children)}},42787:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>u});const o=JSON.parse('{"id":"Robot_development/quick_start/install_tros","title":"5.1.2 apt installation and upgrade","description":"This section introduces how to use apt to install TogetheROS.Bot on RDK.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/05_Robot_development/01_quick_start/install_tros.md","sourceDirName":"05_Robot_development/01_quick_start","slug":"/Robot_development/quick_start/install_tros","permalink":"/rdk_doc/en/Robot_development/quick_start/install_tros","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1753278649000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"5.1.1 Environment Setup","permalink":"/rdk_doc/en/Robot_development/quick_start/preparation"},"next":{"title":"5.1.3 Source Code Installation","permalink":"/rdk_doc/en/Robot_development/quick_start/cross_compile"}}');var s=n(74848),r=n(28453),a=n(11470),l=n(19365);const i={sidebar_position:2},c="5.1.2 apt installation and upgrade",d={},u=[{value:"RDK",id:"rdk",level:2},{value:"Installation",id:"installation",level:3},{value:"Upgrade tros.b",id:"upgrade-trosb",level:3},{value:"Check the current version of tros.b",id:"check-the-current-version-of-trosb",level:3},{value:"X86 Platform Setup",id:"x86-platform-setup",level:2},{value:"Prerequisites:",id:"prerequisites",level:3},{value:"1. Set Locale and Enable Universe Repository",id:"1-set-locale-and-enable-universe-repository",level:3},{value:"2. Download GPG Keys and Add Source Lists",id:"2-download-gpg-keys-and-add-source-lists",level:3},{value:"3. Update Package Sources and Install <code>tros.b</code>",id:"3-update-package-sources-and-install-trosb",level:3}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"512-apt-installation-and-upgrade",children:"5.1.2 apt installation and upgrade"})}),"\n","\n",(0,s.jsx)(t.p,{children:"This section introduces how to use apt to install TogetheROS.Bot on RDK."}),"\n",(0,s.jsx)(t.h2,{id:"rdk",children:"RDK"}),"\n",(0,s.jsx)(t.p,{children:"Prerequisites"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"The environment preparation in section 1.1 has been completed."}),"\n",(0,s.jsx)(t.li,{children:"The RDK system has been installed."}),"\n",(0,s.jsx)(t.li,{children:"The RDK can access the internet normally."}),"\n",(0,s.jsx)(t.li,{children:"The RDK can be accessed remotely via SSH."}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"installation",children:"Installation"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Note: The IP address of the RDK used here is 10.64.61.241. Replace it with your IP address during installation."})}),"\n",(0,s.jsx)(t.p,{children:"Login to the RDK"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"ssh root@10.64.61.241\n"})}),"\n",(0,s.jsx)(t.p,{children:"Install the tros.b package:"}),"\n",(0,s.jsxs)(a.A,{groupId:"tros-distro",children:[(0,s.jsx)(l.A,{value:"foxy",label:"Foxy",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"sudo apt update\nsudo apt install tros\n"})})}),(0,s.jsx)(l.A,{value:"humble",label:"Humble",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"sudo apt update\nsudo apt install tros-humble\n"})})})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsxs)(t.strong,{children:["Note: If you encounter the error ",(0,s.jsx)(t.code,{children:"E: Unmet dependencies. Try 'apt --fix-broken install' with no packages (or specify a solution).' after running the installation command, please execute the command "}),"apt --fix-broken install` to install the related dependencies before installing tros.b."]})}),"\n",(0,s.jsx)(t.p,{children:"After the installation is complete, check the files in the /opt directory"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"root@ubuntu:/userdata# ls /opt/\nhobot  tros\n"})}),"\n",(0,s.jsx)(t.p,{children:"The tros.b is installed in the /opt directory."}),"\n",(0,s.jsx)(t.h3,{id:"upgrade-trosb",children:"Upgrade tros.b"}),"\n",(0,s.jsx)(t.p,{children:"Login to RDK:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"ssh root@10.64.61.241\n"})}),"\n",(0,s.jsx)(t.p,{children:"Upgrade tros.b deb package:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"sudo apt update\nsudo apt upgrade\n"})}),"\n",(0,s.jsx)(t.h3,{id:"check-the-current-version-of-trosb",children:"Check the current version of tros.b"}),"\n",(0,s.jsxs)(a.A,{groupId:"tros-distro",children:[(0,s.jsxs)(l.A,{value:"foxy",label:"Foxy",children:[(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"root@ubuntu:~# apt show tros\nPackage: tros\nVersion: 2.0.0-20230523223852\nMaintainer: kairui.wang <kairui.wang@d-robotics.cc>\nInstalled-Size: unknown\nDepends: hobot-models-basic, tros-ros-base, tros-ai-msgs, tros-audio-control, tros-audio-msg, tros-audio-tracking, tros-body-tracking, tros-dnn-benchmark-example, tros-dnn-node, tros-dnn-node-example, tros-dnn-node-sample, tros-elevation-net, tros-gesture-control, tros-hand-gesture-detection, tros-hand-lmk-detection, tros-hbm-img-msgs, tros-hobot-app-xrrobot-body-tracking, tros-hobot-app-xrrobot-gesture-control, tros-hobot-codec, tros-hobot-cv, tros-hobot-falldown-detection, tros-hobot-hdmi, tros-hobot-image-publisher, tros-hobot-mot, tros-hobot-usb-cam, tros-image-subscribe-example, tros-img-msgs, tros-imu-sensor, tros-line-follower-model, tros-line-follower-perception, tros-mipi-cam, tros-mono2d-body-detection, tros-mono2d-trash-detection, tros-mono3d-indoor-detection, tros-parking-perception, tros-parking-search, tros-rgbd-sensor, tros-websocket, tros-xrrobot, tros-xrrobot-msgs\nDownload-Size: 980 B\nAPT-Manual-Installed: yes\nAPT-Sources: http://archive.d-robotics.cc/ubuntu-rdk focal/main arm64 Packages\nDescription: TogetheROS Bot\n\n"})}),(0,s.jsx)(t.p,{children:"It can be seen that the current version of tros.b has been upgraded to version 2.0.0."})]}),(0,s.jsxs)(l.A,{value:"humble",label:"Humble",children:[(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"root@ubuntu:~# apt show tros-humble\nPackage: tros-humble\nVersion: 2.2.0-jammy.20240410.221258\nPriority: optional\nSection: misc\nMaintainer: zhuo <zhuo.wang@d-robotics.cc>\nInstalled-Size: 44.0 kB\nDepends: hobot-models-basic, tros-humble-ai-msgs, tros-humble-audio-control, tros-humble-audio-msg, tros-humble-   audio-tracking, tros-humble-base, tros-humble-body-tracking, tros-humble-dnn-benchmark-example, tros-humble-dnn-   node, tros-humble-dnn-node-example, tros-humble-dnn-node-sample, tros-humble-elevation-net, tros-humble-gesture-   control, tros-humble-hand-gesture-detection, tros-humble-hand-lmk-detection, tros-humble-hbm-img-msgs, tros-humb   le-hobot-audio, tros-humble-hobot-chatbot, tros-humble-hobot-codec, tros-humble-hobot-cv, tros-humble-hobot-fall   down-detection, tros-humble-hobot-hdmi, tros-humble-hobot-image-publisher, tros-humble-hobot-llm, tros-humble-ho   bot-mot, tros-humble-hobot-shm, tros-humble-hobot-tts, tros-humble-hobot-usb-cam, tros-humble-hobot-vio, tros-hu   mble-hobot-visualization, tros-humble-img-msgs, tros-humble-imu-sensor, tros-humble-line-follower-model, tros-hu   mble-line-follower-perception, tros-humble-mipi-cam, tros-humble-mono2d-body-detection, tros-humble-mono2d-trash   -detection, tros-humble-mono3d-indoor-detection, tros-humble-parking-perception, tros-humble-parking-search, tro   s-humble-rgbd-sensor, tros-humble-websocket, tros-humble-ros-workspace\nDownload-Size: 5,546 B\nAPT-Manual-Installed: yes\nAPT-Sources: http://archive.d-robotics.cc/ubuntu-rdk jammy/main arm64 Packages\nDescription: TogetheROS Bot\n\n"})}),(0,s.jsx)(t.p,{children:"It can be seen that the current version of tros.b has been upgraded to version 2.2.0."})]})]}),"\n",(0,s.jsx)(t.h2,{id:"x86-platform-setup",children:"X86 Platform Setup"}),"\n",(0,s.jsx)(t.h3,{id:"prerequisites",children:"Prerequisites:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Completed the environment preparation as described in Section 2.1."}),"\n",(0,s.jsx)(t.li,{children:"The system is Ubuntu 20.04 with active internet access."}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"1-set-locale-and-enable-universe-repository",children:"1. Set Locale and Enable Universe Repository"}),"\n",(0,s.jsx)(t.p,{children:"Run the following commands to configure the locale and enable the universe software repository:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"sudo apt update && sudo apt install locales\nsudo locale-gen en_US en_US.UTF-8\nsudo update-locale LC_ALL=en_US.UTF-8 LANG=en_US.UTF-8\nexport LANG=en_US.UTF-8\n\nsudo apt install software-properties-common\nsudo add-apt-repository universe\n"})}),"\n",(0,s.jsx)(t.h3,{id:"2-download-gpg-keys-and-add-source-lists",children:"2. Download GPG Keys and Add Source Lists"}),"\n",(0,s.jsx)(t.p,{children:"Run the following commands to download the required GPG keys and add the appropriate source lists:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'sudo apt update && sudo apt install curl\n\nsudo curl -sSL http://archive.d-robotics.cc/keys/sunrise.gpg -o /usr/share/keyrings/sunrise.gpg\necho "deb [arch=amd64 signed-by=/usr/share/keyrings/sunrise.gpg] http://archive.d-robotics.cc/ubuntu-rdk-sim focal main" | sudo tee /etc/apt/sources.list.d/sunrise.list > /dev/null\n\nsudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key -o /usr/share/keyrings/ros-archive-keyring.gpg\necho "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu $(. /etc/os-release && echo $UBUNTU_CODENAME) main" | sudo tee /etc/apt/sources.list.d/ros2.list > /dev/null\n'})}),"\n",(0,s.jsxs)(t.h3,{id:"3-update-package-sources-and-install-trosb",children:["3. Update Package Sources and Install ",(0,s.jsx)(t.code,{children:"tros.b"})]}),"\n",(0,s.jsxs)(t.p,{children:["Run the commands below to update package sources and install the ",(0,s.jsx)(t.code,{children:"tros.b"})," package:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"sudo apt update\nsudo apt install tros\n"})}),"\n",(0,s.jsx)(t.admonition,{type:"caution",children:(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsxs)(t.strong,{children:["If your X86 platform already has ",(0,s.jsx)(t.code,{children:"tros.b"})," version 1.x installed, please use the command ",(0,s.jsx)(t.code,{children:"sudo apt remove tros"})," to uninstall it before installing ",(0,s.jsx)(t.code,{children:"tros.b"})," version 2.x."]})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsxs)(t.strong,{children:["For details on how to check the version of ",(0,s.jsx)(t.code,{children:"tros.b"}),", refer to the ",(0,s.jsx)(t.a,{href:"/docs/08_FAQ/03_applications_and_examples.md",children:"FAQs"}),"."]})}),"\n"]})})]})}function p(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);