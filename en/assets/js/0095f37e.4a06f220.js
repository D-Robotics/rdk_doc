"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[88756],{16689:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>s,metadata:()=>r,toc:()=>m});const r=JSON.parse('{"id":"Advanced_development/linux_development/driver_development_s100/driver_hbmem/s100_hbmem_debug","title":"Debug Information","description":"Hbmem supports querying relevant debug information via sysfs nodes.","source":"@site/i18n/en/docusaurus-plugin-content-docs-docs_s/current/07_Advanced_development/02_linux_development/04_driver_development_s100/15_driver_hbmem/04_s100_hbmem_debug.md","sourceDirName":"07_Advanced_development/02_linux_development/04_driver_development_s100/15_driver_hbmem","slug":"/Advanced_development/linux_development/driver_development_s100/driver_hbmem/s100_hbmem_debug","permalink":"/rdk_doc/en/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_hbmem/s100_hbmem_debug","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767953796000,"sidebarPosition":4,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Software Description","permalink":"/rdk_doc/en/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_hbmem/s100_hbmem_software"},"next":{"title":"FAQ","permalink":"/rdk_doc/en/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_hbmem/s100_hbmem_FAQ"}}');var o=t(74848),d=t(28453);const s={},i="Debug Information",l={},m=[{value:"How to Check Current ION Memory Allocation Status",id:"how-to-check-current-ion-memory-allocation-status",level:2},{value:"How to Check Current ION Reserved Memory Status",id:"how-to-check-current-ion-reserved-memory-status",level:2},{value:"How to Read/Write Memory Directly",id:"how-to-readwrite-memory-directly",level:2},{value:"Using the devmem tool to access memory directly",id:"using-the-devmem-tool-to-access-memory-directly",level:3},{value:"Writing directly to memory",id:"writing-directly-to-memory",level:3},{value:"Reading memory",id:"reading-memory",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",p:"p",pre:"pre",...(0,d.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"debug-information",children:"Debug Information"})}),"\n",(0,o.jsx)(n.p,{children:"Hbmem supports querying relevant debug information via sysfs nodes."}),"\n",(0,o.jsx)(n.h2,{id:"how-to-check-current-ion-memory-allocation-status",children:"How to Check Current ION Memory Allocation Status"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"cat /sys/kernel/debug/ion/heaps/ion_cma\ncat /sys/kernel/debug/ion/heaps/cma_reserved\ncat /sys/kernel/debug/ion/heaps/carveout\ncat /sys/kernel/debug/ion/heaps/all_heap_info\n"})}),"\n",(0,o.jsx)(n.h2,{id:"how-to-check-current-ion-reserved-memory-status",children:"How to Check Current ION Reserved Memory Status"}),"\n",(0,o.jsx)(n.p,{children:"The reserved memory status for ION_HEAP_TYPE_CARVEOUT (HB_MEM_USAGE_PRIV_HEAP_RESERVED), ION_HEAP_TYPE_CMA_RESERVED (HB_MEM_USAGE_PRIV_HEAP_2_RESERVED), and ION_HEAP_TYPE_DMA (HB_MEM_USAGE_PRIV_HEAP_DMA) heaps can also be found in the boot logs, as shown below. The first line indicates the start address and size of ION_HEAP_TYPE_CARVEOUT; the second line shows those of ION_HEAP_TYPE_CMA_RESERVED; and the third line shows those of ION_HEAP_TYPE_DMA:"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/07_Advanced_development/02_linux_development/driver_development_s100/hbmem/03_ion_region_kernel_print.png",alt:""})}),"\n",(0,o.jsx)(n.h2,{id:"how-to-readwrite-memory-directly",children:"How to Read/Write Memory Directly"}),"\n",(0,o.jsx)(n.h3,{id:"using-the-devmem-tool-to-access-memory-directly",children:"Using the devmem tool to access memory directly"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"root@ubuntu:~# devmem -h\nBusyBox v1.30.1 (Ubuntu 1:1.30.1-7ubuntu3.1) multi-call binary.\n\nUsage: devmem ADDRESS [WIDTH [VALUE]]\n\nRead/write from physical address\n\n        ADDRESS Address to act upon\n        WIDTH   Width (8/16/...)\n        VALUE   Data to be written\n"})}),"\n",(0,o.jsx)(n.h3,{id:"writing-directly-to-memory",children:"Writing directly to memory"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"root@ubuntu:~# devmem 0xE0000000 32 0x12345678\nroot@ubuntu:~#\n"})}),"\n",(0,o.jsx)(n.h3,{id:"reading-memory",children:"Reading memory"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"root@ubuntu:~# devmem 0xE0000000\n0x12345678\nroot@ubuntu:~#\n"})})]})}function c(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>i});var r=t(96540);const o={},d=r.createContext(o);function s(e){const n=r.useContext(d);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);