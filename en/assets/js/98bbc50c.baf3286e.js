"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[84535],{26939:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>m,frontMatter:()=>r,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"Advanced_development/multimedia_development/multimedia_application/sample_vin","title":"sample_vin Usage Instructions","description":"Function Overview","source":"@site/i18n/en/docusaurus-plugin-content-docs-docs_s/current/07_Advanced_development/03_multimedia_development/02_multimedia_application/02_sample_vin.md","sourceDirName":"07_Advanced_development/03_multimedia_development/02_multimedia_application","slug":"/Advanced_development/multimedia_development/multimedia_application/sample_vin","permalink":"/rdk_doc/en/rdk_s/Advanced_development/multimedia_development/multimedia_application/sample_vin","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1770955066000,"sidebarPosition":2,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Example Code Introduction","permalink":"/rdk_doc/en/rdk_s/Advanced_development/multimedia_development/multimedia_application/overview"},"next":{"title":"sample_isp Usage Guide","permalink":"/rdk_doc/en/rdk_s/Advanced_development/multimedia_development/multimedia_application/sample_isp"}}');var t=i(74848),a=i(28453);const r={},d="sample_vin Usage Instructions",l={},o=[{value:"Function Overview",id:"function-overview",level:2},{value:"sample_vin Architecture Description",id:"sample_vin-architecture-description",level:3},{value:"get_vin_data",id:"get_vin_data",level:2},{value:"Compilation",id:"compilation",level:3},{value:"Execution",id:"execution",level:3},{value:"How to Run the Program",id:"how-to-run-the-program",level:4},{value:"Program Parameter Options Explanation",id:"program-parameter-options-explanation",level:4},{value:"Execution Results",id:"execution-results",level:4},{value:"get_multi_vin_data",id:"get_multi_vin_data",level:2},{value:"Compilation",id:"compilation-1",level:3},{value:"Execution",id:"execution-1",level:3},{value:"How to Run the Program",id:"how-to-run-the-program-1",level:4},{value:"Program Parameter Options Explanation",id:"program-parameter-options-explanation-1",level:4},{value:"Execution Results",id:"execution-results-1",level:4}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"sample_vin-usage-instructions",children:"sample_vin Usage Instructions"})}),"\n",(0,t.jsx)(n.h2,{id:"function-overview",children:"Function Overview"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"sample_vin"})," initializes the Camera Sensor, MIPI CSI, and SIF modules, enabling the acquisition of video frame data from the VIN module. It supports retrieving images in either Raw or YUV format from the VIN module."]}),"\n",(0,t.jsx)(n.h3,{id:"sample_vin-architecture-description",children:"sample_vin Architecture Description"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"sample_vin"})," contains multiple examples, each located as a subdirectory under ",(0,t.jsx)(n.code,{children:"/app/multimedia_samples/sample_vin"}),". The subdirectories are described as follows:"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Directory"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"#get_vin_data",children:"get_vin_data"})}),(0,t.jsx)(n.td,{children:"Example for acquiring video frames from a single sensor"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"#get_multi_vin_data",children:"get_multi_vin_data"})}),(0,t.jsx)(n.td,{children:"Example for acquiring video frames from multiple sensors"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"get_vin_data",children:"get_vin_data"}),"\n",(0,t.jsx)(n.h3,{id:"compilation",children:"Compilation"}),"\n",(0,t.jsxs)(n.p,{children:["Run the ",(0,t.jsx)(n.code,{children:"make"})," command in the source code directory to compile:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-Shell",children:"cd /app/multimedia_samples/sample_vin/get_vin_data\nmake\n"})}),"\n",(0,t.jsx)(n.h3,{id:"execution",children:"Execution"}),"\n",(0,t.jsx)(n.h4,{id:"how-to-run-the-program",children:"How to Run the Program"}),"\n",(0,t.jsxs)(n.p,{children:["Execute the program directly with ",(0,t.jsx)(n.code,{children:"./get_vin_data -h"})," to display help information:"]}),"\n",(0,t.jsx)(n.h4,{id:"program-parameter-options-explanation",children:"Program Parameter Options Explanation"}),"\n",(0,t.jsxs)(n.p,{children:["Running ",(0,t.jsx)(n.code,{children:"./get_vin_data -h"})," displays help information and the list of supported Camera Sensors."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"root@ubuntu:/app/multimedia_samples/sample_vin/get_vin_data# ./get_vin_data -h\nUsage: get_vin_data [OPTIONS]\nOptions:\n\t-s <sensor_index>      Specify sensor index\n\t-l <link_port>         Specify the port for connecting serdes sensors, 0:A 1:B 2:C 3:D\n\t-h                     Show this help message\nindex: 0  sensor_name: imx219-30fps             config_file:linear_1920x1080_raw10_30fps_1lane.c\nindex: 1  sensor_name: sc1336_gmsl-30fps        config_file:linear_1280x720_raw10_30fps_2lane.c\nindex: 2  sensor_name: ar0820std-30fps          config_file:linear_3840x2160_30fps_1lane.c\nindex: 3  sensor_name: ar0820std-1080p30        config_file:linear_1920x1080_yuv_30fps_1lane.c\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Command Parameter Descriptions:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"s <sensor_index>"}),": This option specifies the sensor index to be used. The user must provide a valid index value."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"l <link_port>"}),": This option specifies the port used to connect Serdes Sensors. It is mandatory for Serdes sensors."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"h"}),": Displays help information."]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"execution-results",children:"Execution Results"}),"\n",(0,t.jsxs)(n.p,{children:["Taking the imx219 sensor as an example, execute ",(0,t.jsx)(n.code,{children:"./get_vin_data -s 0"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"root@ubuntu:/app/multimedia_samples/sample_vin/get_vin_data# ./get_vin_data -s 0\nUsing index:0  sensor_name:imx219-30fps  config_file:linear_1920x1080_raw10_30fps_1lane.c\nmipi mclk is not configed.\nSearching camera sensor on device: /proc/device-tree/soc/vcon@0 i2c bus: 1 mipi rx phy: 0\nmipi rx used phy: 00000000\nmipi mclk is not configed.\nSearching camera sensor on device: /proc/device-tree/soc/vcon@1 i2c bus: 2 mipi rx phy: 1\nmipi rx used phy: 00000000\nINFO: Found sensor_name:imx219-30fps on mipi rx csi 1, i2c addr 0x10, config_file:linear_1920x1080_raw10_30fps_1lane.c\n\n***************  Command Lists  ***************\n g      -- get single frame\n l      -- get a set frames\n q      -- quit\n h      -- print help message\n\nCommand: g\nDumping RAW data: handle 34661, resolution: 1920x1080 (stride: 2400), size: 2592000, frame id: 0, timestamp: 0\nDump image to file(handle_34661_chn0_1920x1080_stride_2400_frameid_0_ts_0.raw), size(2592000) succeeded\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"g"}),": Acquire a single frame. Multiple 'g' inputs can be used to continuously capture images (e.g., inputting \"gggg\")."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"Command: g\nDumping RAW data: handle 34661, resolution: 1920x1080 (stride: 2400), size: 2592000, frame id: 138, timestamp: 1012736827400\nDump image to file(handle_34661_chn0_1920x1080_stride_2400_frameid_138_ts_1012736827400.raw), size(2592000) succeeded\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"l"}),": Continuously acquire 12 frames, equivalent to entering 'g' twelve times."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"Command: l\nDumping RAW data: handle 34661, resolution: 1920x1080 (stride: 2400), size: 2592000, frame id: 138, timestamp: 1012736827400\nDump image to file(handle_34661_chn0_1920x1080_stride_2400_frameid_138_ts_1012736827400.raw), size(2592000) succeeded\nDumping RAW data: handle 34661, resolution: 1920x1080 (stride: 2400), size: 2592000, frame id: 139, timestamp: 1012769731350\nDump image to file(handle_34661_chn0_1920x1080_stride_2400_frameid_139_ts_1012769731350.raw), size(2592000) succeeded\n... (omitted, total of 12 frames dumped) ...\nDumping RAW data: handle 34661, resolution: 1920x1080 (stride: 2400), size: 2592000, frame id: 995, timestamp: 1040941500225\nDump image to file(handle_34661_chn0_1920x1080_stride_2400_frameid_995_ts_1040941500225.raw), size(2592000) succeeded\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"q"}),": Quit the program."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"Command: q\nquit\n"})}),"\n",(0,t.jsxs)(n.p,{children:["After running the program, RAW images will be saved with filenames like ",(0,t.jsx)(n.code,{children:"handle_34661_chn0_1920x1080_stride_2400_frameid_995_ts_1040941500225.raw"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"get_multi_vin_data",children:"get_multi_vin_data"}),"\n",(0,t.jsx)(n.h3,{id:"compilation-1",children:"Compilation"}),"\n",(0,t.jsxs)(n.p,{children:["Run the ",(0,t.jsx)(n.code,{children:"make"})," command in the source code directory to compile:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-Shell",children:"cd /app/multimedia_samples/sample_vin/get_multi_vin_data\nmake\n"})}),"\n",(0,t.jsx)(n.h3,{id:"execution-1",children:"Execution"}),"\n",(0,t.jsx)(n.h4,{id:"how-to-run-the-program-1",children:"How to Run the Program"}),"\n",(0,t.jsxs)(n.p,{children:["Execute the program directly with ",(0,t.jsx)(n.code,{children:"./get_multi_vin_data -h"})," to display help information:"]}),"\n",(0,t.jsx)(n.h4,{id:"program-parameter-options-explanation-1",children:"Program Parameter Options Explanation"}),"\n",(0,t.jsxs)(n.p,{children:["Running ",(0,t.jsx)(n.code,{children:"./get_multi_vin_data -h"})," displays help information and the list of supported Camera Sensors."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:'root@ubuntu:/app/multimedia_samples/sample_vin/get_multi_vin_data# ./get_multi_vin_data -h\nUsage: get_multi_vin_data [Options]\nOptions:\n-c, --config="sensor=id"\n\tConfigure parameters for each video pipeline, can be repeated up to 6 times.\n\tsensor   --  Sensor index,can have multiple parameters, reference sensor list.\n\tmode     --  Sensor mode of camera_config_t\n\tlink     --  Sensor link port number, serdes sensor must be configured according to the hardware connection, can be set to [0-3] 0:A 1:B 2:C 3:D.\n-h, --help      Show help message\nSupport sensor list:\nindex: 0  sensor_name: imx219-30fps             config_file:linear_1920x1080_raw10_30fps_1lane.c\nindex: 1  sensor_name: sc1336_gmsl-30fps        config_file:linear_1280x720_raw10_30fps_2lane.c\nindex: 2  sensor_name: ar0820std-30fps          config_file:linear_3840x2160_30fps_1lane.c\nindex: 3  sensor_name: ar0820std-1080p30        config_file:linear_1920x1080_yuv_30fps_1lane.c\nindex: 4  sensor_name: ovx3cstd-30fps           config_file:linear_1920x1280_yuv_30fps_1lane.c\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Command Parameter Descriptions:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"c <sensor>"}),": This option specifies the sensor index to be used. The user must provide a valid index value."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"l <link_port>"}),": This option specifies the port used to connect Serdes Sensors. It is mandatory for Serdes sensors."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"h"}),": Displays help information."]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"execution-results-1",children:"Execution Results"}),"\n",(0,t.jsxs)(n.p,{children:["Taking the imx219 sensor and the ar0820std 4K sensor as examples, execute ",(0,t.jsx)(n.code,{children:'./get_multi_vin_data -c "sensor=0" -c "sensor=2 link=1"'}),"."]}),"\n",(0,t.jsx)(n.admonition,{title:"Note",type:"caution",children:(0,t.jsxs)(n.p,{children:["The value set for ",(0,t.jsx)(n.code,{children:"link"})," depends on the port to which the Serdes sensor is connected on the deserializer. Ensure the Serdes sensor is connected to the specified port."]})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"Using index:0  sensor_name:imx219-30fps  config_file:linear_1920x1080_raw10_30fps_1lane.c\nmipi mclk is not configed.\nSearching camera sensor on device: /proc/device-tree/soc/vcon@0 i2c bus: 1 mipi rx phy: 0\nmipi rx used phy: 00000000\nmipi mclk is not configed.\nSearching camera sensor on device: /proc/device-tree/soc/vcon@1 i2c bus: 2 mipi rx phy: 1\nmipi rx used phy: 00000000\nINFO: Found sensor_name:imx219-30fps on mipi rx csi 1, i2c addr 0x10, config_file:linear_1920x1080_raw10_30fps_1lane.c\nUsing index:2  sensor_name:ar0820std-30fps  config_file:linear_3840x2160_30fps_1lane.c\nPipeline index 0:\n\tSensor index: 0\n\tSensor name: imx219-30fps\n\tActive mipi host: 1\nPipeline index 1:\n\tSensor index: 0\n\tSensor name: ar0820std-30fps\n\tActive mipi host: 4\nVerbose: 1\nvc_index:1\nAll deserial link info:\n\t[link_port:0] sc1336_gmsl:0@256\n\t[link_port:1] ar0820std:5@512\n\t[link_port:2] sc1336_gmsl:0@256\n\t[link_port:3] sc1336_gmsl:0@256\ndeserial_config:29_max96712, des_handle:148274\nDumping RAW data: handle 34661, resolution: 1920x1080 (stride: 2400), size: 2592000, frame id: 1, timestamp: 1317321489925\nDump image to file(handle_34661_chn-1_1920x1080_stride_2400_frameid_1_ts_1317321489925.raw), size(2592000) succeeded\nDumping YUV data: handle 100197, resolution: 3840x2160 (stride: 3840), size: 8294400 + 4147200, frame id: 1, timestamp: 1317379256975\nDump successful: handle_100197_chn1_3840x2160_stride_3840_frameid_1_ts_1317379256975.yuv (size: 256)\n"})}),"\n",(0,t.jsxs)(n.p,{children:["After running the program, you will obtain a RAW image from the imx219 sensor named like ",(0,t.jsx)(n.code,{children:"handle_34661_chn-1_1920x1080_stride_2400_frameid_1_ts_1317321489925.raw"})," and a YUV image from the ar0820std sensor named like ",(0,t.jsx)(n.code,{children:"handle_100197_chn1_3840x2160_stride_3840_frameid_1_ts_1317379256975.yuv"}),"."]})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>d});var s=i(96540);const t={},a=s.createContext(t);function r(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);