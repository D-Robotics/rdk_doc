"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[99664],{28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>o});var r=s(96540);const t={},a=r.createContext(t);function i(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(a.Provider,{value:n},e.children)}},94850:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"System_configuration/share_file_tool","title":"2.7 Shared File Configuration","description":"This section introduces the usage instructions for sharing tools in Ubuntu systems.","source":"@site/i18n/en/docusaurus-plugin-content-docs-docs_s/current/02_System_configuration/07_share_file_tool.md","sourceDirName":"02_System_configuration","slug":"/System_configuration/share_file_tool","permalink":"/rdk_doc/en/rdk_s/System_configuration/share_file_tool","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1764569079000,"sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"2.6 GUI Network Configuration Process","permalink":"/rdk_doc/en/rdk_s/System_configuration/gui_network_config"},"next":{"title":"3. \u57fa\u7840\u5e94\u7528\u5f00\u53d1","permalink":"/rdk_doc/en/rdk_s/Basic_Application"}}');var t=s(74848),a=s(28453);const i={sidebar_position:7},o="2.7 Shared File Configuration",d={},c=[{value:"Samba",id:"samba",level:2},{value:"Installation Command",id:"installation-command",level:3},{value:"Configuring Samba",id:"configuring-samba",level:3},{value:"NFS",id:"nfs",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"27-shared-file-configuration",children:"2.7 Shared File Configuration"})}),"\n",(0,t.jsx)(n.p,{children:"This section introduces the usage instructions for sharing tools in Ubuntu systems."}),"\n",(0,t.jsx)(n.h2,{id:"samba",children:"Samba"}),"\n",(0,t.jsx)(n.h3,{id:"installation-command",children:"Installation Command"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo apt install samba\n"})}),"\n",(0,t.jsx)(n.h3,{id:"configuring-samba",children:"Configuring Samba"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Create a shared directory. Create a directory named ",(0,t.jsx)(n.code,{children:"shared"})," under your home directory to serve as the shared folder by running the following command:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mkdir ~/shared\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsxs)(n.li,{children:["Configure Samba sharing. Open Samba's main configuration file ",(0,t.jsx)(n.code,{children:"/etc/samba/smb.conf"})," and append the following content at the end of the file to define the shared directory configuration:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"[shared]\n   comment = Shared Directory for Ubuntu 22.04\n   path = /home/your_username/shared\n   read only = no\n   browsable = yes\n   guest ok = no\n   create mask = 0775\n   directory mask = 0775\n"})}),"\n",(0,t.jsx)(n.p,{children:"Syntax explanation:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"[shared]: This is the name of the share. Clients will see this name when accessing shared resources; you can modify it as needed.\ncomment: A description of the shared directory to help users understand its purpose.\npath: Specifies the actual path of the shared directory. Replace your_username with your actual username.\nread only: Setting this to no allows clients to read from and write to the shared directory.\nbrowsable: Setting this to yes makes the shared directory visible on the network.\nguest ok: Setting this to no requires a username and password to access the shared directory, ensuring security.\ncreate mask and directory mask: Set the default permissions for files and directories created within the shared directory, respectively.\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsx)(n.li,{children:"Set up a Samba user and password"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"To access the shared directory, you need to create a Samba user and set a password. You can use an existing system user as the Samba user. Run the following command to add the system user to the Samba user list:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo smbpasswd -a sunrise\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsx)(n.li,{children:"Restart the Samba service"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo systemctl restart smbd\n"})}),"\n",(0,t.jsx)(n.p,{children:"You can use the following command to check the status of the Samba service:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo systemctl status smbd\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"5",children:["\n",(0,t.jsx)(n.li,{children:"Configure the firewall (optional step)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"If your system has a firewall enabled (e.g., ufw), you need to open the ports used by Samba so other devices can access the shared directory. Run the following command to allow Samba through the firewall:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo ufw allow samba\n"})}),"\n",(0,t.jsx)(n.h2,{id:"nfs",children:"NFS"}),"\n",(0,t.jsx)(n.p,{children:"NFS (Network File System) is a network file system that uses the classic client-server (C/S) architecture. The server manages and stores shared files and directories, while clients access these resources over the network."}),"\n",(0,t.jsx)(n.p,{children:"This section provides a tutorial on using Ubuntu 22.04 as an NFS client."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Prerequisites:"})," An NFS server must already be set up."]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Install the NFS client software"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo apt install nfs-common\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsx)(n.li,{children:"Create a mount point"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Create a local directory in Ubuntu as a mount point for the Windows NFS shared directory, for example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo mkdir -p /userdata/windows_nfs_share\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsx)(n.li,{children:"Mount the NFS shared directory"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Use the following command to mount the Windows NFS shared directory to the Ubuntu mount point. Assuming the Windows server's IP address is ",(0,t.jsx)(n.code,{children:"192.168.127.11"})," and the shared directory is ",(0,t.jsx)(n.code,{children:"D:\\NFSShare"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo mount 192.168.127.11:/D:/NFSShare /userdata/windows_nfs_share\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsx)(n.li,{children:"Verify the mount"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Run the following command to check if the mount was successful:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"df -h\n"})}),"\n",(0,t.jsxs)(n.p,{children:["If you see ",(0,t.jsx)(n.code,{children:"192.168.127.11:/D:/NFSShare"})," mounted on ",(0,t.jsx)(n.code,{children:"/userdata/windows_nfs_share"})," in the output, the mount was successful."]}),"\n",(0,t.jsxs)(n.ol,{start:"5",children:["\n",(0,t.jsx)(n.li,{children:"Configure automatic mounting at boot (optional)"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["To automatically mount the NFS shared directory every time Ubuntu boots, edit the ",(0,t.jsx)(n.code,{children:"/etc/fstab"})," file:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"sudo vi /etc/fstab\n"})}),"\n",(0,t.jsx)(n.p,{children:"Add the following line at the end of the file:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"192.168.127.11:/D:/NFSShare /userdata/windows_nfs_share nfs defaults 0 0\n"})}),"\n",(0,t.jsx)(n.p,{children:"Save and exit the editor."})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}}}]);