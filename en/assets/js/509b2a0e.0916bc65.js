"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[95927],{28453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>c});var o=i(96540);const r={},a=o.createContext(r);function d(e){const n=o.useContext(a);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),o.createElement(a.Provider,{value:n},e.children)}},98576:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>o,toc:()=>s});const o=JSON.parse('{"id":"Basic_Application/audio/rdk_x5/in_board_es8326","title":"On-board Earphone Audio Port","description":"Product Overview","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/03_Basic_Application/02_audio/rdk_x5/in_board_es8326.md","sourceDirName":"03_Basic_Application/02_audio/rdk_x5","slug":"/Basic_Application/audio/rdk_x5/in_board_es8326","permalink":"/rdk_doc/en/Basic_Application/audio/rdk_x5/in_board_es8326","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1750480041000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Waveshare WM8960 Audio HAT","permalink":"/rdk_doc/en/Basic_Application/audio/rdk_x3_and_rdk_x3_module/wm8960_audio_hat"},"next":{"title":"Waveshare Audio Driver HAT REV2","permalink":"/rdk_doc/en/Basic_Application/audio/rdk_x5/audio_driver_hat2_rev2"}}');var r=i(74848),a=i(28453);const d={sidebar_position:2},c="On-board Earphone Audio Port",t={},s=[{value:"Product Overview",id:"product-overview",level:2},{value:"Installation",id:"installation",level:2},{value:"Operation",id:"operation",level:2},{value:"Recording",id:"recording",level:3},{value:"Playback",id:"playback",level:3},{value:"FAQ",id:"faq",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"on-board-earphone-audio-port",children:"On-board Earphone Audio Port"})}),"\n",(0,r.jsx)(n.h2,{id:"product-overview",children:"Product Overview"}),"\n",(0,r.jsx)(n.p,{children:"Comes with a built-in 3.5mm audio jack, compatible with 4-pole headsets or other devices that fit the interface."}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(n.p,{children:"Connect a 3.5mm headset to the audio jack. Note that the headset must be 4-pole; 3-pole connectors usually do not have a MIC (microphone)."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/02_audio/image/image-audio-earphone.png",alt:"image-audio-earphone"})}),"\n",(0,r.jsx)(n.p,{children:"Ensure the headset is fully inserted, as shown below:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/02_audio/image/image-audio-earphone-correct.png",alt:"image-audio-earphone-correct"})}),"\n",(0,r.jsx)(n.p,{children:"Incorrect connection examples:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/02_audio/image/image-audio-earphone-error-connection1.png",alt:"image-audio-earphone-error-connection1"}),"\n",(0,r.jsx)(n.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/02_audio/image/image-audio-earphone-error-connection2.png",alt:"image-audio-earphone-error-connection2"})]}),"\n",(0,r.jsx)(n.p,{children:"In the incorrect examples above, part of the metal connector is exposed, resulting in an incomplete connection. Even if the program runs normally, you may not be able to hear or record sound."}),"\n",(0,r.jsx)(n.h2,{id:"operation",children:"Operation"}),"\n",(0,r.jsx)(n.p,{children:"Check if the sound card exists and verify the device number."}),"\n",(0,r.jsx)(n.p,{children:"To confirm if the sound card is registered, use:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:" 0 [duplexaudio    ]: simple-card - duplex-audio\n            duplex-audio\n"})}),"\n",(0,r.jsx)(n.p,{children:"To check logical devices:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"root@ubuntu:~# cat /proc/asound/devices\n  2: [ 0- 0]: digital audio playback\n  3: [ 0- 0]: digital audio capture\n  4: [ 0]   : control\n 33:        : timer\n\n"})}),"\n",(0,r.jsx)(n.p,{children:"To check the actual device files in user space:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"root@ubuntu:~# ls /dev/snd/\nby-path/   controlC0  pcmC0D0c   pcmC0D0p   timer    \n"})}),"\n",(0,r.jsxs)(n.p,{children:["From the above, you can confirm that sound card 0 is the on-board sound card; the devices exist, and the device number is ",(0,r.jsx)(n.code,{children:"0-0"}),". The actual devices to operate are ",(0,r.jsx)(n.code,{children:"pcmC0D0p"})," and ",(0,r.jsx)(n.code,{children:"pcmC0D0c"}),"."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.h3,{id:"recording",children:"Recording"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"# arecord -Dhw:0,0 -c 2 -r 48000 -f S24_LE -t wav -d 10 /userdata/record1.wav\nRecording WAVE '/userdata/record1.wav' : Signed 24 bit Little Endian, Rate 48000 Hz, Stereo\n"})}),"\n",(0,r.jsxs)(n.p,{children:["If you see normal recording logs, wait about 10 seconds (",(0,r.jsx)(n.code,{children:"-d 10"})," means 10 seconds). After recording, you can play back the recording with the following command."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.h3,{id:"playback",children:"Playback"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"# aplay -D hw:0,0 /userdata/record1.wav\nPlaying WAVE '/userdata/record1.wav' : Signed 24 bit Little Endian, Rate 48000 Hz, Stereo\n"})}),"\n",(0,r.jsx)(n.p,{children:"Normally, you should hear the recorded sound through the headset."}),"\n",(0,r.jsx)(n.h2,{id:"faq",children:"FAQ"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/rdk_doc/en/FAQ/multimedia",children:"How to distinguish between USB sound card and on-board sound card"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/rdk_doc/en/FAQ/multimedia",children:"For more questions, see this link"})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);