"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[73623],{17633:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"Basic_Application/01_40pin_user_sample/uart","title":"3.1.4 UART_usage","description":"RDK X3 enables UART3 by default on the 40-pin connector, with physical pin numbers 8 and 10, and IO voltage of 3.3V.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/03_Basic_Application/01_40pin_user_sample/uart.md","sourceDirName":"03_Basic_Application/01_40pin_user_sample","slug":"/Basic_Application/01_40pin_user_sample/uart","permalink":"/rdk_doc/en/Basic_Application/01_40pin_user_sample/uart","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1770605065000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"3.1.3 Using PWM","permalink":"/rdk_doc/en/Basic_Application/01_40pin_user_sample/pwm"},"next":{"title":"3.1.5 Using I2C","permalink":"/rdk_doc/en/Basic_Application/01_40pin_user_sample/i2c"}}');var s=t(74848),i=t(28453);const a={sidebar_position:4},o="3.1.4 UART_usage",d={},c=[{value:"Loopback test",id:"loopback-test",level:2},{value:"Hardware connection",id:"hardware-connection",level:3},{value:"Test procedure",id:"test-procedure",level:3},{value:"Test code",id:"test-code",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"314-uart_usage",children:"3.1.4 UART_usage"})}),"\n",(0,s.jsx)(n.p,{children:"RDK X3 enables UART3 by default on the 40-pin connector, with physical pin numbers 8 and 10, and IO voltage of 3.3V."}),"\n",(0,s.jsx)(n.p,{children:"RDK X5 enables UART1 by default on the 40pin connector, using physical pins 8 and 10, and IO voltage of 3.3V."}),"\n",(0,s.jsx)(n.p,{children:"RDK Ultra enables UART2 by default on the 40-pin connector, with physical pin numbers 8 and 10, and IO voltage of 3.3V."}),"\n",(0,s.jsxs)(n.p,{children:["Refer to ",(0,s.jsx)(n.code,{children:"/app/40pin_samples/test_serial.py"})," for detailed information on how to use the serial port."]}),"\n",(0,s.jsx)(n.h2,{id:"loopback-test",children:"Loopback test"}),"\n",(0,s.jsx)(n.p,{children:"Connect TXD and RXD in hardware, then run the test program to perform write and read operations. The expected result is that the read data should be exactly the same as the written data."}),"\n",(0,s.jsx)(n.h3,{id:"hardware-connection",children:"Hardware connection"}),"\n",(0,s.jsx)(n.p,{children:"Connect TXD and RXD together directly on the hardware using a jumper cap."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/03_40pin_user_guide/image/40pin_user_guide/image-20220512101820743.png",alt:"image-20220512101820743"})}),"\n",(0,s.jsx)(n.h3,{id:"test-procedure",children:"Test procedure"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Run ",(0,s.jsx)(n.code,{children:"python3 /app/40pin_samples/test_serial.py"})]}),"\n",(0,s.jsxs)(n.li,{children:["From the printed serial devices (where ",(0,s.jsx)(n.code,{children:"/dev/ttyS0"})," is the system debugging port and it is not recommended to test it unless you fully understand its purpose), select the bus number and the chip number as input options. For example, for RDK X3 choose to test ",(0,s.jsx)(n.code,{children:"/dev/ttyS3"}),", for RDK X5 choose to test ",(0,s.jsx)(n.code,{children:"/dev/ttyS1"}),", for RDK Ultra choose to test ",(0,s.jsx)(n.code,{children:"/dev/ttyS2"}),". Press Enter to confirm, and enter the baud rate parameter:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"List of enabled UART:\n/dev/ttyS0  /dev/ttyS1  /dev/ttyS3  /dev/ttyUSB0\n\nPlease enter the name of the serial port to be tested:/dev/ttyS3\nPlease enter the baud rate (9600,19200,38400,57600,115200,921600):921600\nSerial<id=0x7f819dcac0, open=True>(port='/dev/ttyS3', baudrate=921600, bytesize=8, parity='N', stopbits=1, timeout=1, xonxoff=False, rtscts=False, dsrdtr=False)\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["After the program runs correctly, it will continuously print ",(0,s.jsx)(n.code,{children:"Send: AA55"})," and ",(0,s.jsx)(n.code,{children:"Recv: AA55"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Starting demo now! Press CTRL+C to exit\nSend: AA55\nRecv: AA55\n"})}),"\n",(0,s.jsx)(n.h2,{id:"test-code",children:"Test code"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'#!/usr/bin/env python3\n\nimport sys\nimport os\nimport time\n\n# Import Python serial library\nimport serial\nimport serial.tools.list_ports\n\ndef signal_handler(signal, frame):\n    sys.exit(0)\n\ndef serialTest():\n    print("List of enabled UART:")\n    os.system(\'ls /dev/tty[a-zA-Z]*\')\n    uart_dev = input("Please enter the name of the serial port device to test:")\n\n    baudrate = input("Please enter the baud rate (9600,19200,38400,57600,115200,921600):")\n    try:\n        ser = serial.Serial(uart_dev, int(baudrate), timeout=1) # 1s timeout\n    except Exception as e:\n        print("Open serial failed!\\n")\n\n    print(ser)\n\n    print("Starting demo now! Press CTRL+C to exit")\n\n    while True:\n        test_data = "AA55"\n        write_num = ser.write(test_data.encode(\'UTF-8\'))\n        print("Send: ", test_data)\n\n        received_data = ser.read(write_num).decode(\'UTF-8\')\n        print("Recv: ", received_data)\n\n        time.sleep(1)\n\n    ser.close()\n    return 0\n\nif __name__ == \'__main__\':\n    if serialTest() != 0:\n        print("Serial test failed!")\n    else:\n        print("Serial test success!")\n'})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var r=t(96540);const s={},i=r.createContext(s);function a(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);