"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[2204],{11470:(e,n,t)=>{t.d(n,{A:()=>v});var i=t(96540),r=t(34164),s=t(23104),o=t(56347),a=t(205),l=t(57485),c=t(31682),d=t(70679);function u(e){return i.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:n,children:t}=e;return(0,i.useMemo)(()=>{const e=n??function(e){return u(e).map(({props:{value:e,label:n,attributes:t,default:i}})=>({value:e,label:n,attributes:t,default:i}))}(t);return function(e){const n=(0,c.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,t])}function h({value:e,tabValues:n}){return n.some(n=>n.value===e)}function m({queryString:e=!1,groupId:n}){const t=(0,o.W6)(),r=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,l.aZ)(r),(0,i.useCallback)(e=>{if(!r)return;const n=new URLSearchParams(t.location.search);n.set(r,e),t.replace({...t.location,search:n.toString()})},[r,t])]}function x(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,s=p(e),[o,l]=(0,i.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!h({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find(e=>e.default)??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:s})),[c,u]=m({queryString:t,groupId:r}),[x,j]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,r]=(0,d.Dv)(n);return[t,(0,i.useCallback)(e=>{n&&r.set(e)},[n,r])]}({groupId:r}),_=(()=>{const e=c??x;return h({value:e,tabValues:s})?e:null})();(0,a.A)(()=>{_&&l(_)},[_]);return{selectedValue:o,selectValue:(0,i.useCallback)(e=>{if(!h({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),j(e)},[u,j,s]),tabValues:s}}var j=t(92303);const _={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=t(74848);function b({className:e,block:n,selectedValue:t,selectValue:i,tabValues:o}){const a=[],{blockElementScrollPositionUntilNextRender:l}=(0,s.a_)(),c=e=>{const n=e.currentTarget,r=a.indexOf(n),s=o[r].value;s!==t&&(l(n),i(s))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=a.indexOf(e.currentTarget)+1;n=a[t]??a[0];break}case"ArrowLeft":{const t=a.indexOf(e.currentTarget)-1;n=a[t]??a[a.length-1];break}}n?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},e),children:o.map(({value:e,label:n,attributes:i})=>(0,g.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{a.push(e)},onKeyDown:d,onClick:c,...i,className:(0,r.A)("tabs__item",_.tabItem,i?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function f({lazy:e,children:n,selectedValue:t}){const s=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=s.find(e=>e.props.value===t);return e?(0,i.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:s.map((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function y(e){const n=x(e);return(0,g.jsxs)("div",{className:(0,r.A)("tabs-container",_.tabList),children:[(0,g.jsx)(b,{...n,...e}),(0,g.jsx)(f,{...n,...e})]})}function v(e){const n=(0,j.A)();return(0,g.jsx)(y,{...e,children:u(e.children)},String(n))}},19365:(e,n,t)=>{t.d(n,{A:()=>o});t(96540);var i=t(34164);const r={tabItem:"tabItem_Ymn6"};var s=t(74848);function o({children:e,hidden:n,className:t}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,i.A)(r.tabItem,t),hidden:n,children:e})}},27715:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>u});const i=JSON.parse('{"id":"Basic_Application/01_40pin_user_sample/pwm","title":"3.1.3 Using PWM","description":"The Hobot.GPIO library only supports PWM on pins with additional hardware PWM controllers. Unlike the RPi.GPIO library, the Hobot.GPIO library does not implement software simulated PWM.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/03_Basic_Application/01_40pin_user_sample/pwm.md","sourceDirName":"03_Basic_Application/01_40pin_user_sample","slug":"/Basic_Application/01_40pin_user_sample/pwm","permalink":"/rdk_doc/en/Basic_Application/01_40pin_user_sample/pwm","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1771043942000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"3.1.2 Using GPIO","permalink":"/rdk_doc/en/Basic_Application/01_40pin_user_sample/gpio"},"next":{"title":"3.1.4 UART_usage","permalink":"/rdk_doc/en/Basic_Application/01_40pin_user_sample/uart"}}');var r=t(74848),s=t(28453),o=t(11470),a=t(19365);const l={sidebar_position:3},c="3.1.3 Using PWM",d={},u=[{value:"Test Code",id:"test-code",level:2},{value:"Execution Steps",id:"execution-steps",level:2}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"313-using-pwm",children:"3.1.3 Using PWM"})}),"\n","\n",(0,r.jsx)(n.p,{children:"The Hobot.GPIO library only supports PWM on pins with additional hardware PWM controllers. Unlike the RPi.GPIO library, the Hobot.GPIO library does not implement software simulated PWM."}),"\n",(0,r.jsx)(n.p,{children:"Both RDK X3 and RDK Ultra support 2 PWM channels, corresponding to pins 33 and 32 on the 40-pin header."}),"\n",(0,r.jsx)(n.p,{children:"RDK X5 supports four PWM groups, with two output channels per group, providing a total of eight PWM outputs, as shown in the table below:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"PMW Group"}),(0,r.jsx)(n.th,{children:"PWM Channel"}),(0,r.jsx)(n.th,{children:"40PIN Pin"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"PWM0"}),(0,r.jsx)(n.td,{children:"LSIO_PWM_OUT0"}),(0,r.jsx)(n.td,{children:"29"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"PWM0"}),(0,r.jsx)(n.td,{children:"LSIO_PWM_OUT1"}),(0,r.jsx)(n.td,{children:"31"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"PWM1"}),(0,r.jsx)(n.td,{children:"LSIO_PWM_OUT2"}),(0,r.jsx)(n.td,{children:"37"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"PWM1"}),(0,r.jsx)(n.td,{children:"LSIO_PWM_OUT3"}),(0,r.jsx)(n.td,{children:"24"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"PWM2"}),(0,r.jsx)(n.td,{children:"LSIO_PWM_OUT4"}),(0,r.jsx)(n.td,{children:"28"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"PWM2"}),(0,r.jsx)(n.td,{children:"LSIO_PWM_OUT5"}),(0,r.jsx)(n.td,{children:"27"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"PWM3"}),(0,r.jsx)(n.td,{children:"LSIO_PWM_OUT6"}),(0,r.jsx)(n.td,{children:"32"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"PWM3"}),(0,r.jsx)(n.td,{children:"LSIO_PWM_OUT7"}),(0,r.jsx)(n.td,{children:"33"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["By default, PWM3 is enabled on the RDK X5. Additional PWM groups can be enabled via the ",(0,r.jsx)(n.code,{children:"srpi-config"})," system configuration tool, which will remap the corresponding pins for PWM output. The configuration takes effect after reboot."]}),"\n",(0,r.jsxs)(n.p,{children:["Select ",(0,r.jsx)(n.code,{children:"3 Interface Options"})," \u2192 ",(0,r.jsx)(n.code,{children:"I3 Peripheral Bus Config"}),", then choose the corresponding PWM group and set it to okay."]}),"\n",(0,r.jsxs)(n.p,{children:["Refer to ",(0,r.jsx)(n.code,{children:"/app/40pin_samples/simple_pwm.py"})," for detailed information on how to use PWM channels."]}),"\n",(0,r.jsx)(n.h2,{id:"test-code",children:"Test Code"}),"\n",(0,r.jsxs)(n.p,{children:["Open the PWM channel specified by ",(0,r.jsx)(n.code,{children:"output_pin"}),", with an initial duty cycle of 25%. Increase the duty cycle by 5% every 0.25 seconds until 100% is reached, and then decrease the duty cycle by 5% every 0.25 seconds. When the normal output waveform is present, you can measure the output signal and observe the waveform using an oscilloscope or logic analyzer."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"#!/usr/bin/env python3\n\nimport Hobot.GPIO as GPIO\nimport time\n\n# PWM-supporting pins: 32 and 33\noutput_pin = 33\n\ndef main():\n    # Pin Setup:\n    # Board pin-numbering scheme\n    GPIO.setmode(GPIO.BOARD)\n    # Supported frequency range for RDK X3: 48KHz ~ 192MHz\n    # Supported frequency range for RDK Ultra: 1Hz ~ 12MHz\n    # Supported frequency range for RDK X5: 1Hz ~ 12MHz\n    p = GPIO.PWM(output_pin, 48000)\n    # Initial duty cycle of 25%. Increase by 5% every 0.25 seconds until 100% is reached, then decrease by 5% every 0.25 seconds\n    val = 25\n    incr = 5\n    p.start(val)\n\n    print(\"PWM running. Press CTRL+C to exit.\")\n    try:\n        while True:\n            time.sleep(0.25)\n            if val >= 100:\n                incr = -incr\n            if val <= 0:\n                incr = -incr\n            val += incr\n            p.ChangeDutyCycle(val)\n    finally:\n        p.stop()\n        GPIO.cleanup()\n\nif __name__ == '__main__':\n    signal.signal(signal.SIGINT, signal_handler)\n    main()\n"})}),"\n",(0,r.jsx)(n.h2,{id:"execution-steps",children:"Execution Steps"}),"\n",(0,r.jsxs)(o.A,{groupId:"tool-type",children:[(0,r.jsxs)(a.A,{value:"login",label:"Login to the RDK",children:[(0,r.jsxs)(n.p,{children:["Execute the ",(0,r.jsx)(n.code,{children:"simple_pwm.py"})," program to start the GPIO read/write program."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sunrise@ubuntu:~$ cd /app/40pin_samples/\nsunrise@ubuntu:/app/40pin_samples$ sudo python3 ./simple_pwm.py\n"})})]}),(0,r.jsxs)(a.A,{value:"rdk-studio",label:"RDK Studio",children:[(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Method 1: Install VS Code APP Locally"})}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Use RDK Studio to add devices. Refer to ",(0,r.jsx)(n.a,{href:"/rdk_doc/en/Quick_start/RDK_Studio/Device_management/hardware_resource",children:"Add RDK Device"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Use VS Code to open the sample project in the RDK device."}),"\n",(0,r.jsx)(n.admonition,{title:"Note",type:"warning",children:(0,r.jsx)(n.p,{children:"Requires local installation of VS Code software. Click the VS Code APP icon on the device card in RDK Studio to automatically open the local VS Code, then use the SSH Remote plugin to open the sample project in the RDK device (the SSH Remote plugin will be automatically installed, no manual installation needed)."})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"http://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/rdk_studio/en/app_vscode.png",alt:"VScode APP icon"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:'Click the VS Code APP icon to open VS Code, enter the password for the account selected when adding the device, and press "Enter" to confirm.'}),"\n",(0,r.jsx)(n.admonition,{title:"Note",type:"info",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Username: root\u2014\u2014Password: root"}),"\n",(0,r.jsx)(n.li,{children:"Username: sunrise\u2014\u2014Password: sunrise"}),"\n"]})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"http://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/rdk_studio/open_vscode_password_input.png",alt:"VScode interface"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Enter the VS Code APP interface, click ",(0,r.jsx)(n.code,{children:"Terminal"})," in the top navigation bar to create a new terminal."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"http://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/rdk_studio/open_vscode_terminal.png",alt:"VScode interface"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Execute the ",(0,r.jsx)(n.code,{children:"./simple_pwm.py"})," program."]}),"\n"]}),"\n"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sunrise@ubuntu:~$ cd /app/40pin_samples/\nsunrise@ubuntu:/app/40pin_samples$ sudo python3 ./simple_pwm.py\n"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Method 2: Using On-board VS Code Web"})}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Click the application space icon to view more applications."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"http://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/01_Quick_start/image/rdk_studio/en/rdk_studio_left_menu_device_manage_hr_add_device_application_space_download.png",alt:"Application Space Interface"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Click to install VS Code Web onto the development board. This is used to run preloaded functional test code on the development board without needing to install VS Code locally."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"http://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/rdk_studio/en/web_vscode-download.png",alt:"Download Interface"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Click the VS Code Web icon to open VS Code Web."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"http://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/rdk_studio/en/web_vscode.png",alt:"VS Code Web"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Click ",(0,r.jsx)(n.code,{children:"Open Folder"}),", then enter the path where the code program is located: ",(0,r.jsx)(n.code,{children:"/app/"}),", and click ",(0,r.jsx)(n.code,{children:"OK"})," to confirm."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"http://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/rdk_studio/open_app_path_ok.png",alt:"VS Code Open Folder Interface"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Enter the VS Code APP interface, click the list icon on the left navigation bar, select ",(0,r.jsx)(n.code,{children:"Terminal"})," -> ",(0,r.jsx)(n.code,{children:"New Terminal"})," to create a new terminal."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"http://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/03_Basic_Application/rdk_studio/vscode_open_terminal.png",alt:"VS Code New Terminal Interface"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Execute the ",(0,r.jsx)(n.code,{children:"./simple_pwm.py"})," program to start the GPIO read/write program."]}),"\n"]}),"\n"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sunrise@ubuntu:~$ cd /app/40pin_samples/\nsunrise@ubuntu:/app/40pin_samples$ sudo python3 ././simple_pwm.py\n"})})]})]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var i=t(96540);const r={},s=i.createContext(r);function o(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);