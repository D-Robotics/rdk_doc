"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[24542],{3986:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"Algorithm_Application/C++_Sample/LaneNet","title":"Lane Detection - LaneNet","description":"This example runs the LaneNet model on the BPU to perform instance segmentation and binary segmentation of lane lines, and saves the resulting images locally. The example code is located in the /app/cdevdemo/bpu/06lanedetectionsample/01_lanenet/ directory.","source":"@site/i18n/en/docusaurus-plugin-content-docs-docs_s/current/04_Algorithm_Application/03_C++_Sample/10_LaneNet.md","sourceDirName":"04_Algorithm_Application/03_C++_Sample","slug":"/Algorithm_Application/C++_Sample/LaneNet","permalink":"/rdk_doc/en/rdk_s/Algorithm_Application/C++_Sample/LaneNet","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1770785005000,"sidebarPosition":10,"frontMatter":{"sidebar_position":10},"sidebar":"tutorialSidebar","previous":{"title":"Instance Segmentation - Ultralytics YOLOE11","permalink":"/rdk_doc/en/rdk_s/Algorithm_Application/C++_Sample/Ultralytics_YOLOE11_Seg"},"next":{"title":"Automatic Speech Recognition - ASR","permalink":"/rdk_doc/en/rdk_s/Algorithm_Application/C++_Sample/ASR"}}');var t=i(74848),r=i(28453);const l={sidebar_position:10},a="Lane Detection - LaneNet",d={},c=[{value:"Model Description",id:"model-description",level:2},{value:"Functionality Description",id:"functionality-description",level:2},{value:"Environment Dependencies",id:"environment-dependencies",level:2},{value:"Directory Structure",id:"directory-structure",level:2},{value:"Build the Project",id:"build-the-project",level:2},{value:"Model Download",id:"model-download",level:2},{value:"Parameter Description",id:"parameter-description",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"Notes",id:"notes",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"lane-detection---lanenet",children:"Lane Detection - LaneNet"})}),"\n",(0,t.jsxs)(n.p,{children:["This example runs the LaneNet model on the BPU to perform instance segmentation and binary segmentation of lane lines, and saves the resulting images locally. The example code is located in the ",(0,t.jsx)(n.code,{children:"/app/cdev_demo/bpu/06_lane_detection_sample/01_lanenet/"})," directory."]}),"\n",(0,t.jsx)(n.h2,{id:"model-description",children:"Model Description"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Overview:"}),"\n",(0,t.jsxs)(n.p,{children:["LaneNet is a semantic segmentation model designed for real-time lane detection. It employs normalization and standardization during image preprocessing, making it suitable for road scene analysis in autonomous driving and ADAS systems. This example uses the quantized model ",(0,t.jsx)(n.code,{children:"lanenet256x512.hbm"}),", which supports BPU inference acceleration."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"HBM Model Name: lanenet256x512.hbm"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Input Format: RGB, sized 256x512, normalized to [0,1] and then standardized"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Outputs:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"instance_seg_logits"}),": a 3-channel map used to distinguish different lane instances"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"binary_seg_pred"}),": binary segmentation result indicating lane regions"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"functionality-description",children:"Functionality Description"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Model Loading"}),"\n",(0,t.jsx)(n.p,{children:"Loads the LaneNet model and automatically parses partial model metadata."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Input Preprocessing"}),"\n",(0,t.jsx)(n.p,{children:"Converts the input image to RGB format, resizes it to 256x512, applies normalization and standardization using ImageNet mean and standard deviation, converts it to NCHW format, and adds a batch dimension."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Inference Execution"}),"\n",(0,t.jsxs)(n.p,{children:["Performs inference using the ",(0,t.jsx)(n.code,{children:".infer()"})," method, producing an instance feature map and a binary mask."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Post-processing"}),"\n",(0,t.jsx)(n.p,{children:"Reshapes and normalizes the output tensors:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"instance_seg_logits"}),": outputs a three-channel image for visualizing individual lane instances"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"binary_seg_pred"}),": outputs a single-channel binary image for extracting lane regions"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"environment-dependencies",children:"Environment Dependencies"}),"\n",(0,t.jsx)(n.p,{children:"Before compiling and running, ensure the following dependencies are installed:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo apt update\nsudo apt install libgflags-dev\n"})}),"\n",(0,t.jsx)(n.h2,{id:"directory-structure",children:"Directory Structure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:".\n|-- CMakeLists.txt            # CMake build script: target/dependencies/include and link configuration\n|-- README.md                 # Usage instructions (this file)\n|-- inc\n|   `-- lanenet.hpp           # LaneNet inference wrapper header: interfaces for loading/preprocessing/inference/post-processing\n`-- src\n    |-- lanenet.cc            # LaneNet inference implementation: pre/post-processing and inference calls\n    `-- main.cc               # Program entry point: parse arguments \u2192 full pipeline \u2192 save instance/binary results\n"})}),"\n",(0,t.jsx)(n.h2,{id:"build-the-project",children:"Build the Project"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Configuration and Compilation","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mkdir build && cd build\ncmake ..\nmake -j$(nproc)\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"model-download",children:"Model Download"}),"\n",(0,t.jsx)(n.p,{children:"If the model is not found at runtime, download it using the following command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"wget https://archive.d-robotics.cc/downloads/rdk_model_zoo/rdk_s100/Lanenet/lanenet256x512.hbm\n"})}),"\n",(0,t.jsx)(n.h2,{id:"parameter-description",children:"Parameter Description"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Default Value"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--model_path"})}),(0,t.jsxs)(n.td,{children:["Path to the model file (",(0,t.jsx)(n.code,{children:".hbm"})," format)"]}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/opt/hobot/model/s100/basic/lanenet256x512.hbm"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--test_img"})}),(0,t.jsx)(n.td,{children:"Path to the input test image"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/app/res/assets/input.jpg"})})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Run the Model"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Ensure you are in the ",(0,t.jsx)(n.code,{children:"build"})," directory"]}),"\n",(0,t.jsxs)(n.li,{children:["Run with default parameters","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"./lanenet\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Run with specified parameters","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"./lanenet \\\n    --model_path /opt/hobot/model/s100/basic/lanenet256x512.hbm \\\n    --test_img   /app/res/assets/input.jpg\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"View Results"}),"\n",(0,t.jsxs)(n.p,{children:["Upon successful execution, the results will be saved as ",(0,t.jsx)(n.code,{children:"instance_pred.png"})," and ",(0,t.jsx)(n.code,{children:"binary_pred.png"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"Results saved to: instance_pred.png and binary_pred.png\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Output results are saved as ",(0,t.jsx)(n.code,{children:"instance_pred.png"})," and ",(0,t.jsx)(n.code,{children:"binary_pred.png"}),"; users can inspect them directly."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"For more information on deployment options or model support, please refer to the official documentation or contact platform technical support."}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>a});var s=i(96540);const t={},r=s.createContext(t);function l(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);