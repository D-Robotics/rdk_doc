"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[92690],{28453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>a});var c=r(96540);const s={},l=c.createContext(s);function i(e){const n=c.useContext(l);return c.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),c.createElement(l.Provider,{value:n},e.children)}},61956:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>x,frontMatter:()=>i,metadata:()=>c,toc:()=>t});const c=JSON.parse('{"id":"Advanced_development/linux_development/hardware_unit_test/cpu_performance","title":"CPU \u6027\u80fd\u6d4b\u8bd5","description":"\u6d4b\u8bd5\u539f\u7406","source":"@site/docs_s/07_Advanced_development/02_linux_development/05_hardware_unit_test/07-cpu_performance.md","sourceDirName":"07_Advanced_development/02_linux_development/05_hardware_unit_test","slug":"/Advanced_development/linux_development/hardware_unit_test/cpu_performance","permalink":"/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/cpu_performance","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1761451350000,"sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"\u4ee5\u592a\u7f51\u6027\u80fd\u6d4b\u8bd5","permalink":"/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/ethernet_performance"},"next":{"title":"DDR \u5e26\u5bbd\u6d4b\u8bd5","permalink":"/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/ddr_bandwidth"}}');var s=r(74848),l=r(28453);const i={sidebar_position:7},a="CPU \u6027\u80fd\u6d4b\u8bd5",o={},t=[{value:"\u6d4b\u8bd5\u539f\u7406",id:"\u6d4b\u8bd5\u539f\u7406",level:2},{value:"\u6d4b\u8bd5\u51c6\u5907\u5de5\u4f5c",id:"\u6d4b\u8bd5\u51c6\u5907\u5de5\u4f5c",level:2},{value:"\u6d4b\u8bd5\u65b9\u6cd5",id:"\u6d4b\u8bd5\u65b9\u6cd5",level:2},{value:"\u6d4b\u8bd5\u6307\u6807",id:"\u6d4b\u8bd5\u6307\u6807",level:2},{value:"\u5206\u6570\u6807\u51c6",id:"\u5206\u6570\u6807\u51c6",level:3},{value:"\u5982\u4f55\u7406\u89e3\u8bc4\u5206\u6807\u51c6",id:"\u5982\u4f55\u7406\u89e3\u8bc4\u5206\u6807\u51c6",level:3},{value:"\u5e38\u89c1\u95ee\u9898",id:"\u5e38\u89c1\u95ee\u9898",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"cpu-\u6027\u80fd\u6d4b\u8bd5",children:"CPU \u6027\u80fd\u6d4b\u8bd5"})}),"\n",(0,s.jsx)(n.h2,{id:"\u6d4b\u8bd5\u539f\u7406",children:"\u6d4b\u8bd5\u539f\u7406"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"CoreMark"})," \u662f\u4e00\u4e2a\u5e7f\u6cdb\u7528\u4e8e\u8bc4\u4f30\u5d4c\u5165\u5f0f\u7cfb\u7edf CPU \u6027\u80fd\u7684\u57fa\u51c6\u6d4b\u8bd5\u7a0b\u5e8f\u3002\u5176\u6d4b\u8bd5\u6838\u5fc3\u662f\u901a\u8fc7\u6a21\u62df\u4e00\u4e9b\u5178\u578b\u7684\u5d4c\u5165\u5f0f\u5e94\u7528\u8ba1\u7b97\u4efb\u52a1\uff0c\u6765\u8bc4\u4f30 CPU \u5728\u5e38\u89c1\u8ba1\u7b97\u6a21\u5f0f\u4e0b\u7684\u8868\u73b0\uff0c\u6d4b\u8bd5\u7684\u6838\u5fc3\u662f\u57fa\u4e8e\u4ee5\u4e0b\u51e0\u4e2a\u8981\u7d20\uff1a"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u7b97\u6cd5\u9009\u62e9\uff1a CoreMark \u4f7f\u7528\u4e86\u4ee5\u4e0b\u51e0\u79cd\u57fa\u7840\u7684\u7b97\u6cd5\u548c\u64cd\u4f5c\uff1a","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u6574\u6570\u8fd0\u7b97\uff1a\u5305\u62ec\u52a0\u6cd5\u3001\u4e58\u6cd5\u3001\u4f4d\u64cd\u4f5c\u7b49\u5e38\u89c1\u64cd\u4f5c\u3002"}),"\n",(0,s.jsx)(n.li,{children:"\u6570\u636e\u7ed3\u6784\uff1a\u6d4b\u8bd5\u5305\u542b\u4e86\u94fe\u8868\u3001\u961f\u5217\u7b49\u6570\u636e\u7ed3\u6784\u7684\u64cd\u4f5c\u3002"}),"\n",(0,s.jsx)(n.li,{children:"\u63a7\u5236\u7ed3\u6784\uff1a\u6d89\u53ca\u5faa\u73af\u3001\u6761\u4ef6\u5224\u65ad\u7b49\u57fa\u672c\u7684\u63a7\u5236\u7ed3\u6784\u3002"}),"\n",(0,s.jsx)(n.li,{children:"\u77e9\u9635\u4e58\u6cd5\u548c\u57fa\u672c\u8ba1\u7b97\u4efb\u52a1\uff1a\u7528\u6765\u6a21\u62df\u5e38\u89c1\u7684\u6570\u503c\u8ba1\u7b97\u4efb\u52a1\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u6d4b\u8bd5\u4efb\u52a1\uff1a CoreMark \u6d4b\u8bd5\u7684\u5de5\u4f5c\u8d1f\u8f7d\u5305\u62ec\u4e86\u4e0b\u5217\u51e0\u4e2a\u65b9\u9762\uff1a","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u8ba1\u7b97\u5bc6\u96c6\u578b\u64cd\u4f5c\uff1a\u4f8b\u5982\u6574\u6570\u52a0\u6cd5\u3001\u4e58\u6cd5\u548c\u4f4d\u8fd0\u7b97\u3002"}),"\n",(0,s.jsx)(n.li,{children:"\u5185\u5b58\u64cd\u4f5c\uff1a\u6a21\u62df\u5178\u578b\u7684\u5185\u5b58\u8bbf\u95ee\u6a21\u5f0f\uff0c\u5305\u62ec\u94fe\u8868\u548c\u961f\u5217\u7684\u64cd\u4f5c\u3002"}),"\n",(0,s.jsx)(n.li,{children:"\u4efb\u52a1\u8c03\u5ea6\u548c\u63a7\u5236\uff1a\u6d89\u53ca\u590d\u6742\u7684\u63a7\u5236\u6d41\uff0c\u4f8b\u5982\u6761\u4ef6\u5224\u65ad\u548c\u5faa\u73af\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"\u6d4b\u8bd5\u73af\u5883\uff1a CoreMark \u7684\u6d4b\u8bd5\u8fd0\u884c\u662f\u5728\u6ca1\u6709\u5176\u4ed6\u8fdb\u7a0b\u6216\u7ebf\u7a0b\u5e72\u9884\u7684\u73af\u5883\u4e2d\u6267\u884c\u7684\uff0c\u8fd9\u79cd\u65b9\u5f0f\u786e\u4fdd\u4e86\u6d4b\u8bd5\u7ed3\u679c\u4e0d\u53d7\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u3001\u8d44\u6e90\u7ba1\u7406\u7b49\u56e0\u7d20\u7684\u5f71\u54cd\uff0c\u4ece\u800c\u771f\u5b9e\u53cd\u6620\u5904\u7406\u5668\u7684\u8ba1\u7b97\u6027\u80fd\u3002"}),"\n",(0,s.jsx)(n.li,{children:"\u6027\u80fd\u6d4b\u91cf\uff1a CoreMark \u7684\u6027\u80fd\u6307\u6807\u662f CoreMark \u5206\u6570 (CoreMark score) \uff0c\u8fd9\u4e2a\u5206\u6570\u53cd\u6620\u4e86\u5728\u6d4b\u8bd5\u671f\u95f4\u6267\u884c\u7684\u7b97\u6cd5\u548c\u4efb\u52a1\u7684\u5e73\u5747\u8ba1\u7b97\u901f\u5ea6\uff0c\u5206\u6570\u8d8a\u9ad8\uff0c\u8868\u793a\u5904\u7406\u5668\u7684\u6027\u80fd\u8d8a\u597d\u3002"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u6d4b\u8bd5\u51c6\u5907\u5de5\u4f5c",children:"\u6d4b\u8bd5\u51c6\u5907\u5de5\u4f5c"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"1."})," \u957f\u65f6\u95f4\u9ad8\u8d1f\u8f7d\u6d4b\u8bd5\u53ef\u80fd\u5bfc\u81f4 CPU \u6e29\u5ea6\u5347\u9ad8\uff0c\u4ece\u800c\u89e6\u53d1\u6e29\u63a7\u673a\u5236\uff08\u5982\u81ea\u52a8\u964d\u9891\uff09\uff0c\u5f71\u54cd\u6d4b\u8bd5\u7ed3\u679c\u3002\u786e\u4fdd\u6d4b\u8bd5\u73af\u5883\u901a\u98ce\u826f\u597d\uff0c\u6563\u70ed\u6b63\u5e38\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"2."})," \u4e3a\u907f\u514d\u5176\u4ed6\u8fdb\u7a0b\u5e72\u6270\uff0c\u5efa\u8bae\u5173\u95ed\u65e0\u5173\u7684\u540e\u53f0\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"top"})," \u547d\u4ee4\u67e5\u770b\u5e76\u505c\u6b62\u4e0d\u5fc5\u8981\u7684\u670d\u52a1\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"3."})," \u5728 /app/chip_base_test/07_cpu_performance/coremark-main \u8def\u5f84\u4e0b\uff0c\u5df2\u7ecf\u63d0\u4f9b\u4e86coremark\u7684\u6e90\u7801\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"4."})," \u7f16\u8bd1 O3 \u4f18\u5316\u4e0b\u7684\u591a\u6838\u4e0e\u5355\u6838\u6027\u80fd\u7a0b\u5e8f"]}),"\n",(0,s.jsxs)(n.p,{children:["\u7f16\u8bd1\u5355\u6838\u5f00\u542f ",(0,s.jsx)(n.code,{children:"-O3"})," \u7684 coremark \u547d\u4ee4\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'make XCFLAGS="-O3 -funroll-all-loops -static --param max-inline-insns-auto=550 -DPERFORMANCE_RUN=1 -mcpu=cortex-a55" REBUILD=1 run1.log\n\nmv coremark.exe coremark_O3_single\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u7f16\u8bd1 8 \u6838\u5f00\u542f ",(0,s.jsx)(n.code,{children:"-O3"})," \u7684 coremark \u547d\u4ee4\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'make  XCFLAGS="-O3 -funroll-all-loops -static --param max-inline-insns-auto=550 -DPERFORMANCE_RUN=1 -mcpu=cortex-a55 -DMULTITHREAD=8 -DUSE_PTHREAD -DVALIDATION_RUN=1  -lrt -pthread" REBUILD=1 run2.log\n\nmv coremark.exe coremark_O3_multi\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u68c0\u6d4b cpu \u5de5\u4f5c\u9891\u7387\u4e0e\u6e29\u5ea6\uff1a"}),"\n\u4f7f\u7528\u547d\u4ee4 hrut_somstatus \u6765\u67e5\u770b CPU\u3001 MCU\u3001 BPU \u7b49\u6a21\u5757\u7684\u9891\u7387\u4e0e\u6e29\u5ea6\u4fe1\u606f\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"temperature--\x3e\n        pvt_cmn_pvtc1_t1 : 52.719 (C)\n        pvt_cmn_pvtc1_t2 : 54.190 (C)\n        pvt_mcu_pvtc1_t1 : 52.168 (C)\n        pvt_mcu_pvtc1_t2 : 52.351 (C)\n        pvt_bpu_pvtc1_t1 : 53.271 (C)\nvoltage--\x3e\n        FAKE     : 100.0 (mV)\n        VDDQ_DDR2 : 503.0 (mV)\n        VDD_MCU  : 748.0 (mV)\n        VDDIO_PVT_MCU : 1802.0 (mV)\n        VDDIO_TOP4_1V8 : 1802.0 (mV)\n        VDDQ_DDR0 : 503.0 (mV)\n        VDD2H_DDR0 : 1052.0 (mV)\n        VAA_DDR0 : 1792.0 (mV)\n        VDD_DDR0 : 748.0 (mV)\n        VDDQ_DDR1 : 497.0 (mV)\n        VDD2H_DDR1 : 1040.0 (mV)\n        VAA_DDR1 : 1792.0 (mV)\n        VDD_DDR1 : 742.0 (mV)\n        CMN_PVTC1_V13 : 0.0 (mV)\n        CMN_PVTC1_V14 : 0.0 (mV)\n        CMN_PVTC1_V15 : 0.0 (mV)\n        CMN_PVTC1_V16 : 0.0 (mV)\n        VDDIO_SD_SDIO_T : 1788.0 (mV)\n        VDD_CPU  : 776.0 (mV)\n        CMN_PVTC1_V19 : 0.0 (mV)\n        VAA_DDR2 : 1790.0 (mV)\n        VDD2H_DDR2 : 1042.0 (mV)\n        VDD_DDR2 : 742.0 (mV)\n        VDDIO_TOP2_1V8 : 1780.0 (mV)\n        VDD_BPU  : 737.0 (mV)\n        VDDIO_TOP0_1V8 : 1790.0 (mV)\n        PLL_TOP0_VDDHV : 1768.0 (mV)\n        CMN_PVTC1_V27 : 0.0 (mV)\n        CMN_PVTC1_V28 : 0.0 (mV)\n        CMN_PVTC1_V29 : 0.0 (mV)\n        CMN_PVTC1_V30 : 0.0 (mV)\n        CMN_PVTC1_V31 : 0.0 (mV)\n        CMN_PVTC1_V32 : 0.0 (mV)\n        VDDIO_SD_33_MCU : 3308.0 (mV)\n        VDDIO_ADC_MCU : 1802.0 (mV)\n        VDDIO_MCU_1V8 : 1802.0 (mV)\n        PLL_MCU_VDDHV : 1802.0 (mV)\n        PLL_MCU_VDDPOST : 753.0 (mV)\n        PLL_MCU_VDDREF : 753.0 (mV)\n        VDD_TOP  : 759.0 (mV)\n        VDD_AON  : 753.0 (mV)\n        VDDIO_SD_AON_CA : 1644.0 (mV)\n        VDDIO_PVT_1V8 : 1802.0 (mV)\n        MCU_PVTC1_V11 : 0.0 (mV)\n        MCU_PVTC1_V12 : 0.0 (mV)\n        MCU_PVTC1_V13 : 0.0 (mV)\n        MCU_PVTC1_V14 : 0.0 (mV)\n        MCU_PVTC1_V15 : 0.0 (mV)\n        MCU_PVTC1_V16 : 0.0 (mV)\ncpu frequency--\x3e\n                  min   cur     max\n        policy0: 1125000        1500000 1500000\n        policy4: 1125000        1500000 1500000\nbpu status information----\x3e\n                ratio\n        bpu0:   0\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u624b\u52a8\u8bbe\u7f6e cpu \u9891\u7387\uff1a"}),"\n\u8bbe\u7f6e CPU \u8fd0\u884c\u5728\u6027\u80fd\u6a21\u5f0f\u4e0b\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"echo userspace >/sys/devices/system/cpu/cpu0/cpufreq/scaling_governor\necho 1500000 >/sys/devices/system/cpu/cpufreq/policy0/scaling_setspeed\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u6d4b\u8bd5\u65b9\u6cd5",children:"\u6d4b\u8bd5\u65b9\u6cd5"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"1. \u6267\u884c\u5355\u6838\u6d4b\u8bd5\uff08coremark_O3_single"}),"\uff09"]}),"\n",(0,s.jsx)(n.p,{children:"\u786e\u4fdd\u51c6\u5907\u5de5\u4f5c\u90e8\u5206\u7684\u4e00\u81f4\u6027\u540e\uff0c\u6267\u884c\u547d\u4ee4\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"./coremark_O3_single\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u7b49\u5f85 10 \u79d2\u540e\u5f97\u5230\u4ee5\u4e0b\u7ed3\u679c\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"2K performance run parameters for coremark.\nCoreMark Size    : 666\nTotal ticks      : 13811\nTotal time (secs): 13.811000\nIterations/Sec   : 14481.210629\nIterations       : 200000\nCompiler version : GCC11.3.1 20220712\nCompiler flags   :  -O3 -funroll-all-loops -static --param max-inline-insns-auto=550 -DPERFORMANCE_RUN=1 -mcpu=cortex-a55  -lrt\nMemory location  : Please put data memory location here\n                        (e.g. code in flash, data on heap etc)\nseedcrc          : 0xe9f5\n[0]crclist       : 0xe714\n[0]crcmatrix     : 0x1fd7\n[0]crcstate      : 0x8e3a\n[0]crcfinal      : 0x4983\nCorrect operation validated. See README.md for run and reporting rules.\nCoreMark 1.0 : 14481.210629 / GCC11.3.1 20220712  -O3 -funroll-all-loops -static --param max-inline-insns-auto=550 -DPERFORMANCE_RUN=1 -mcpu=cortex-a55  -lrt / Heap\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"2. \u6267\u884c\u591a\u6838\u6d4b\u8bd5\uff08coremark_O3_multi"}),"\uff09"]}),"\n",(0,s.jsx)(n.p,{children:"\u786e\u4fdd\u51c6\u5907\u5de5\u4f5c\u90e8\u5206\u7684\u4e00\u81f4\u6027\u540e\uff0c\u6267\u884c\u547d\u4ee4\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"./coremark_O3_multi\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"2K performance run parameters for coremark.\nCoreMark Size    : 666\nTotal ticks      : 18982\nTotal time (secs): 18.982000\nIterations/Sec   : 84290.380360\nIterations       : 1600000\nCompiler version : GCC11.3.1 20220712\nCompiler flags   :  -O3 -funroll-all-loops -static --param max-inline-insns-auto=550 -DPERFORMANCE_RUN=1 -mcpu=cortex-a55 -DMULTITHREAD=8 -DUSE_PTHREAD -DVALIDATION_RUN=1  -lrt -pthread  -lrt\nParallel PThreads : 8\nMemory location  : Please put data memory location here\n                        (e.g. code in flash, data on heap etc)\nseedcrc          : 0xe9f5\n[0]crclist       : 0xe714\n[1]crclist       : 0xe714\n[2]crclist       : 0xe714\n[3]crclist       : 0xe714\n[4]crclist       : 0xe714\n[5]crclist       : 0xe714\n[6]crclist       : 0xe714\n[7]crclist       : 0xe714\n[0]crcmatrix     : 0x1fd7\n[1]crcmatrix     : 0x1fd7\n[2]crcmatrix     : 0x1fd7\n[3]crcmatrix     : 0x1fd7\n[4]crcmatrix     : 0x1fd7\n[5]crcmatrix     : 0x1fd7\n[6]crcmatrix     : 0x1fd7\n[7]crcmatrix     : 0x1fd7\n[0]crcstate      : 0x8e3a\n[1]crcstate      : 0x8e3a\n[2]crcstate      : 0x8e3a\n[3]crcstate      : 0x8e3a\n[4]crcstate      : 0x8e3a\n[5]crcstate      : 0x8e3a\n[6]crcstate      : 0x8e3a\n[7]crcstate      : 0x8e3a\n[0]crcfinal      : 0x4983\n[1]crcfinal      : 0x4983\n[2]crcfinal      : 0x4983\n[3]crcfinal      : 0x4983\n[4]crcfinal      : 0x4983\n[5]crcfinal      : 0x4983\n[6]crcfinal      : 0x4983\n[7]crcfinal      : 0x4983\nCorrect operation validated. See README.md for run and reporting rules.\nCoreMark 1.0 : 84290.380360 / GCC11.3.1 20220712  -O3 -funroll-all-loops -static --param max-inline-insns-auto=550 -DPERFORMANCE_RUN=1 -mcpu=cortex-a55 -DMULTITHREAD=8 -DUSE_PTHREAD -DVALIDATION_RUN=1  -lrt -pthread  -lrt / Heap / 8:PThreads\n\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u7ed3\u679c\u53c2\u6570\u89e3\u6790\u8bf4\u660e\uff1a"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"CoreMark Size"})}),"\uff1a\u8868\u793a CoreMark \u57fa\u51c6\u6d4b\u8bd5\u7684\u4ee3\u7801\u548c\u6570\u636e\u5927\u5c0f\uff0c\u5355\u4f4d\u662f\u5b57\u8282\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c CoreMark Size \u4e3a 666 \u5b57\u8282\uff0c\u6307\u7684\u662f\u6574\u4e2a CoreMark \u6d4b\u8bd5\u4ee3\u7801\u7684\u5927\u5c0f\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Total ticks"})}),"\uff1a\u8868\u793a\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d CPU \u4f7f\u7528\u7684\u603b\u65f6\u949f\u5468\u671f\u6570\u3002\u6bd4\u5982\uff1a 18982 \u8868\u793a\u6d4b\u8bd5\u603b\u5171\u8017\u8d39\u4e86 18982 \u4e2a\u65f6\u949f\u5468\u671f\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Total time (secs)"})}),"\uff1a\u8868\u793a\u6d4b\u8bd5\u6240\u7528\u7684\u603b\u65f6\u95f4\uff0c\u5355\u4f4d\u662f\u79d2\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Iterations/Sec"})}),"\uff1a\u6bcf\u79d2\u6267\u884c\u7684\u8fed\u4ee3\u6b21\u6570\uff0c\u5373\u5355\u4f4d\u65f6\u95f4\u5185\u7a0b\u5e8f\u8fd0\u884c\u7684\u6b21\u6570\uff0c\u8fd9\u91cc\u662f 84290 \u6b21 / \u79d2\uff0c\u5373\u8bc4\u5206\u516c\u5f0f\u7684 ",(0,s.jsx)(n.code,{children:"coremark"})," \u5206\u6570\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Iterations"})}),"\uff1a\u8868\u793a\u6574\u4e2a\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u6267\u884c\u7684\u603b\u8fed\u4ee3\u6b21\u6570\u3002 1600000 \u8868\u793a CoreMark \u57fa\u51c6\u6d4b\u8bd5\u5728 18.982000 \u79d2\u7684\u65f6\u95f4\u91cc\u6267\u884c\u4e86 1600000 \u6b21\u6d4b\u8bd5\u5faa\u73af\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"seedcrc"})}),"\uff1a CRC \u6821\u9a8c\uff1a\u8fd9\u4e9b\u662f \u5faa\u73af\u5197\u4f59\u6821\u9a8c\uff08 CRC\uff09\u503c\uff0c\u7528\u4e8e\u9a8c\u8bc1\u6d4b\u8bd5\u7684\u6b63\u786e\u6027\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Compiler flags"})}),"\uff1a \u7f16\u8bd1\u5668\u6807\u5fd7\uff0c\u8fd9\u91cc\u662f ",(0,s.jsx)(n.code,{children:"-O3"})," \u548c ",(0,s.jsx)(n.code,{children:"-lrt"}),"\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"CoreMark 1.0"})}),"\uff1a \u5bf9\u5173\u952e\u4fe1\u606f\u7684\u6c47\u603b , 84290.380360 \u662f CoreMark \u6027\u80fd\u5f97\u5206\uff0c\u8868\u793a\u6bcf\u79d2\u8fed\u4ee3\u6b21\u6570\uff0c\u8fd9\u4e2a\u503c\u8d8a\u9ad8\uff0c\u8868\u793a\u5904\u7406\u5668\u6027\u80fd\u8d8a\u5f3a\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u6d4b\u8bd5\u6307\u6807",children:"\u6d4b\u8bd5\u6307\u6807"}),"\n",(0,s.jsx)(n.p,{children:"\u4ee5\u4e0b\u6807\u51c6\u9700\u8981\u5728\u7cfb\u7edf\u65e0\u5de5\u4f5c\u4efb\u52a1\u65f6\u4e14\u591a\u6b21\u53d6\u5e73\u5747\u503c\u6d4b\u8bd5\u5f97\u5230\uff0c CoreMark \u6807\u51c6\u8bc4\u5206\u516c\u5f0f\u4e3a :"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/images_to_upload/coremark_formula.png",alt:"coremark_formula"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"CoreMark Iterations/Sec"}),"\uff1a\u8868\u793a\u6bcf\u79d2\u6267\u884c\u7684 CoreMark \u57fa\u51c6\u6d4b\u8bd5\u8fed\u4ee3\u6b21\u6570\uff0c\u901a\u5e38\u53cd\u6620\u5904\u7406\u5668\u7684\u6027\u80fd\u3002\u8d8a\u9ad8\u7684\u8fed\u4ee3\u6b21\u6570\u610f\u5473\u7740\u66f4\u5f3a\u7684\u8ba1\u7b97\u80fd\u529b\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"CPU Clock (MHz)"}),"\uff1a\u5904\u7406\u5668\u7684\u65f6\u949f\u9891\u7387\uff0c\u5355\u4f4d\u662f MHz\uff08\u5146\u8d6b\u5179\uff09\u3002\u5b83\u53cd\u6620\u4e86\u5904\u7406\u5668\u8fd0\u884c\u7684\u901f\u5ea6\uff0c\u65f6\u949f\u9891\u7387\u8d8a\u9ad8\uff0c\u7406\u8bba\u4e0a\u5904\u7406\u5668\u6bcf\u79d2\u53ef\u4ee5\u6267\u884c\u7684\u64cd\u4f5c\u8d8a\u591a\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"CPU Cores"}),"\uff1a\u5904\u7406\u5668\u7684\u6838\u5fc3\u6570\uff0c CoreMark \u53ef\u4ee5\u5728\u5355\u6838\u6216\u591a\u6838\u6a21\u5f0f\u4e0b\u8fdb\u884c\u6d4b\u8bd5\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\u5206\u6570\u6807\u51c6",children:"\u5206\u6570\u6807\u51c6"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"O3"})," \u7f16\u8bd1\u4f18\u5316\u7684 CoreMark \uff1a\u5728 S100 \u5e73\u53f0\u4e0a\uff0c\u5355\u6838\u5206\u6570\u5e94\u8fbe\u5230 X > 4.2 \u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"O2"})," \u7f16\u8bd1\u4f18\u5316\u7684 CoreMark \uff1a\u5728 S100 \u5e73\u53f0\u4e0a\uff0c\u5355\u6838\u5206\u6570\u5e94\u8fbe\u5230 X > 4.2 \u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\u5982\u4f55\u7406\u89e3\u8bc4\u5206\u6807\u51c6",children:"\u5982\u4f55\u7406\u89e3\u8bc4\u5206\u6807\u51c6"}),"\n",(0,s.jsx)(n.p,{children:"\u8fd9\u4e24\u4e2a\u8bc4\u5206\u6807\u51c6\uff08-O3 \u548c -O2 \uff09\u5b9e\u9645\u4e0a\u4e3a\u4e0d\u540c\u4f18\u5316\u7ea7\u522b\u4e0b\u5904\u7406\u5668\u7684\u6027\u80fd\u8868\u73b0\u8bbe\u5b9a\u4e86\u6700\u4f4e\u8981\u6c42\u3002\u8fd9\u4e2a\u8bc4\u5206\u7684\u610f\u4e49\u5728\u4e8e\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"O3 \u4f18\u5316\u662f GCC \u548c\u5176\u4ed6\u7f16\u8bd1\u5668\u4e2d\u7684\u6700\u9ad8\u4f18\u5316\u7ea7\u522b\uff0c\u901a\u8fc7\u6fc0\u8fdb\u7684\u4f18\u5316\u7b56\u7565\u6765\u63d0\u9ad8\u6267\u884c\u901f\u5ea6\u3002-O3 \u4f18\u5316\u7ea7\u522b\u4f1a\u5f00\u542f\u5f88\u591a\u6027\u80fd\u4f18\u5316\u7279\u6027\uff0c\u5982\u5faa\u73af\u5c55\u5f00\u3001\u5185\u8054\u51fd\u6570\u7b49\uff0c\u76ee\u6807\u662f\u83b7\u5f97\u66f4\u9ad8\u7684\u8ba1\u7b97\u6027\u80fd\u3002"}),"\n",(0,s.jsx)(n.li,{children:"O2 \u4f18\u5316 \u662f\u76f8\u5bf9\u8f83\u4e3a\u4fdd\u5b88\u7684\u4f18\u5316\u7ea7\u522b\u3002\u76f8\u6bd4\u4e8e -O3 \uff0c-O2 \u4f18\u5316\u4e0d\u4f1a\u542f\u7528\u4e00\u4e9b\u53ef\u80fd\u5bfc\u81f4\u4ee3\u7801\u5927\u5c0f\u589e\u52a0\u7684\u6fc0\u8fdb\u4f18\u5316\u3002\u56e0\u6b64\uff0c-O2 \u4f18\u5316\u901a\u5e38\u4f1a\u5f97\u5230\u66f4\u5e73\u8861\u7684\u6027\u80fd\u8868\u73b0\uff0c\u5e76\u4e14\u80fd\u517c\u987e\u6027\u80fd\u548c\u53ef\u79fb\u690d\u6027\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u6839\u636e O3 \u4f18\u5316\u4e0b\u5355\u6838\u6d4b\u8bd5\u7684\u8bc4\u5206\u7ed3\u679c\u8ba1\u7b97\uff0c CoreMark Iterations/Sec = 14481 \u6b21 / \u79d2\uff0c CPU Clock (MHz) = 1500 MHz\uff0c CPU Cores = 1 \u6838\uff08\u5355\u6838\u6d4b\u8bd5\uff09\uff0c\u6839\u636e\u516c\u5f0f\u8ba1\u7b97 ",(0,s.jsx)(n.code,{children:"CoreMark Score = 14481 /\uff08 1500 x 1 \uff09 = 9.65"}),", \u6027\u80fd\u8fdc\u9ad8\u4e8e\u5e38\u89c4 O3 \u4f18\u5316\u57fa\u51c6\uff084.2\uff09\uff0c\u8868\u73b0\u4f18\u79c0\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u6839\u636e O3 \u4f18\u5316\u4e0b\u591a\u6838\u6d4b\u8bd5\u7684\u8bc4\u5206\u7ed3\u679c\u8ba1\u7b97\uff0c CoreMark Iterations/Sec = 84290 \u6b21 / \u79d2\uff0c CPU Clock (MHz) = 1500 MHz\uff0c CPU Cores = 8 \u6838\uff08\u591a\u6838\u6d4b\u8bd5\uff09\uff0c\u6839\u636e\u516c\u5f0f\u8ba1\u7b97 ",(0,s.jsx)(n.code,{children:"CoreMark Score = 84290 /\uff08 1500 x 8 \uff09 \u2248 7.03"})," , \u540c\u6837\u8fdc\u9ad8\u4e8e O3 \u591a\u6838\u57fa\u51c6\uff084.2\uff09\uff0c\u7cfb\u7edf\u6574\u4f53\u8ba1\u7b97\u80fd\u529b\u5f3a\u3002"]}),"\n",(0,s.jsx)(n.h2,{id:"\u5e38\u89c1\u95ee\u9898",children:"\u5e38\u89c1\u95ee\u9898"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"1. \u95ee"}),"\uff1a\u9700\u8981\u6d4b\u8bd5\u591a\u6838\u600e\u6837\u5f00\u542f ",(0,s.jsx)(n.code,{children:"-O2"})," \u7f16\u8bd1\u4f18\u5316\u60c5\u51b5\u4e0b\u7684 coremark \u6307\u6807 ?"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"1. \u7b54"}),"\uff1a\u6d4b\u8bd5\u591a\u6838\u4ee5\u53ca\u5f00\u542f ",(0,s.jsx)(n.code,{children:"-O2"})," \u7f16\u8bd1\u4f18\u5316\u60c5\u51b5\u4e0b\u7684 coremark \u6307\u6807\uff0c\u9700\u8981\u91cd\u65b0\u7f16\u8bd1 coremark \u6e90\u7801\uff0c\u901a\u8fc7\u8bbe\u7f6e\u7f16\u8bd1\u9009\u9879\u53c2\u6570\u5f97\u5230\u9700\u8981\u7684 coremark \u7a0b\u5e8f\u3002\u5728 ",(0,s.jsx)(n.code,{children:"/app/chip_base_test/07_cpu_performance/coremark-main"})," \u8def\u5f84\u4e0b\uff0c\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u884c\u91cd\u65b0\u7f16\u8bd1\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u7f16\u8bd1\u5355\u6838\u5f00\u542f ",(0,s.jsx)(n.code,{children:"-O2"})," \u7684 coremark \u547d\u4ee4\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'make XCFLAGS="-O2 -funroll-all-loops -static --param max-inline-insns-auto=550 -DPERFORMANCE_RUN=1 -mcpu=cortex-a55" REBUILD=1 run1.log\n\nmv coremark.exe coremark_O2_single\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u7f16\u8bd1 8 \u6838\u5f00\u542f ",(0,s.jsx)(n.code,{children:"-O2"})," \u7684 coremark \u547d\u4ee4\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'make XCFLAGS="-O2 -funroll-all-loops -static --param max-inline-insns-auto=550 -DPERFORMANCE_RUN=1 -mcpu=cortex-a55 -DMULTITHREAD=8 -DUSE_PTHREAD -DVALIDATION_RUN=1  -lrt -pthread" REBUILD=1 run2.log\n\nmv coremark.exe coremark_O2_mutli\n'})})]})}function x(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);