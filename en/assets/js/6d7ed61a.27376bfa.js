"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[98629],{28453:(n,e,i)=>{i.d(e,{R:()=>d,x:()=>r});var l=i(96540);const t={},c=l.createContext(t);function d(n){const e=l.useContext(c);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:d(n.components),l.createElement(c.Provider,{value:e},n.children)}},78307:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>s,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>l,toc:()=>a});const l=JSON.parse('{"id":"Advanced_development/mcu_development/S100/mcu_pwm","title":"PWM\u4f7f\u7528\u6307\u5357","description":"\u786c\u4ef6\u652f\u6301","source":"@site/docs_s/07_Advanced_development/05_mcu_development/01_S100/05_mcu_pwm.md","sourceDirName":"07_Advanced_development/05_mcu_development/01_S100","slug":"/Advanced_development/mcu_development/S100/mcu_pwm","permalink":"/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/mcu_pwm","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1756732316000,"sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"UART\u4f7f\u7528\u6307\u5357","permalink":"/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/mcu_uart"},"next":{"title":"SPI\u4f7f\u7528\u6307\u5357","permalink":"/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/mcu_spi"}}');var t=i(74848),c=i(28453);const d={sidebar_position:5},r="PWM\u4f7f\u7528\u6307\u5357",s={},a=[{value:"\u786c\u4ef6\u652f\u6301",id:"\u786c\u4ef6\u652f\u6301",level:2},{value:"\u8f6f\u4ef6\u9a71\u52a8",id:"\u8f6f\u4ef6\u9a71\u52a8",level:2},{value:"\u4ee3\u7801\u8def\u5f84",id:"\u4ee3\u7801\u8def\u5f84",level:2},{value:"\u5e73\u53f0\u7279\u6b8a\u914d\u7f6e",id:"\u5e73\u53f0\u7279\u6b8a\u914d\u7f6e",level:2},{value:"\u5e94\u7528sample",id:"\u5e94\u7528sample",level:2},{value:"\u4f7f\u7528\u793a\u4f8b",id:"\u4f7f\u7528\u793a\u4f8b",level:3},{value:"Debug Sample",id:"debug-sample",level:3},{value:"\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3",id:"\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3",level:3},{value:"void Pwm_Init(const Pwm_ConfigType* ConfigPtr)",id:"void-pwm_initconst-pwm_configtype-configptr",level:4},{value:"void Pwm_DeInit(void)",id:"void-pwm_deinitvoid",level:4},{value:"void Pwm_SetDutyCycle(Pwm_ChannelType ChannelNumber, uint16 DutyCycle)",id:"void-pwm_setdutycyclepwm_channeltype-channelnumber-uint16-dutycycle",level:4},{value:"void Pwm_SetPeriodAndDuty(Pwm_ChannelType ChannelNumber, Pwm_PeriodType Period, uint16 DutyCycle)",id:"void-pwm_setperiodanddutypwm_channeltype-channelnumber-pwm_periodtype-period-uint16-dutycycle",level:4},{value:"void Pwm_SetOutputToIdle(Pwm_ChannelType ChannelNumber)",id:"void-pwm_setoutputtoidlepwm_channeltype-channelnumber",level:4},{value:"Pwm_OutputStateType Pwm_GetOutputState(Pwm_ChannelType ChannelNumber)",id:"pwm_outputstatetype-pwm_getoutputstatepwm_channeltype-channelnumber",level:4},{value:"void Pwm_DisableNotification(Pwm_ChannelType ChannelNumber)",id:"void-pwm_disablenotificationpwm_channeltype-channelnumber",level:4},{value:"void Pwm_EnableNotification(Pwm_ChannelType ChannelNumber, Pwm_EdgeNotificationType Notification)",id:"void-pwm_enablenotificationpwm_channeltype-channelnumber-pwm_edgenotificationtype-notification",level:4},{value:"void Pwm_GetVersionInfo(Std_VersionInfoType* versioninfo)",id:"void-pwm_getversioninfostd_versioninfotype-versioninfo",level:4}];function o(n){const e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"pwm\u4f7f\u7528\u6307\u5357",children:"PWM\u4f7f\u7528\u6307\u5357"})}),"\n",(0,t.jsx)(e.h2,{id:"\u786c\u4ef6\u652f\u6301",children:"\u786c\u4ef6\u652f\u6301"}),"\n",(0,t.jsx)(e.p,{children:"S100 \u67091\u4e2aPWM\uff0c\u6bcf\u4e2aPWM IP \u670912\u4e2a\u901a\u9053\u3002"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u6bcf\u4e2a\u901a\u9053\u90fd\u662f\u72ec\u7acb\u7684\uff0c\u652f\u6301irq requset\u548cdma requset"}),"\n",(0,t.jsx)(e.li,{children:"\u53ef\u4ee5\u652f\u6301\u786c\u4ef6\u89e6\u53d1\u8109\u51b2\u8f93\u51fa"}),"\n",(0,t.jsx)(e.li,{children:"\u6bcf\u4e2a\u901a\u9053\u6709\u81ea\u5df1\u72ec\u7acb\u7684\u65f6\u949f\u5206\u9891\u5bc4\u5b58\u5668"}),"\n",(0,t.jsx)(e.li,{children:"\u6bcf\u4e2aIP\u6240\u6709\u901a\u9053\u5171\u4eab\u4e00\u4e2a\u4e2d\u65ad"}),"\n",(0,t.jsx)(e.li,{children:"\u5f53\u76ee\u6807\u8fb9\u6cbf\u6216\u8005\u8109\u51b2\u7c7b\u578b\u5230\u6765\u7684\u65f6\u5019\uff0c\u4f1a\u89e6\u53d1\u4e2d\u65ad\u6216\u8005dma req"}),"\n",(0,t.jsx)(e.li,{children:"\u652f\u6301DMA\u66f4\u65b0period\u548cduty"}),"\n",(0,t.jsx)(e.li,{children:"\u652f\u6301\u5468\u671f\u8fb9\u6cbf\u5bf9\u9f50\u65b9\u5f0f\u8bbe\u7f6e\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u8fb9\u6cbf\u5bf9\u9f50\u6216\u8005\u4e2d\u5fc3\u5bf9\u9f50"}),"\n",(0,t.jsx)(e.li,{children:"\u652f\u6301pwm\u540c\u6b65\u8f93\u51fa\u6a21\u5f0f\uff0c6\u901a\u9053\u540c\u6b65\u6216\u800512\u901a\u9053\u540c\u6b65\u3002"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"\u8f6f\u4ef6\u9a71\u52a8",children:"\u8f6f\u4ef6\u9a71\u52a8"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u652f\u6301CPU\u66f4\u65b0PWM\u901a\u9053\u7684\u5468\u671f\u548c\u5360\u7a7a\u6bd4"}),"\n",(0,t.jsx)(e.li,{children:"\u652f\u6301DMA\u66f4\u65b0PWM\u901a\u9053\u7684\u5468\u671f\u548c\u5360\u7a7a\u6bd4"}),"\n",(0,t.jsx)(e.li,{children:"\u652f\u6301\u8bbe\u7f6e\u5f00\u542f\u548c\u5173\u95edPWM\u4e2d\u65ad\uff0c\u8bbe\u7f6ePWM\u901a\u9053\u7684\u4e2d\u65ad\u51fd\u6570\uff0c\u652f\u6301\u4e2d\u65ad\u7c7b\u578b\uff1a\u4e0a\u5347\u6cbf\uff0c\u4e0b\u964d\u6cbf\uff0c\u53cc\u8fb9\u6cbf"}),"\n",(0,t.jsx)(e.li,{children:"\u8bfb\u53d6PWM\u8f93\u51fa\u4fe1\u53f7\u7684\u5185\u90e8\u72b6\u6001\u5e76\u5c06\u5176\u8fd4\u56de"}),"\n",(0,t.jsx)(e.li,{children:"\u652f\u6301\u591a\u901a\u9053\u540c\u6b65\u8f93\u51fa"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"\u4ee3\u7801\u8def\u5f84",children:"\u4ee3\u7801\u8def\u5f84"}),"\n",(0,t.jsx)(e.h1,{id:"pwm-\u6a21\u5757\u76f8\u5173\u6587\u4ef6\u8bf4\u660e",children:"PWM \u6a21\u5757\u76f8\u5173\u6587\u4ef6\u8bf4\u660e"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Config/McalCdd/gen_s100_sip_B_mcu1/Pwm/src/Pwm_PBCfg.c: \u6b63\u5e38\u6a21\u5f0f\u4e0b PWM \u7684\u9884\u7f16\u8bd1\u914d\u7f6e\u6e90\u6587\u4ef6\uff0c\u5305\u542b\u901a\u9053\u548c\u5b9e\u4f8b\u7684\u5177\u4f53\u914d\u7f6e\u53c2\u6570\uff08\u5982\u5468\u671f\u3001\u5360\u7a7a\u6bd4\u3001\u6781\u6027\u7b49\uff09\u3002"}),"\n",(0,t.jsx)(e.li,{children:"Config/McalCdd/gen_s100_sip_B_mcu1/Pwm/inc: \u9884\u7f16\u8bd1\u914d\u7f6e\u5934\u6587\u4ef6\uff0c\u5b9a\u4e49\u5b8f\u5f00\u5173\u3002"}),"\n",(0,t.jsx)(e.li,{children:"McalCdd/Pwm/src/Pwm_Lld.c: \u5e95\u5c42\u9a71\u52a8\u5b9e\u73b0\u6587\u4ef6\uff0c\u76f4\u63a5\u64cd\u4f5c\u786c\u4ef6\u5bc4\u5b58\u5668\uff0c\u63d0\u4f9b\u5e95\u5c42\u63a5\u53e3\u3002"}),"\n",(0,t.jsx)(e.li,{children:"McalCdd/Pwm/src/Pwm.c: \u4e0a\u5c42\u9a71\u52a8\u903b\u8f91\u5b9e\u73b0\uff0c\u5c01\u88c5API \u63a5\u53e3\uff0c\u5e76\u5904\u7406\u9519\u8bef\u68c0\u6d4b\u3001\u72b6\u6001\u7ba1\u7406\u7b49\u63a7\u5236\u903b\u8f91\u3002"}),"\n",(0,t.jsx)(e.li,{children:"McalCdd/Pwm/inc/Pwm_Lld.h: \u5e95\u5c42\u9a71\u52a8\u5934\u6587\u4ef6\uff0c\u58f0\u660e\u5e95\u5c42\u51fd\u6570\u539f\u578b\u3001\u7ed3\u6784\u4f53\u548c\u679a\u4e3e\u7c7b\u578b\u3002"}),"\n",(0,t.jsx)(e.li,{children:"McalCdd/Pwm/inc/Pwm_Types.h: \u5b9a\u4e49\u901a\u7528\u6570\u636e\u7c7b\u578b\u3001\u7ed3\u6784\u4f53\u548c\u56de\u8c03\u51fd\u6570\u6307\u9488\u7c7b\u578b\uff0c\u4f9b\u4e0a\u4e0b\u5c42\u5171\u4eab\u4f7f\u7528\u3002"}),"\n",(0,t.jsx)(e.li,{children:"McalCdd/Pwm/inc/Pwm.h: \u4e3b\u5934\u6587\u4ef6\uff0c\u58f0\u660e\u9ad8\u5c42 API\u548c\u6838\u5fc3\u7ed3\u6784\u4f53\u3002"}),"\n",(0,t.jsx)(e.li,{children:"samples/Pwm/Pwm_sample/Pwm_test.c: Pwm\u6d4b\u8bd5sample\u3002"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"\u5e73\u53f0\u7279\u6b8a\u914d\u7f6e",children:"\u5e73\u53f0\u7279\u6b8a\u914d\u7f6e"}),"\n",(0,t.jsx)(e.p,{children:"PWM\u9a71\u52a8\u4e2d\u7684\u914d\u7f6e\u6e90\u6587\u4ef6\u662fPwm_PBCfg.c\uff0cS100\u82af\u7247\u9ed8\u8ba4\u662f\u652f\u630112\u4e2aChannel\u7684\u914d\u7f6e\uff0c\u4f46\u662f\u7531\u4e8ePcb\u7684\u5dee\u5f02\uff0c\u90e8\u5206PWM\u901a\u9053\u7684\u5f15\u811a\u88ab\u5360\u7528\uff0c\u4f8b\u5982RDKS100\u7684PWM2\u548cPWM3\u88ab\u5360\u7528\uff0c\u4e3a\u907f\u514d\u51b2\u7a81\uff0c\u5728\u914d\u7f6e\u4e0a\u9700\u8981\u505a\u5982\u4e0b\u66f4\u6539\uff1a"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"\u4fee\u6539Pwm_Channels_PB\u6570\u7ec4\u4e2d\u7ed3\u6784\u4f53\u6210\u5458LldChannelCfg\u7684\u503c\u4e3aNULL\uff0c\u8868\u793a\u8fd9\u4e2aPWM\u901a\u9053\u65e0\u6548"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-c",children:"static Pwm_ChannelConfigType Pwm_Channels_PB[PWM_CONF_CHANNELS_PB] = {\n    ......\n    {\n        /* @brief Pwm Channel id */\n        .ChannelId = 1,\n        /* @brief Pwm Channel Class */\n        .PwmChannelClass = PWM_VARIABLE_PERIOD,\n        /** @brief Pointer to channel pwm hw channel: pwm 0 - ch 1 */\n        .LldChannelCfg = &Pwm_HwChannelConfig_PB[0][1],\n    },\n    {\n        /* @brief Pwm Channel id */\n        .ChannelId = 2,\n        /* @brief Pwm Channel Class */\n        .PwmChannelClass = PWM_VARIABLE_PERIOD,\n        /** @brief Pointer to channel pwm hw channel: pwm 0 - ch 2 */\n        .LldChannelCfg = NULL,\n    },\n    ......\n}\n"})}),"\n",(0,t.jsxs)(e.ol,{start:"2",children:["\n",(0,t.jsx)(e.li,{children:"\u4fee\u6539Pwm_HwChannelConfig_PB\u6570\u7ec4\u4e2d\u7684\u6700\u540e\u4e00\u4e2a\u7ed3\u6784\u4f53\u6210\u5458HwChannelId\u7684\u503c\u4e3aPWM_HW_CHANNEL_INVALID_ID\uff0c\u8868\u793a\u4ece\u8fd9\u4e2a\u914d\u7f6e\u5f00\u59cb\uff0c\u540e\u9762\u7684\u914d\u7f6e\u65e0\u6548"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-c",children:"static Pwm_Lld_ChannelConfigType Pwm_HwChannelConfig_PB[PWM_HW_CONF_MODS_PB][12] = {\n    {\n        ......\n        {\n            /**< pwm hardware channel PwmHwChId11 */\n            .HwChannelId = PwmHwChId11,\n            /**< pwm hardware ip id 0 */\n            .HwIpId = 0,\n            /**< pwm clear mode */\n            .ClearMode = FALSE,\n            /**< pwm channel clock ratio*/\n            .ClockRatio = 0,\n            /**< pwm period*/\n            .Period = 3125000,\n            /**< pwm polarity*/\n            .Polarity = PWM_HIGH,\n            /**< pwm duty cycle*/\n            .DutyCycle = 1562500,\n            /**< pwm edge align mode */\n            .EdgeAlign = PWM_LLD_GEN_ALIGN_EDGE,\n            /**< pwm edge mode */\n            .EdgeMode = PWM_LLD_EDGEMODE_BOTH,\n            /**< hardware triger mask */\n            .HwTrigMask = TRUE,\n            /**< pwm hardware triger width*/\n            .HwTrigWidth = 0,\n            /**< the switch of isr notification*/\n            .NotificationEnable = TRUE,\n            /**< the callback of isr notification */\n            .Notification = Pwm_Channel_0_6_ISR,\n            /**< the switch of dma complete notification*/\n            .DmaCpltCallbackEnable = TRUE,\n            /**< the callback of dma complete notification */\n            .DmaCpltCallback = NULL_PTR,\n        },\n        {\n            /**< Add termination structure members */\n            .HwChannelId = PWM_HW_CHANNEL_INVALID_ID,\n        }\n    }\n}\n"})}),"\n",(0,t.jsx)(e.admonition,{type:"tip",children:(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Pwm_Channels_PB \u7ed3\u6784\u4f53\u6570\u7ec4\u5b9a\u4e49\u4e86\u903b\u8f91PWM\u901a\u9053\u4e0e\u5e95\u5c42\u786c\u4ef6\u901a\u9053\u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb\u3002"}),"\n",(0,t.jsx)(e.li,{children:"Pwm_HwChannelConfig_PB \u7ed3\u6784\u4f53\u6570\u7ec4\u5b9a\u4e49\u4e86\u6bcf\u4e2aPWM\u901a\u9053\u7684\u9ed8\u8ba4\u786c\u4ef6\u53c2\u6570\uff0c\u5982\u5468\u671f\u3001\u5360\u7a7a\u6bd4\u3001\u6781\u6027\u3001\u4e2d\u65ad\u4f7f\u80fd\u7b49\u3002"}),"\n"]})}),"\n",(0,t.jsx)(e.h2,{id:"\u5e94\u7528sample",children:"\u5e94\u7528sample"}),"\n",(0,t.jsx)(e.h3,{id:"\u4f7f\u7528\u793a\u4f8b",children:"\u4f7f\u7528\u793a\u4f8b"}),"\n",(0,t.jsx)(e.p,{children:"S100 \u5f00\u53d1\u677f\u5c06PWM\u5f15\u51fa\u4f9b\u7528\u6237\u5f00\u53d1\u5b66\u4e60\u4f7f\u7528\uff0c\u5df2\u5f15\u51faPWM Channel\u7684PIN\u811a\u4f4d\u7f6e\u4ee5\u53ca\u72b6\u6001\u5982\u4e0b\uff1a"}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"PWM\u901a\u9053"}),(0,t.jsx)(e.th,{children:"\u6240\u5c5e\u677f\u5b50"}),(0,t.jsx)(e.th,{children:"\u5f15\u811a\u72b6\u6001/\u590d\u7528"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"pwm0"}),(0,t.jsx)(e.td,{children:"MCU\u6269\u5c55\u677f"}),(0,t.jsx)(e.td,{children:"\u4e0eI2C9 SCL\u590d\u7528"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"pwm1"}),(0,t.jsx)(e.td,{children:"MCU\u6269\u5c55\u677f"}),(0,t.jsx)(e.td,{children:"NONE"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"pwm6"}),(0,t.jsx)(e.td,{children:"Mainboad\u677f\u7684MCU expansion Header"}),(0,t.jsx)(e.td,{children:"NONE"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"pwm7"}),(0,t.jsx)(e.td,{children:"Mainboad\u677f\u7684MCU expansion Header"}),(0,t.jsx)(e.td,{children:"NONE"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"pwm10"}),(0,t.jsx)(e.td,{children:"MCU\u6269\u5c55\u677f"}),(0,t.jsx)(e.td,{children:"\u4e0eI2C8 SCL\u590d\u7528"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"pwm11"}),(0,t.jsx)(e.td,{children:"MCU\u6269\u5c55\u677f"}),(0,t.jsx)(e.td,{children:"\u4e0eI2C8 SDA\u590d\u7528"})]})]})]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"pwmtest"}),"\u547d\u4ee4\u7528\u4e8e\u914d\u7f6e\u548c\u63a7\u5236PWM\uff08\u8109\u51b2\u5bbd\u5ea6\u8c03\u5236\uff09\u901a\u9053\u3002\u4e0b\u9762\u662f",(0,t.jsx)(e.code,{children:"pwmtest"}),"\u547d\u4ee4\u7684\u4f7f\u7528\u8bf4\u660e\u548c\u793a\u4f8b\u3002"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u4f7f\u7528\u65b9\u6cd5"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u8bbe\u7f6ePWM\u5360\u7a7a\u6bd4\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-sh",children:"pwmtest <pwm\u901a\u9053> <\u5468\u671f> <\u5360\u7a7a\u6bd4>\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u505c\u6b62PWM\u8f93\u51fa\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-sh",children:"pwmtest stop <pwm\u901a\u9053>\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u4f8b\u5982\u8bbe\u7f6ePWM\u901a\u90530\u7684\u5468\u671f\u4e3a1000us\uff0c\u5360\u7a7a\u6bd4\u4e3a50%\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"pwmtest 0 0x30d40 0x4000\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u53c2\u6570\u8bf4\u660e"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-sh",children:"<pwm\u901a\u9053>: \u8981\u914d\u7f6e\u6216\u505c\u6b62\u7684PWM\u901a\u9053\u53f7\u3002\n<\u5468\u671f>: PWM\u4fe1\u53f7\u7684\u5468\u671f\u3002\n<\u5360\u7a7a\u6bd4>: PWM\u4fe1\u53f7\u7684\u5360\u7a7a\u6bd4\uff0c\u5fc5\u987b\u57280x0000\uff080%\uff09\u52300x8000\uff08100%\uff09\u7684\u8303\u56f4\u5185\u3002\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u5468\u671f\u8ba1\u7b97"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"PWM\u5468\u671f=\u65f6\u949f\u6e90\u9891\u7387/\u5468\u671f\u5bc4\u5b58\u5668\u503c\u200b"}),"\n",(0,t.jsx)(e.p,{children:"\u4f8b\uff1a\u8f93\u51fa\u5468\u671f\u4e3a1000us\u7684\u6ce2\uff0cpwm\u65f6\u949f\u6e90\u9ed8\u8ba4\u4e3a200Mhz\uff0c\u5219\u9700\u8981\u5728\u5bc4\u5b58\u5668\u4e2d\u5199\u5165 200000000/1000=200000(0x30d40)\u3002"}),"\n",(0,t.jsx)(e.h3,{id:"debug-sample",children:"Debug Sample"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u4f7f\u7528\u65b9\u6cd5"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"pwmdumpregs <pwm\u901a\u9053>\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u4f8b\u5982dump pwm channel0\u7684\u5bc4\u5b58\u5668"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"D-Robotics:/$ pwmdumpregs 0\n[06915.231597 0]INFO: Pwm_RegDump pwm channel:0\n[06915.231967 0]INFO: Pwm_RegDump channel 0\nch[0]                              PERIOD 22370000 60000 # \u5468\u671f\nch[0]                              PERIOD 22370000 48000 # \u5360\u7a7a\u6bd4\nch[0]                            CAP_TIME 22370004 0\nch[0]                            CAP_TIME 22370004 0\nch[0]               PWM_CTRL_REG.MODE_SEL          0\nch[0]          PWM_CTRL_REG.GEN_ALIGN_SEL          0\nch[0]           PWM_CTRL_REG.GEN_POLARITY          0\nch[0]               PWM_CTRL_REG.INT_MASK          1\nch[0]               PWM_CTRL_REG.DMA_MASK          0\nch[0]           PWM_CTRL_REG.HW_TRIG_MASK          1\nch[0]       PWM_CTRL_REG.GLITCH_FILTER_EN          0\nch[0]       PWM_CTRL_REG.GLITCH_THRESHOLD          0\nch[0]          PWM_CTRL_REG.HW_TRIG_WIDTH          0\nch[0]          PWM_CTRL_REG.CLK_DIV_RATIO          0\nch[0]               PWM_CTRL_REG.EDGE_SEL          0\nch[0]        PWM_CTRL_REG.CPU_HALT_ENABLE          0\nch[0]       PWM_CTRL_REG.TIMER_CLEAR_MODE          0\nch[0]           PWM_CTRL_REG.RESERVED_BIT          0\nch[0]                                  EN 2237000c 1\nch[0]                       COMPARE_STATE 22370010 0\nch[0]                           PIN_STATE 22370014 3\nch[0]                   CAP_CNT_THRESHOLD 22370018 1\nch[0]                             CAP_CNT 2237001c 1539\nch[0]                                 EOI 22370024 0\nch[0]                              INT_ST 22370028 0\nch[0]                                 CNT 2237002c 28991\npwm                                  EOIS 22370300 0\npwm                                INT_ST 22370304 0\npwm                            RAW_INT_ST 22370308 1\npwm                              RESERVED 2237030c 0\npwm                              CAP_MISS 22370310 0\npwm                            CLEAR_MODE 22370314 33c\npwm                             SYNC_MODE 22370318 0\npwm                         CFG_LOCK_MODE 2237031c 0\n[06915.263883 0]INFO: Pwm_RegDump end\n\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3",children:"\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3"}),"\n",(0,t.jsx)(e.h4,{id:"void-pwm_initconst-pwm_configtype-configptr",children:"void Pwm_Init(const Pwm_ConfigType* ConfigPtr)"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"Description\uff1aService for PWM initialization\n\nSync/Async\uff1aSynchronous\nParameters(in)\n    ConfigPtr\uff1a Pointer to configuration set\nParameters(inout)\n    None\nParameters(out)\n    None\nReturn value\uff1aNone\n"})}),"\n",(0,t.jsx)(e.h4,{id:"void-pwm_deinitvoid",children:"void Pwm_DeInit(void)"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"Description\uff1aService for PWM De-Initialization.\n\nSync/Async\uff1aSynchronous\nParameters(in)\n    None\nParameters(inout)\n    None\nParameters(out)\n    None\nReturn value\uff1aNone\n"})}),"\n",(0,t.jsx)(e.h4,{id:"void-pwm_setdutycyclepwm_channeltype-channelnumber-uint16-dutycycle",children:"void Pwm_SetDutyCycle(Pwm_ChannelType ChannelNumber, uint16 DutyCycle)"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"Description\uff1aService sets the duty cycle of the PWM channel.\nSync/Async\uff1aAsynchronous\nParameters(in)\n    ChannelNumber: Numeric identifier of PWM\n    DutyCycle: Min=0x0000 Max=0x8000\nParameters(inout)\n    None\nParameters(out)\n    None\nReturn value\uff1aNone\n"})}),"\n",(0,t.jsx)(e.h4,{id:"void-pwm_setperiodanddutypwm_channeltype-channelnumber-pwm_periodtype-period-uint16-dutycycle",children:"void Pwm_SetPeriodAndDuty(Pwm_ChannelType ChannelNumber, Pwm_PeriodType Period, uint16 DutyCycle)"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"Description\uff1aService sets the duty cycle of the PWM channel.\nSync/Async\uff1aAsynchronous\nParameters(in)\n    ChannelNumber: Numeric identifier of PWM\n    Period: Period of the PWM signal\n    DutyCycle: Min=0x0000 Max=0x8000\nParameters(inout)\n    None\nParameters(out)\n    None\nReturn value\uff1aNone\n"})}),"\n",(0,t.jsx)(e.h4,{id:"void-pwm_setoutputtoidlepwm_channeltype-channelnumber",children:"void Pwm_SetOutputToIdle(Pwm_ChannelType ChannelNumber)"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"Description\uff1aService sets the PWM output to the configured Idle state.\nSync/Async\uff1aAsynchronous\nParameters(in)\n    ChannelNumber: Numeric identifier of PWM\nParameters(inout)\n    None\nParameters(out)\n    None\nReturn value\uff1aNone\n"})}),"\n",(0,t.jsx)(e.h4,{id:"pwm_outputstatetype-pwm_getoutputstatepwm_channeltype-channelnumber",children:"Pwm_OutputStateType Pwm_GetOutputState(Pwm_ChannelType ChannelNumber)"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"Description\uff1aService to read the internal state of the PWM output signal.\nSync/Async\uff1aAsynchronous\nParameters(in)\n    ChannelNumber: Numeric identifier of PWM\nParameters(inout)\n    None\nParameters(out)\n    None\n\nReturn value\uff1aPwm_OutputStateType\n    PWM_HIGH: The PWM output state is high\n    PWM_LOW: The PWM output state is low\n"})}),"\n",(0,t.jsx)(e.h4,{id:"void-pwm_disablenotificationpwm_channeltype-channelnumber",children:"void Pwm_DisableNotification(Pwm_ChannelType ChannelNumber)"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"Description\uff1aService to disable the PWM signal edge notification.\nSync/Async\uff1aAsynchronous\nParameters(in)\n    ChannelNumber: Numeric identifier of PWM\nParameters(inout)\n    None\nParameters(out)\n    None\nReturn value\uff1aNone\n"})}),"\n",(0,t.jsx)(e.h4,{id:"void-pwm_enablenotificationpwm_channeltype-channelnumber-pwm_edgenotificationtype-notification",children:"void Pwm_EnableNotification(Pwm_ChannelType ChannelNumber, Pwm_EdgeNotificationType Notification)"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"Description\uff1aService to enable the PWM signal edge notification.\nSync/Async\uff1aAsynchronous\nParameters(in)\n    ChannelNumber: Numeric identifier of PWM\n    Notification: Notification type to be enabled\nParameters(inout)\n    None\nParameters(out)\n    None\nReturn value\uff1aNone\n"})}),"\n",(0,t.jsx)(e.h4,{id:"void-pwm_getversioninfostd_versioninfotype-versioninfo",children:"void Pwm_GetVersionInfo(Std_VersionInfoType* versioninfo)"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"Description\uff1aService returns the version information of this module.\nSync/Async\uff1aSynchronous\nParameters(in)\n    None\nParameters(inout)\n    None\nParameters(out)\n    versioninfo: Pointer to where to store the version information of this module.\nReturn value\uff1aNone\n"})})]})}function h(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(o,{...n})}):o(n)}}}]);