<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-docs_s docs-version-current docs-doc-page docs-doc-id-FAQ/applications_and_examples" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">8.3 Application Development, Compilation, and Examples | RDK DOC</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://developer.d-robotics.cc/rdk_doc/en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://developer.d-robotics.cc/rdk_doc/en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://developer.d-robotics.cc/rdk_doc/en/rdk_s/FAQ/applications_and_examples"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-docs_s-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-docs_s-current"><meta data-rh="true" property="og:title" content="8.3 Application Development, Compilation, and Examples | RDK DOC"><meta data-rh="true" name="description" content="This section mainly answers questions related to installing/using third-party libraries, compiling applications, running official examples, and related issues on the RDK platform."><meta data-rh="true" property="og:description" content="This section mainly answers questions related to installing/using third-party libraries, compiling applications, running official examples, and related issues on the RDK platform."><link data-rh="true" rel="icon" href="/rdk_doc/en/img/logo.png"><link data-rh="true" rel="canonical" href="https://developer.d-robotics.cc/rdk_doc/en/rdk_s/FAQ/applications_and_examples"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/rdk_s/FAQ/applications_and_examples" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/en/rdk_s/FAQ/applications_and_examples" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/rdk_s/FAQ/applications_and_examples" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"8. FAQ","item":"https://developer.d-robotics.cc/rdk_doc/en/rdk_s/FAQ"},{"@type":"ListItem","position":2,"name":"8.3 Application Development, Compilation, and Examples","item":"https://developer.d-robotics.cc/rdk_doc/en/rdk_s/FAQ/applications_and_examples"}]}</script><script src="https://hm.baidu.com/hm.js?24dd63cad43b63889ea6bede5fd1ab9e" async></script><link rel="stylesheet" href="/rdk_doc/en/assets/css/styles.0fbd7d27.css">
<script src="/rdk_doc/en/assets/js/runtime~main.c48268a3.js" defer="defer"></script>
<script src="/rdk_doc/en/assets/js/main.88e672e3.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://d-robotics.cc/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/rdk_doc/en/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rdk_doc/en/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">D-Robotics</b></a><a class="navbar__item navbar__link" href="/rdk_doc/en/RDK">RDK X3 / X5</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rdk_doc/en/rdk_s/RDK">RDK S100</a><a href="https://developer.d-robotics.cc/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/D-Robotics" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>EN</a><ul class="dropdown__menu"><li><a href="/rdk_doc/rdk_s/FAQ/applications_and_examples" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-Hans">CN</a></li><li><a href="/rdk_doc/en/rdk_s/FAQ/applications_and_examples" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">EN</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rdk_doc/en/rdk_s/RDK">D-Robotics RDK Kit</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Quick_start">1. Quick Start</a><button aria-label="Expand sidebar category &#x27;1. Quick Start&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/System_configuration">2. System Configuration</a><button aria-label="Expand sidebar category &#x27;2. System Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Basic_Application">3. Basic Application Development</a><button aria-label="Expand sidebar category &#x27;3. Basic Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Basic_Development">4. Algorithm Application Development</a><button aria-label="Expand sidebar category &#x27;4. Algorithm Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Robot_development">5. Robotics Application Development</a><button aria-label="Expand sidebar category &#x27;5. Robotics Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Application_case">6. Application Development Guide</a><button aria-label="Expand sidebar category &#x27;6. Application Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Advanced_development">7. Advanced Development</a><button aria-label="Expand sidebar category &#x27;7. Advanced Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/rdk_doc/en/rdk_s/FAQ">8. FAQ</a><button aria-label="Collapse sidebar category &#x27;8. FAQ&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/FAQ/hardware_and_system">8.1 Hardware, System, and Environment Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/FAQ/interface">8.2 Interfaces, Peripherals, and Drivers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rdk_doc/en/rdk_s/FAQ/applications_and_examples">8.3 Application Development, Compilation, and Examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/FAQ/multimedia">8.4 Multimedia Processing and Applications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/FAQ/toolchain">8.5 Algorithm toolchain class</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/FAQ/tros_ros">8.6 TROS/ROS Development</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Appendix">9. Appendix</a><button aria-label="Expand sidebar category &#x27;9. Appendix&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rdk_doc/en/rdk_s/Release_Note/roadmap">10. Version release</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rdk_doc/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rdk_doc/en/rdk_s/FAQ"><span>8. FAQ</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">8.3 Application Development, Compilation, and Examples</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>8.3 Application Development, Compilation, and Examples</h1></header>
<p>This section mainly answers questions related to installing/using third-party libraries, compiling applications, running official examples, and related issues on the RDK platform.</p>
<p>For cross-compilation and deployment, please refer to <a href="https://developer.d-robotics.cc/forumDetail/112555549341653662" target="_blank" rel="noopener noreferrer">Cross-compilation Environment Deployment</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q1-how-to-installcross-compile-and-use-third-party-libraries-on-rdk">Q1: How to install/cross-compile and use third-party libraries on RDK?<a href="#q1-how-to-installcross-compile-and-use-third-party-libraries-on-rdk" class="hash-link" aria-label="Direct link to Q1: How to install/cross-compile and use third-party libraries on RDK?" title="Direct link to Q1: How to install/cross-compile and use third-party libraries on RDK?">​</a></h3>
<p><strong>A:</strong></p>
<ul>
<li><strong>Direct installation on the board:</strong> If the third-party library provides a precompiled package for ARM architecture (such as a <code>.deb</code> file), or can be installed directly via a package manager (like <code>apt</code>), you can install it directly on the RDK board. For Python libraries, if there is a corresponding arm64 wheels package on Pypi, you can also use <code>pip install</code> directly.</li>
<li><strong>Cross-compilation:</strong> If the third-party library needs to be compiled from source, it is recommended to cross-compile on the PC development host and then deploy the compiled artifacts to the RDK board.<!-- -->
<ul>
<li><strong>Environment setup:</strong> For detailed steps on setting up the cross-compilation environment, please refer to the tutorial on the Horizon Developer Community: <a href="https://developer.d-robotics.cc/forumDetail/112555549341653662" target="_blank" rel="noopener noreferrer">Cross-compilation Environment Deployment</a></li>
<li><strong>Compilation steps:</strong> Usually, you need to configure a CMake Toolchain file, specify the cross-compiler, target system Sysroot, etc.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q2-when-compiling-large-programs-such-as-c-projects-or-ros-packages-if-the-system-prompts-that-the-compilation-process-is-killed-or-there-are-error-logs-related-to-insufficient-memory-how-to-solve-it">Q2: When compiling large programs (such as C++ projects or ROS packages), if the system prompts that the compilation process is &quot;killed&quot; or there are error logs related to insufficient memory, how to solve it?<a href="#q2-when-compiling-large-programs-such-as-c-projects-or-ros-packages-if-the-system-prompts-that-the-compilation-process-is-killed-or-there-are-error-logs-related-to-insufficient-memory-how-to-solve-it" class="hash-link" aria-label="Direct link to Q2: When compiling large programs (such as C++ projects or ROS packages), if the system prompts that the compilation process is &quot;killed&quot; or there are error logs related to insufficient memory, how to solve it?" title="Direct link to Q2: When compiling large programs (such as C++ projects or ROS packages), if the system prompts that the compilation process is &quot;killed&quot; or there are error logs related to insufficient memory, how to solve it?">​</a></h3>
<p><strong>A:</strong> When compiling large projects, if physical memory is insufficient, the Linux OOM (Out Of Memory) killer may kill the process that consumes the most memory (usually compiler processes like <code>cc1plus</code>, <code>ld</code>, etc.), causing the compilation to fail.
<strong>Solution:</strong> Increase the system&#x27;s swap space. Swap is an area on the hard disk that the system can use to temporarily store less frequently used memory data when physical memory is insufficient, thus freeing up physical memory for current tasks. Although swap is slower than physical memory, it can effectively prevent compilation failures due to temporary memory shortages.</p>
<p><strong>Example steps to add 1GB swap space:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 1. (Optional) Create a directory to store the swap file, or create it in the root directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo mkdir -p /swapfile_custom_dir </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd /swapfile_custom_dir</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2. Create an empty file of the specified size (bs=1M means block size is 1MB, count=1024 means 1024 blocks, i.e., 1GB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo dd if=/dev/zero of=swap bs=1M count=1024 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 3. Set correct file permissions (only root can read/write)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo chmod 0600 swap </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 4. Format the file as swap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo mkswap -f swap </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 5. Enable the swap partition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo swapon swap </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 6. Verify if swap is enabled (shows total and used swap)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">free -h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">swapon --show</span><br></span></code></pre></div></div>
<p><strong>To enable swap at boot (optional but recommended):</strong>
Edit the <code>/etc/fstab</code> file and add the following line at the end (assuming your swap file path is <code>/swapfile_custom_dir/swap</code>):</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/swapfile_custom_dir/swap none swap sw 0 0</span><br></span></code></pre></div></div>
<p><strong>Reference tutorial:</strong> <a href="https://developer.d-robotics.cc/forumDetail/98129467158916281" target="_blank" rel="noopener noreferrer">Swap Usage Tutorial</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q3-how-to-run-the-gc4633-mipi-camera-sample-program">Q3: How to run the GC4633 MIPI camera sample program?<a href="#q3-how-to-run-the-gc4633-mipi-camera-sample-program" class="hash-link" aria-label="Direct link to Q3: How to run the GC4633 MIPI camera sample program?" title="Direct link to Q3: How to run the GC4633 MIPI camera sample program?">​</a></h3>
<p><strong>A:</strong> Horizon officially provides AI algorithm samples (such as FCOS object detection) based on common MIPI cameras (such as F37, GC4663). These samples usually automatically detect the connected camera model and perform algorithm inference.</p>
<p><strong>Example steps (using <code>/app/ai_inference/03_mipi_camera_sample</code> as an example):</strong></p>
<ol>
<li>Make sure the GC4663 (or other compatible MIPI camera) is properly connected to the RDK board&#x27;s MIPI CSI interface and the board is powered on.</li>
<li>Log in to the board system via SSH or serial port.</li>
<li>Enter the directory where the sample program is located:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd /app/ai_inference/03_mipi_camera_sample </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Note: The specific path may vary depending on the RDK system version and image content.</span><br></span></code></pre></div></div>
</li>
<li>Run the Python sample script with <code>sudo</code>:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo python3 mipi_camera.py</span><br></span></code></pre></div></div>
</li>
<li>If the sample is designed to output via HDMI, make sure the RDK board&#x27;s HDMI interface is connected to a monitor. After running, you should see the real-time image captured by the camera and the AI algorithm results (such as detection boxes, classification labels, etc.) on the monitor.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q4-when-using-rqt_image_view-to-view-rgb888-raw-images-published-by-rdk-via-ros-it-feels-very-laggy-or-even-unable-to-receive-images-what-is-the-reason">Q4: When using <code>rqt_image_view</code> to view RGB888 RAW images published by RDK via ROS, it feels very laggy or even unable to receive images. What is the reason?<a href="#q4-when-using-rqt_image_view-to-view-rgb888-raw-images-published-by-rdk-via-ros-it-feels-very-laggy-or-even-unable-to-receive-images-what-is-the-reason" class="hash-link" aria-label="Direct link to q4-when-using-rqt_image_view-to-view-rgb888-raw-images-published-by-rdk-via-ros-it-feels-very-laggy-or-even-unable-to-receive-images-what-is-the-reason" title="Direct link to q4-when-using-rqt_image_view-to-view-rgb888-raw-images-published-by-rdk-via-ros-it-feels-very-laggy-or-even-unable-to-receive-images-what-is-the-reason">​</a></h3>
<p><strong>A:</strong> This problem is usually related to the configuration of the ROS2 middleware DDS and network transmission efficiency, especially when transmitting uncompressed large-size raw image data.</p>
<ul>
<li><strong>Analysis:</strong>
<ul>
<li>The default FastDDS may not implement effective MTU (Maximum Transmission Unit) fragmentation at the UDP protocol layer. When the published image data packet size exceeds the MTU on the network path, the IP layer will fragment it.</li>
<li>A large number of IP fragments can be a heavy burden for many common routers, switches, or network cards, possibly leading to insufficient buffering for all fragments.</li>
<li>In UDP transmission, if any IP fragment is lost, the entire UDP packet (i.e., the entire image frame) is usually discarded, or needs to wait for retransmission (if the upper layer has such a mechanism, but ROS image topics usually do not guarantee reliable transmission), which can cause severe lag or image loss. This is sometimes referred to as an &quot;IP fragmentation attack&quot;-like phenomenon, i.e., a large number of fragments causing network congestion and packet loss.</li>
</ul>
</li>
<li><strong>Solutions:</strong>
<ol>
<li><strong>Switch DDS implementation:</strong> Try switching the ROS2 RMW (ROS Middleware) implementation from the default <code>rmw_fastrtps_cpp</code> to <code>rmw_cyclonedds_cpp</code>. CycloneDDS sometimes performs better in handling large data packets and network fragmentation.
In the terminal, run the following command to switch DDS (only effective for the current terminal session, or add to <code>.bashrc</code>):<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export RMW_IMPLEMENTATION=rmw_cyclonedds_cpp</span><br></span></code></pre></div></div>
<!-- -->Then restart your ROS nodes.</li>
<li><strong>Reduce transmission data volume:</strong>
<ul>
<li><strong>Send compressed images:</strong> Consider compressing the raw image (such as RGB888) to JPEG or PNG format on the RDK board before publishing via ROS topic. This will significantly reduce the data volume per frame. You can subscribe to the compressed image topic on the PC and use <code>rqt_image_view</code> (or a custom node) to decompress and display.</li>
<li><strong>Reduce resolution or frame rate:</strong> If the application allows, appropriately reducing the published image resolution or frame rate can also effectively reduce network load.</li>
</ul>
</li>
</ol>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q5-does-the-linux-image-provided-by-horizon-specifically-the-minimal-system-not-the-full-ubuntu-desktopserver-support-direct-compilation-on-the-board">Q5: Does the Linux image provided by Horizon (specifically the minimal system, not the full Ubuntu Desktop/Server) support direct compilation on the board?<a href="#q5-does-the-linux-image-provided-by-horizon-specifically-the-minimal-system-not-the-full-ubuntu-desktopserver-support-direct-compilation-on-the-board" class="hash-link" aria-label="Direct link to Q5: Does the Linux image provided by Horizon (specifically the minimal system, not the full Ubuntu Desktop/Server) support direct compilation on the board?" title="Direct link to Q5: Does the Linux image provided by Horizon (specifically the minimal system, not the full Ubuntu Desktop/Server) support direct compilation on the board?">​</a></h3>
<p><strong>A:</strong> Some Linux images provided by Horizon for RDK, especially those with a minimal rootfs (root filesystem) for embedded deployment, may <strong>not include</strong> a complete compilation toolchain (such as GCC, G++, make, CMake, etc.) and the required header files and libraries.</p>
<ul>
<li><strong>Conclusion:</strong> Such minimal Linux images usually <strong>cannot or are not suitable</strong> for complex source code compilation directly on the board.</li>
<li><strong>Recommended practice:</strong> For applications that need to run on RDK, it is recommended to use <strong>cross-compilation</strong>. That is, configure a cross-compilation environment for the RDK target platform on a PC development host (such as Ubuntu PC), complete the compilation on the PC, and then deploy the generated executables and dependencies to the RDK board.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q6-how-to-run-the-official-manual-examples-usually-demonstrated-in-ubuntu-system-environment-on-the-minimal-linux-image-provided-by-horizon">Q6: How to run the official manual examples (usually demonstrated in Ubuntu system environment) on the minimal Linux image provided by Horizon?<a href="#q6-how-to-run-the-official-manual-examples-usually-demonstrated-in-ubuntu-system-environment-on-the-minimal-linux-image-provided-by-horizon" class="hash-link" aria-label="Direct link to Q6: How to run the official manual examples (usually demonstrated in Ubuntu system environment) on the minimal Linux image provided by Horizon?" title="Direct link to Q6: How to run the official manual examples (usually demonstrated in Ubuntu system environment) on the minimal Linux image provided by Horizon?">​</a></h3>
<p><strong>A:</strong> The official manual examples (especially TROS/ROS-related examples) are usually demonstrated in a more complete Ubuntu system environment. To run these examples (especially C++ ROS nodes) on a minimal Linux image (which may not have a pre-installed Python interpreter or a complete ROS environment), some adjustments are needed:</p>
<ul>
<li>
<p><strong>Differences between Ubuntu system and Linux image when starting examples:</strong></p>
<ul>
<li><strong>Environment configuration:</strong>
<ul>
<li><strong>Ubuntu system:</strong> Usually uses <code>source /opt/tros/setup.bash</code> (or the corresponding ROS version&#x27;s setup.bash) to configure the TROS/ROS environment, which sets many environment variables (such as <code>PATH</code>, <code>LD_LIBRARY_PATH</code>, <code>AMENT_PREFIX_PATH</code>, etc.).</li>
<li><strong>Linux image:</strong> You may need to manually set key environment variables, especially <code>LD_LIBRARY_PATH</code> to ensure the program can find the required shared libraries. The log path <code>ROS_LOG_DIR</code> may also need to be manually set to a writable location.</li>
</ul>
</li>
<li><strong>Copying configuration files:</strong> In either system, you usually need to copy the configuration files (such as model configs, parameter files, etc.) required by the example from the TROS/ROS installation path to the current working directory or a specified path before running the example.</li>
<li><strong>Startup method:</strong>
<ul>
<li><strong>Ubuntu system:</strong> Commonly uses <code>ros2 run &lt;package_name&gt; &lt;executable_name&gt;</code> or <code>ros2 launch &lt;package_name&gt; &lt;launch_file_name&gt;</code> to start nodes or launch files.</li>
<li><strong>Linux image:</strong> Since there may not be a complete <code>ros2</code> CLI tool or launch system, you usually need to run the compiled C++ executable directly and pass parameters via command line arguments.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Convert launch script content to direct execution commands on Linux image (using a C++ <code>dnn_node_example</code> as an example):</strong></p>
<ol>
<li>
<p><strong>Analyze the startup command on Ubuntu:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Ubuntu: Configure tros.b environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source /opt/tros/setup.bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Ubuntu: Copy the config files required by the example from the tros.b installation path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp -r /opt/tros/${TROS_DISTRO}/lib/dnn_node_example/config/ .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Ubuntu: Use a local jpg image for inference and store the rendered image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 launch dnn_node_example dnn_node_example_feedback.launch.py</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>Find and analyze the launch script:</strong></p>
<ul>
<li><strong>Find the launch script path:</strong>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># find /opt/tros/ -name dnn_node_example_feedback.launch.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/opt/tros/share/dnn_node_example/launch/dnn_node_example_feedback.launch.py</span><br></span></code></pre></div></div>
</li>
<li><strong>View the launch script content (Python launch file):</strong>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># dnn_node_example_feedback.launch.py (main content excerpt)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">generate_launch_description</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    config_file_launch_arg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> DeclareLaunchArgument</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;dnn_example_config_file&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> default_value</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">TextSubstitution</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">text</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;config/fcosworkconfig.json&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    img_file_launch_arg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> DeclareLaunchArgument</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;dnn_example_image&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> default_value</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">TextSubstitution</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">text</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;config/test.jpg&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> LaunchDescription</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        config_file_launch_arg</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        img_file_launch_arg</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Node</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            package</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;dnn_node_example&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            executable</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;example&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Executable name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            output</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;screen&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            parameters</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;feed_type&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;config_file&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> LaunchConfiguration</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;dnn_example_config_file&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;image&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> LaunchConfiguration</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;dnn_example_image&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;image_type&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;dump_render_img&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            arguments</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;--ros-args&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;--log-level&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;info&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
</li>
</ul>
<p>From the launch script, we know it starts the <code>example</code> executable in the <code>dnn_node_example</code> package and passes a series of parameters.</p>
</li>
<li>
<p><strong>Find the executable path:</strong>
In the TROS installation path, find the executable:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># find /opt/tros/ -name example -executable -type f </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Usually located at /opt/tros/${TROS_DISTRO}/lib/&lt;package_name&gt;/&lt;executable_name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Example: /opt/tros/humble/lib/dnn_node_example/example </span><br></span></code></pre></div></div>
<p>(Assume <code>TROS_DISTRO</code> is not set on the Linux image, you need to know the actual distro name, such as <code>humble</code> or <code>foxy</code>)</p>
</li>
<li>
<p><strong>Construct the startup command on the Linux image:</strong></p>
<ul>
<li><strong>Configure environment:</strong>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Assume TROS libraries are in /opt/tros/humble/lib (adjust as needed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:/opt/tros/humble/lib/ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Specify a writable log directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export ROS_LOG_DIR=/userdata/  # or /tmp/roslogs/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p $ROS_LOG_DIR</span><br></span></code></pre></div></div>
</li>
<li><strong>Copy config files:</strong> (same as on Ubuntu)<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># For humble version:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp -r /opt/tros/humble/lib/dnn_node_example/config/ .</span><br></span></code></pre></div></div>
</li>
<li><strong>Run the executable and pass parameters:</strong>
ROS2 node parameters are usually passed as <code>--ros-args -p &lt;param_name&gt;:=&lt;param_value&gt;</code>.<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/opt/tros/humble/lib/dnn_node_example/example \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --ros-args \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -p feed_type:=0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -p config_file:=&quot;config/fcosworkconfig.json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -p image:=&quot;config/test.jpg&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -p image_type:=0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -p dump_render_img:=1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --log-level info</span><br></span></code></pre></div></div>
</li>
</ul>
</li>
</ol>
<ul>
<li><strong>A complete example script for running on the Linux image:</strong>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 1. Configure environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Adjust according to actual TROS version and installation path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TROS_DISTRO_NAME=&quot;humble&quot; # or &quot;foxy&quot;, etc.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TROS_INSTALL_LIB_DIR=&quot;/opt/tros/${TROS_DISTRO_NAME}/lib&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:${TROS_INSTALL_LIB_DIR}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export ROS_LOG_DIR=/userdata/ros_logs_$(date +%s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p $ROS_LOG_DIR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;ROS logs will be stored in $ROS_LOG_DIR&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2. Prepare working directory and config files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORK_DIR=&quot;/tmp/dnn_example_run_$(date +%s)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p $WORK_DIR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd $WORK_DIR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;Working directory: $(pwd)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG_SOURCE_DIR=&quot;${TROS_INSTALL_LIB_DIR}/dnn_node_example/config&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if [ -d &quot;$CONFIG_SOURCE_DIR&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;Copying config files from $CONFIG_SOURCE_DIR to $(pwd)/config&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mkdir -p config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cp -r $CONFIG_SOURCE_DIR/* ./config/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;Error: Config source directory $CONFIG_SOURCE_DIR not found.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exit 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 3. Run the executable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EXECUTABLE_PATH=&quot;${TROS_INSTALL_LIB_DIR}/dnn_node_example/example&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if [ ! -f &quot;$EXECUTABLE_PATH&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;Error: Executable $EXECUTABLE_PATH not found.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exit 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;Starting DNN example...&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$EXECUTABLE_PATH \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --ros-args \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -p feed_type:=0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -p config_file:=&quot;config/fcosworkconfig.json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -p image:=&quot;config/test.jpg&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -p image_type:=0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -p dump_render_img:=1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --log-level info</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;DNN example finished. Check $WORK_DIR for output and $ROS_LOG_DIR for logs.&quot;</span><br></span></code></pre></div></div>
</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><ul>
<li>Besides using the <code>ROS_LOG_DIR</code> environment variable to set the log path, you can also use the startup parameter <code>--ros-args --disable-external-lib-logs</code> to disable node logging to files and print logs directly to the console.
For example:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$EXECUTABLE_PATH --ros-args --disable-external-lib-logs \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -p feed_type:=0 -p image_type:=0 -p dump_render_img:=1 </span><br></span></code></pre></div></div>
</li>
<li>For detailed ROS2 logging instructions, see: <a href="https://docs.ros.org/en/humble/Concepts/Intermediate/About-Logging.html" target="_blank" rel="noopener noreferrer">ROS2 Official Docs - About Logging</a></li>
</ul></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q7-how-to-quickly-find-the-specific-path-of-a-launch-script-file-in-rostros">Q7: How to quickly find the specific path of a launch script file in ROS/TROS?<a href="#q7-how-to-quickly-find-the-specific-path-of-a-launch-script-file-in-rostros" class="hash-link" aria-label="Direct link to Q7: How to quickly find the specific path of a launch script file in ROS/TROS?" title="Direct link to Q7: How to quickly find the specific path of a launch script file in ROS/TROS?">​</a></h3>
<p><strong>A:</strong> If you know the name of a launch script (such as <code>dnn_node_example.launch.py</code>) but need to modify or view its content, you can use the <code>find</code> command under the TROS installation path on the RDK board (usually <code>/opt/tros/</code>).</p>
<p><strong>Example:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Find the file named dnn_node_example.launch.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">find /opt/tros/ -name dnn_node_example.launch.py</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q8-cross-compiling-the-full-source-code-of-togetherosbot-trosb-is-very-slow-how-can-i-speed-it-up">Q8: Cross-compiling the full source code of TogetheROS.Bot (tros.b) is very slow. How can I speed it up?<a href="#q8-cross-compiling-the-full-source-code-of-togetherosbot-trosb-is-very-slow-how-can-i-speed-it-up" class="hash-link" aria-label="Direct link to Q8: Cross-compiling the full source code of TogetheROS.Bot (tros.b) is very slow. How can I speed it up?" title="Direct link to Q8: Cross-compiling the full source code of TogetheROS.Bot (tros.b) is very slow. How can I speed it up?">​</a></h3>
<p><strong>A:</strong> Compiling all packages of tros.b does take a long time (for example, about 20 minutes on an 8-core CPU, 32GB RAM PC). Here are two ways to speed up compilation:</p>
<ol>
<li>
<p><strong>Use the minimal build script:</strong></p>
<ul>
<li>The tros.b build scripts provided by Horizon usually include a <code>minimal_build.sh</code> option in addition to <code>all_build.sh</code> (full build).</li>
<li>Minimal build usually skips compiling algorithm examples and test cases, significantly reducing build time.</li>
<li><strong>Usage:</strong> In your cross-compilation configuration steps, replace the original <code>./robot_dev_config/all_build.sh</code> command with <code>./robot_dev_config/minimal_build.sh</code>.</li>
</ul>
</li>
<li>
<p><strong>Manually ignore unnecessary packages:</strong></p>
<ul>
<li>Colcon (the ROS2 build tool) supports ignoring a package by placing an empty file named <code>COLCON_IGNORE</code> in the source directory of that package.</li>
<li><strong>Steps:</strong>
<ol>
<li>Identify which packages you don&#x27;t need. These packages&#x27; source code is usually downloaded to the <code>src/</code> directory before compilation via a <code>.repos</code> file (such as <code>robot_dev_config/ros2_release.repos</code>).</li>
<li>Check the <code>.repos</code> file to find the source path of the package you want to ignore. For example:<!-- -->
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">ament/google_benchmark_vendor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//github.com/ament/google_benchmark_vendor.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 0.0.7</span><br></span></code></pre></div></div>
<!-- -->This means the <code>google_benchmark_vendor</code> package source will be downloaded to <code>src/ament/google_benchmark_vendor/</code>.</li>
<li>Create an empty <code>COLCON_IGNORE</code> file in the package&#x27;s source root directory:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">touch src/ament/google_benchmark_vendor/COLCON_IGNORE</span><br></span></code></pre></div></div>
</li>
<li>When you run <code>colcon build</code> next time, this package will be skipped. You can do this for multiple packages.</li>
</ol>
</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q9-after-installing-the-official-trosb-on-the-rdk-board-can-i-still-install-and-use-other-versions-of-ros-such-as-ros1-or-different-ros2-distributions">Q9: After installing the official tros.b on the RDK board, can I still install and use other versions of ROS (such as ROS1 or different ROS2 distributions)?<a href="#q9-after-installing-the-official-trosb-on-the-rdk-board-can-i-still-install-and-use-other-versions-of-ros-such-as-ros1-or-different-ros2-distributions" class="hash-link" aria-label="Direct link to Q9: After installing the official tros.b on the RDK board, can I still install and use other versions of ROS (such as ROS1 or different ROS2 distributions)?" title="Direct link to Q9: After installing the official tros.b on the RDK board, can I still install and use other versions of ROS (such as ROS1 or different ROS2 distributions)?">​</a></h3>
<p><strong>A:</strong> <strong>Yes.</strong></p>
<ul>
<li>
<p>After installing Horizon&#x27;s tros.b (e.g., based on ROS2 Humble) on the RDK board, you can still try to install other versions of ROS, including ROS1 (such as Noetic, Melodic) or other ROS2 distributions (such as Foxy, Galactic, etc., if they support ARM64 and you can find or build the packages).</p>
</li>
<li>
<p>Different ROS versions can coexist on the system, usually installed in different paths (e.g., ROS1 in <code>/opt/ros/noetic/</code>, ROS2 Humble in <code>/opt/ros/humble/</code>, tros.b may be in <code>/opt/tros/humble/</code>).</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span><strong>Important Note</strong></div><div class="admonitionContent_BuS1"><p><strong>Only one ROS version can be sourced in a single terminal session!</strong></p><ul>
<li>If you run <code>source /opt/tros/humble/setup.bash</code> in a terminal to activate tros.b (Humble), you <strong>cannot</strong> source another ROS version (such as <code>source /opt/ros/foxy/setup.bash</code> or <code>source /opt/ros/noetic/setup.bash</code>) in the same terminal, and vice versa.</li>
<li>Sourcing multiple ROS versions in the same session will cause environment variable conflicts (<code>PATH</code>, <code>LD_LIBRARY_PATH</code>, <code>PYTHONPATH</code>, <code>AMENT_PREFIX_PATH</code>, <code>ROS_PACKAGE_PATH</code>, etc.), leading to abnormal ROS commands and program behavior.</li>
<li>If you need to switch between different ROS versions, open a separate terminal session for each version and source the corresponding <code>setup.bash</code> file.</li>
</ul></div></div>
</li>
<li>
<p><strong>tros.b and ROS2 Foxy/Humble compatibility:</strong></p>
<ul>
<li>Horizon&#x27;s tros.b is usually built and optimized based on a specific ROS2 LTS version (such as Foxy or Humble) and maintains API compatibility. This means if your tros.b is based on Humble, you can usually use tools and libraries developed for standard ROS2 Humble directly, without installing ROS2 Humble separately (unless you need specific tools from the full ROS2 Desktop not included in tros.b).</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q10-when-compiling-a-ros2-package-with-colcon-build-an-error-attributeerror-module-pyparsing-has-no-attribute-operatorprecedence-occurs-how-to-solve-it">Q10: When compiling a ROS2 package with <code>colcon build</code>, an error <code>AttributeError: module &#x27;pyparsing&#x27; has no attribute &#x27;operatorPrecedence&#x27;</code> occurs. How to solve it?<a href="#q10-when-compiling-a-ros2-package-with-colcon-build-an-error-attributeerror-module-pyparsing-has-no-attribute-operatorprecedence-occurs-how-to-solve-it" class="hash-link" aria-label="Direct link to q10-when-compiling-a-ros2-package-with-colcon-build-an-error-attributeerror-module-pyparsing-has-no-attribute-operatorprecedence-occurs-how-to-solve-it" title="Direct link to q10-when-compiling-a-ros2-package-with-colcon-build-an-error-attributeerror-module-pyparsing-has-no-attribute-operatorprecedence-occurs-how-to-solve-it">​</a></h3>
<p><strong>A:</strong> This error is usually caused by an outdated version of <code>python3-catkin-pkg</code> (a Python library for parsing ROS package.xml files), which is incompatible with the installed version of <code>pyparsing</code>, or due to incomplete functionality in <code>python3-catkin-pkg</code>.</p>
<p><strong>Solution:</strong> Try upgrading <code>python3-catkin-pkg</code> to a newer version provided by the official ROS repository.</p>
<p><strong>Steps:</strong></p>
<ol>
<li>
<p><strong>Add the official ROS APT repository</strong> (if not already added):</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt update &amp;&amp; sudo apt install curl gnupg2 lsb-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key -o /usr/share/keyrings/ros-archive-keyring.gpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu $(source /etc/os-release &amp;&amp; echo $UBUNTU_CODENAME) main&quot; | sudo tee /etc/apt/sources.list.d/ros2.list &gt; /dev/null</span><br></span></code></pre></div></div>
<p>Note: <code>$(source /etc/os-release &amp;&amp; echo $UBUNTU_CODENAME)</code> automatically gets your Ubuntu codename (e.g., <code>focal</code> for 20.04, <code>jammy</code> for 22.04).</p>
</li>
<li>
<p><strong>Remove the old version of <code>python3-catkin-pkg</code></strong> (optional, but sometimes helps for a clean install):</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt remove python3-catkin-pkg</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>Update APT cache and install the new version of <code>python3-catkin-pkg</code>:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install python3-catkin-pkg</span><br></span></code></pre></div></div>
</li>
<li>
<p>After installation/upgrade, try running <code>colcon build</code> again.</p>
</li>
</ol>
<p>If the problem persists, you may also need to check the version of the <code>pyparsing</code> library and ensure it is compatible with the new <code>python3-catkin-pkg</code>. Sometimes you may need to manage the <code>pyparsing</code> version via <code>pip</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q11-how-to-check-the-version-information-of-trosb">Q11: How to check the version information of tros.b?<a href="#q11-how-to-check-the-version-information-of-trosb" class="hash-link" aria-label="Direct link to Q11: How to check the version information of tros.b?" title="Direct link to Q11: How to check the version information of tros.b?">​</a></h3>
<p><strong>A:</strong> After installing tros.b, log in to the RDK system and use the following command to check the version information of the tros.b meta-package, which usually represents the base version of the entire tros.b distribution:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apt show tros</span><br></span></code></pre></div></div>
<p><strong>Example output (RDK OS 2.x, tros.b 2.0.0):</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Package: tros</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Version: 2.0.0-20230523223852</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Maintainer: kairui.wang &lt;kairui.wang@horizon.ai&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Installed-Size: unknown</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Depends: hobot-models-basic, tros-ros-base, tros-ai-msgs, ... (many dependencies)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Download-Size: 980 B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APT-Manual-Installed: yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APT-Sources: http://archive.d-robotics.cc/ubuntu-rdk focal/main arm64 Packages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Description: TogetheROS Bot</span><br></span></code></pre></div></div>
<p><strong>Example output (RDK OS 1.x, tros.b 1.1.6):</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Package: tros</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Version: 1.1.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Section: utils</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Maintainer: kairui.wang &lt;kairui.wang@horizon.ai&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Installed-Size: 1,536 MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pre-Depends: hhp-verify</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Depends: symlinks, locales, hhp-verify, hobot-models-basic, hobot-arm64-libs (&gt;= 1.1.6)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Apt-Sources: http://archive.d-robotics.cc/ubuntu-ports focal/main arm64 Packages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Date: 2023</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q12-what-are-the-main-notes-and-differences-between-horizon-trosb-1x-and-2x-and-newer-versions">Q12: What are the main notes and differences between Horizon tros.b 1.x and 2.x (and newer) versions?<a href="#q12-what-are-the-main-notes-and-differences-between-horizon-trosb-1x-and-2x-and-newer-versions" class="hash-link" aria-label="Direct link to Q12: What are the main notes and differences between Horizon tros.b 1.x and 2.x (and newer) versions?" title="Direct link to Q12: What are the main notes and differences between Horizon tros.b 1.x and 2.x (and newer) versions?">​</a></h3>
<p><strong>A:</strong></p>
<ul>
<li>
<p><strong>Correspondence with system version and RDK hardware:</strong></p>
<ul>
<li><strong>2.x tros.b (and later, such as 3.x):</strong>
<ul>
<li>Usually only supports the corresponding major version of RDK OS (e.g., tros.b 2.x supports RDK OS 2.x).</li>
<li>Supports newer hardware such as RDK X3, RDK X3 Module, etc.</li>
<li>New features and main maintenance will focus on these newer versions.</li>
<li>Code is usually hosted under the <code>D-Robotics</code> organization on GitHub.</li>
</ul>
</li>
<li><strong>1.x tros.b:</strong>
<ul>
<li>Historical version.</li>
<li>Only supports earlier 1.x RDK OS and specific RDK hardware (such as early RDK X3).</li>
<li>Future 1.x versions may only receive critical fixes, with no new features.</li>
<li>Code was once hosted on GitLab or other internal platforms.</li>
<li>Reference link (historical version docs): <a href="https://developer.d-robotics.cc/api/v1/fileData/TogetherROS/index.html" target="_blank" rel="noopener noreferrer">1.x tros.b Documentation</a></li>
</ul>
</li>
</ul>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span><strong>Note</strong></div><div class="admonitionContent_BuS1"><p>1.x tros.b <strong>cannot</strong> be upgraded directly to 2.x or newer via <code>apt</code>. To use the new version, you must first upgrade the entire RDK board OS to a version that supports the new tros.b by flashing the image, then install the corresponding tros.b version.
See: <a href="/rdk_doc/en/Quick_start/install_os/rdk_x3">Install the corresponding board OS</a> (replace with the actual valid doc path)</p></div></div>
</li>
<li>
<p><strong>Feature differences:</strong></p>
<ul>
<li>The core ROS2 functionality is the same between compatible versions.</li>
<li>Horizon&#x27;s hardware-optimized features, new specific packages, and the latest AI algorithm support are usually prioritized or only provided in 2.x and newer tros.b versions.</li>
</ul>
</li>
<li>
<p><strong>Package management differences:</strong></p>
<ul>
<li><strong>1.x tros.b:</strong> May use a large monolithic installation package.</li>
<li><strong>2.x tros.b (and newer):</strong> Usually splits tros.b into multiple finer-grained Debian packages (such as <code>tros-ros-base</code>, <code>tros-dnn-node</code>, <code>tros-mipi-cam</code>, etc.), allowing users to install as needed. For developers, installing via <code>apt install tros</code> (meta-package) or <code>apt install &lt;specific_tros_package&gt;</code> is similar.</li>
</ul>
</li>
<li>
<p><strong>Usage differences:</strong></p>
<ul>
<li><strong>apt installation and upgrade:</strong> The basic <code>apt</code> command usage is similar, but the repository and package names may differ.</li>
<li><strong>Source compilation:</strong> The compilation process and tools (such as Colcon) are basically the same, but the underlying ROS2 version and specific library versions may differ.</li>
<li><strong>Example launch scripts:</strong> In 2.x and newer tros.b, example launch script names, parameters, dependencies, etc., may be optimized and adjusted, and are not fully compatible with 1.x. Always refer to the manual for your tros.b version.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q13-when-accessing-a-web-service-running-on-rdk-such-as-a-tros-websocket-visualization-example-via-a-web-browser-eg-chrome-edge-firefox-using-ip-and-port-eg-httprdk_ip8000-the-page-fails-to-open-what-could-be-the-reason">Q13: When accessing a web service running on RDK (such as a TROS Websocket visualization example) via a web browser (e.g., Chrome, Edge, Firefox) using IP and port (e.g., <code>http://&lt;RDK_IP&gt;:8000</code>), the page fails to open. What could be the reason?<a href="#q13-when-accessing-a-web-service-running-on-rdk-such-as-a-tros-websocket-visualization-example-via-a-web-browser-eg-chrome-edge-firefox-using-ip-and-port-eg-httprdk_ip8000-the-page-fails-to-open-what-could-be-the-reason" class="hash-link" aria-label="Direct link to q13-when-accessing-a-web-service-running-on-rdk-such-as-a-tros-websocket-visualization-example-via-a-web-browser-eg-chrome-edge-firefox-using-ip-and-port-eg-httprdk_ip8000-the-page-fails-to-open-what-could-be-the-reason" title="Direct link to q13-when-accessing-a-web-service-running-on-rdk-such-as-a-tros-websocket-visualization-example-via-a-web-browser-eg-chrome-edge-firefox-using-ip-and-port-eg-httprdk_ip8000-the-page-fails-to-open-what-could-be-the-reason">​</a></h3>
<p><strong>A:</strong> If the browser cannot open the web page hosted on RDK, possible reasons include:</p>
<ul>
<li>
<p><strong>Nginx service conflict or not started correctly (for some web examples that depend on Nginx):</strong></p>
<ul>
<li><strong>Reason:</strong> If Nginx is already running on the RDK board (e.g., started by another application or a previous web demo), starting a new web example that also wants to use Nginx (or a specific port) may fail due to Nginx already running or the port being occupied.</li>
<li><strong>Solution:</strong>
<ol>
<li><strong>Check and stop existing Nginx processes:</strong> SSH into the RDK board, use <code>ps aux | grep nginx</code> to check for Nginx processes. If found, try <code>sudo systemctl stop nginx</code> (if it&#x27;s a systemd service) or <code>sudo pkill nginx</code> to stop them.</li>
<li><strong>Reboot the RDK board:</strong> A simple but effective way to ensure all old service processes are closed.</li>
<li>Then rerun your target web example.</li>
</ol>
</li>
</ul>
</li>
<li>
<p><strong>Network connection issues:</strong></p>
<ul>
<li>Make sure your PC and the RDK board are on the same LAN and the network is smooth (PC can ping the RDK IP).</li>
<li>Check if the RDK board&#x27;s IP address is correct.</li>
</ul>
</li>
<li>
<p><strong>Firewall issues:</strong></p>
<ul>
<li>The firewall on the PC or in the network may block access to the RDK board&#x27;s target port (such as 8000). Check and configure firewall rules to allow communication on that port.</li>
<li>The RDK board&#x27;s own firewall (such as <code>ufw</code>, though usually not enabled by default) may also block external access if misconfigured.</li>
</ul>
</li>
<li>
<p><strong>Web service not started or listening error:</strong></p>
<ul>
<li>SSH into the RDK board and check if the web service you expect to run (such as TROS&#x27;s <code>hobot_websocket</code> node or other Python HTTP servers) has actually started and is listening on the expected IP and port.</li>
<li>Check the service&#x27;s log output for errors.</li>
<li>Use <code>netstat -tulnp | grep &lt;port&gt;</code> (e.g., <code>netstat -tulnp | grep 8000</code>) on the board to check if the port is in LISTEN state.</li>
</ul>
</li>
<li>
<p><strong>Browser cache or proxy issues:</strong></p>
<ul>
<li>Try clearing the browser cache or using incognito/private mode.</li>
<li>If your PC uses a proxy server, check if the proxy settings affect direct access to LAN IPs.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q14-when-accessing-the-tros-websocket-visualization-example-via-a-web-browser-only-the-camera-image-is-displayed-but-no-ai-perception-results-such-as-detection-boxes-keypoints-etc-are-rendered-what-is-the-reason">Q14: When accessing the TROS Websocket visualization example via a web browser, only the camera image is displayed, but no AI perception results (such as detection boxes, keypoints, etc.) are rendered. What is the reason?<a href="#q14-when-accessing-the-tros-websocket-visualization-example-via-a-web-browser-only-the-camera-image-is-displayed-but-no-ai-perception-results-such-as-detection-boxes-keypoints-etc-are-rendered-what-is-the-reason" class="hash-link" aria-label="Direct link to Q14: When accessing the TROS Websocket visualization example via a web browser, only the camera image is displayed, but no AI perception results (such as detection boxes, keypoints, etc.) are rendered. What is the reason?" title="Direct link to Q14: When accessing the TROS Websocket visualization example via a web browser, only the camera image is displayed, but no AI perception results (such as detection boxes, keypoints, etc.) are rendered. What is the reason?">​</a></h3>
<p><strong>A:</strong> If the Websocket visualization page shows the image but no AI results, it usually means the image data stream is working, but the AI result data stream may have issues, or the frontend rendering logic is not triggered correctly.</p>
<ol>
<li>
<p><strong>Check Web Node startup command parameters:</strong></p>
<ul>
<li>Many TROS Websocket nodes (such as <code>hobot_websocket</code>) can control whether to render AI perception results via parameters at startup. Carefully check your launch command to ensure relevant parameters (such as <code>display_ai_results:=true</code> or <code>render_perception:=true</code>) are set to enable perception result rendering.</li>
<li>For specific parameter names and usage, see the corresponding Websocket package&#x27;s README or launch file. For example: <a href="https://github.com/D-Robotics/hobot_websocket#%E5%8F%82%E6%95%B0" target="_blank" rel="noopener noreferrer">hobot_websocket README Parameters</a></li>
</ul>
</li>
<li>
<p><strong>Check the Web Node startup terminal logs:</strong></p>
<ul>
<li>In the terminal where you started the Websocket node on the RDK board, check for any ERROR or WARN logs. These may indicate issues with AI result processing or sending.</li>
</ul>
</li>
<li>
<p><strong>Confirm if AI perception result data is being published:</strong></p>
<ul>
<li>AI perception results (such as detection boxes, keypoints, etc.) are usually published via separate ROS topics (e.g., custom AI message types like <code>*_msgs/AiMsg</code>).</li>
<li>In a new terminal (after sourcing the TROS environment), use <code>ros2 topic list</code> to see all active topics and confirm if there is a topic publishing AI perception results.</li>
<li>If the topic exists, use <code>ros2 topic echo /the_ai_result_topic_name</code> (replace with the actual topic name) to view if data is being published. If there is no output for a long time, the upstream AI inference node may not be working or not detecting targets.</li>
</ul>
</li>
<li>
<p><strong>Check for multiple Web Node instances accidentally started:</strong></p>
<ul>
<li>If you accidentally started multiple Websocket node instances on the board, they may interfere with each other, or the browser may connect to an instance not correctly receiving or processing AI data.</li>
<li>Use <code>ps aux | grep web</code> (or a more specific process name) on the board to check for multiple Websocket service processes. If found, use <code>kill &lt;PID&gt;</code> to stop all extra processes, then start only one instance.</li>
</ul>
</li>
<li>
<p><strong>Frontend-backend data sync or rendering logic issues:</strong></p>
<ul>
<li>Ensure the Websocket server (backend, running on RDK) and browser client (frontend) have matching message formats and protocol versions.</li>
<li>Check the browser developer tools Console and Network tabs for JavaScript errors or Websocket communication errors.</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q15-how-to-configure-and-use-zero-copy-data-transmission-in-tros-humble">Q15: How to configure and use zero-copy data transmission in TROS Humble?<a href="#q15-how-to-configure-and-use-zero-copy-data-transmission-in-tros-humble" class="hash-link" aria-label="Direct link to Q15: How to configure and use zero-copy data transmission in TROS Humble?" title="Direct link to Q15: How to configure and use zero-copy data transmission in TROS Humble?">​</a></h3>
<p><strong>A:</strong> Zero-copy is an efficient data transmission mechanism that allows data to be passed between ROS nodes without unnecessary memory copying, reducing latency and CPU usage, especially for large data blocks like images. TROS Humble (based on ROS2 Humble) supports zero-copy via Fast DDS&#x27;s Shared Memory (SHM) transport.</p>
<p><strong>Configuration steps (for Ubuntu and Linux systems):</strong></p>
<ol>
<li>
<p><strong>Set the required environment variables:</strong>
In the terminal where you run ROS nodes, execute:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 1. Ensure RMW implementation is Fast DDS (usually default in Humble, but set explicitly for safety)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export RMW_IMPLEMENTATION=rmw_fastrtps_cpp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2. Specify the Fast DDS config file path that enables shared memory transport</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#    Adjust the path according to your actual TROS Humble installation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#    Usually at /opt/tros/humble/lib/hobot_shm/config/shm_fastdds.xml or similar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export FASTRTPS_DEFAULT_PROFILES_FILE=/opt/tros/humble/lib/hobot_shm/config/shm_fastdds.xml </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 3. Force Fast DDS to load QoS settings from XML config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export RMW_FASTRTPS_USE_QOS_FROM_XML=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 4. Enable ROS2 loaned messages (key for zero-copy)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export ROS_DISABLE_LOANED_MESSAGES=0 </span><br></span></code></pre></div></div>
<p>For details, see the ROS2 or Fast DDS documentation, e.g.:</p>
<ul>
<li><a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/ros2/ros2.html" target="_blank" rel="noopener noreferrer">ROS 2 using Fast DDS middleware</a></li>
<li>Horizon official <code>hobot_shm</code> README: <a href="https://github.com/D-Robotics/hobot_shm/blob/develop/README_cn.md" target="_blank" rel="noopener noreferrer">hobot_shm README_cn.md</a></li>
</ul>
</li>
<li>
<p><strong>Start ROS nodes that support zero-copy:</strong></p>
<ul>
<li>Both the publisher and subscriber nodes need to support and use the loaned message API in their code. Some Horizon TROS packages (such as <code>mipi_cam</code>, <code>hobot_codec</code>, etc.) may already support zero-copy.</li>
<li>For example, start the <code>mipi_cam</code> node to publish shared memory images:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Source TROS Humble environment first</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source /opt/tros/humble/setup.bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># (Then set the above environment variables)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 launch mipi_cam mipi_cam.launch.py mipi_video_device:=F37 </span><br></span></code></pre></div></div>
</li>
<li>Start the <code>hobot_codec</code> node to subscribe to images via shared memory and process:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># (Also source environment and set variables)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 launch hobot_codec hobot_codec.launch.py codec_in_mode:=shared_mem codec_in_format:=nv12 codec_out_mode:=ros codec_out_format:=jpeg codec_sub_topic:=/hbmem_img codec_pub_topic:=/image_jpeg</span><br></span></code></pre></div></div>
</li>
</ul>
</li>
</ol>
<p><strong>Check if zero-copy is enabled:</strong></p>
<ul>
<li>When zero-copy communication is successful, some memory-mapped files will be created under <code>/dev/shm/</code>. You can check with:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ls -lthr /dev/shm/fast_datasharing* /dev/shm/fastrtps_*</span><br></span></code></pre></div></div>
<!-- -->If you see files like <code>fast_datasharing_...</code> and their size matches the data being transmitted (e.g., image frame size), shared memory transport is likely enabled.</li>
<li>You can also use <code>lsof</code> to see which processes are using these shared memory files:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo lsof /dev/shm/fast_datasharing*</span><br></span></code></pre></div></div>
<!-- -->The output should show your publisher and subscriber processes.</li>
</ul>
<p><strong>Disable zero-copy:</strong></p>
<ul>
<li>To disable zero-copy (for debugging or compatibility), set:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export ROS_DISABLE_LOANED_MESSAGES=1</span><br></span></code></pre></div></div>
</li>
<li>For details, see: <a href="https://docs.ros.org/en/humble/How-To-Guides/Configure-ZeroCopy-loaned-messages.html#how-to-disable-loaned-messages" target="_blank" rel="noopener noreferrer">How to disable loaned messages</a></li>
</ul>
<p><strong>Note:</strong></p>
<ul>
<li>Make sure the <code>FASTRTPS_DEFAULT_PROFILES_FILE</code> XML config (<code>shm_fastdds.xml</code>) is correct and enables shared memory transport.</li>
<li>Zero-copy requires both publisher and subscriber to support and configure loaned messages and shared memory transport.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-12-02T03:20:25.000Z" itemprop="dateModified">Dec 2, 2025</time></b></span></div></div></footer></article><nav class="pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/rdk_doc/en/FAQ/interface"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">8.2 Interfaces, Peripherals, and Drivers</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rdk_doc/en/FAQ/multimedia"><div class="pagination-nav__sublabel">Next </div><div class="pagination-nav__label">8.4 Multimedia Processing and Applications</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#q1-how-to-installcross-compile-and-use-third-party-libraries-on-rdk" class="table-of-contents__link toc-highlight">Q1: How to install/cross-compile and use third-party libraries on RDK?</a></li><li><a href="#q2-when-compiling-large-programs-such-as-c-projects-or-ros-packages-if-the-system-prompts-that-the-compilation-process-is-killed-or-there-are-error-logs-related-to-insufficient-memory-how-to-solve-it" class="table-of-contents__link toc-highlight">Q2: When compiling large programs (such as C++ projects or ROS packages), if the system prompts that the compilation process is &quot;killed&quot; or there are error logs related to insufficient memory, how to solve it?</a></li><li><a href="#q3-how-to-run-the-gc4633-mipi-camera-sample-program" class="table-of-contents__link toc-highlight">Q3: How to run the GC4633 MIPI camera sample program?</a></li><li><a href="#q4-when-using-rqt_image_view-to-view-rgb888-raw-images-published-by-rdk-via-ros-it-feels-very-laggy-or-even-unable-to-receive-images-what-is-the-reason" class="table-of-contents__link toc-highlight">Q4: When using <code>rqt_image_view</code> to view RGB888 RAW images published by RDK via ROS, it feels very laggy or even unable to receive images. What is the reason?</a></li><li><a href="#q5-does-the-linux-image-provided-by-horizon-specifically-the-minimal-system-not-the-full-ubuntu-desktopserver-support-direct-compilation-on-the-board" class="table-of-contents__link toc-highlight">Q5: Does the Linux image provided by Horizon (specifically the minimal system, not the full Ubuntu Desktop/Server) support direct compilation on the board?</a></li><li><a href="#q6-how-to-run-the-official-manual-examples-usually-demonstrated-in-ubuntu-system-environment-on-the-minimal-linux-image-provided-by-horizon" class="table-of-contents__link toc-highlight">Q6: How to run the official manual examples (usually demonstrated in Ubuntu system environment) on the minimal Linux image provided by Horizon?</a></li><li><a href="#q7-how-to-quickly-find-the-specific-path-of-a-launch-script-file-in-rostros" class="table-of-contents__link toc-highlight">Q7: How to quickly find the specific path of a launch script file in ROS/TROS?</a></li><li><a href="#q8-cross-compiling-the-full-source-code-of-togetherosbot-trosb-is-very-slow-how-can-i-speed-it-up" class="table-of-contents__link toc-highlight">Q8: Cross-compiling the full source code of TogetheROS.Bot (tros.b) is very slow. How can I speed it up?</a></li><li><a href="#q9-after-installing-the-official-trosb-on-the-rdk-board-can-i-still-install-and-use-other-versions-of-ros-such-as-ros1-or-different-ros2-distributions" class="table-of-contents__link toc-highlight">Q9: After installing the official tros.b on the RDK board, can I still install and use other versions of ROS (such as ROS1 or different ROS2 distributions)?</a></li><li><a href="#q10-when-compiling-a-ros2-package-with-colcon-build-an-error-attributeerror-module-pyparsing-has-no-attribute-operatorprecedence-occurs-how-to-solve-it" class="table-of-contents__link toc-highlight">Q10: When compiling a ROS2 package with <code>colcon build</code>, an error <code>AttributeError: module &#39;pyparsing&#39; has no attribute &#39;operatorPrecedence&#39;</code> occurs. How to solve it?</a></li><li><a href="#q11-how-to-check-the-version-information-of-trosb" class="table-of-contents__link toc-highlight">Q11: How to check the version information of tros.b?</a></li><li><a href="#q12-what-are-the-main-notes-and-differences-between-horizon-trosb-1x-and-2x-and-newer-versions" class="table-of-contents__link toc-highlight">Q12: What are the main notes and differences between Horizon tros.b 1.x and 2.x (and newer) versions?</a></li><li><a href="#q13-when-accessing-a-web-service-running-on-rdk-such-as-a-tros-websocket-visualization-example-via-a-web-browser-eg-chrome-edge-firefox-using-ip-and-port-eg-httprdk_ip8000-the-page-fails-to-open-what-could-be-the-reason" class="table-of-contents__link toc-highlight">Q13: When accessing a web service running on RDK (such as a TROS Websocket visualization example) via a web browser (e.g., Chrome, Edge, Firefox) using IP and port (e.g., <code>http://&lt;RDK_IP&gt;:8000</code>), the page fails to open. What could be the reason?</a></li><li><a href="#q14-when-accessing-the-tros-websocket-visualization-example-via-a-web-browser-only-the-camera-image-is-displayed-but-no-ai-perception-results-such-as-detection-boxes-keypoints-etc-are-rendered-what-is-the-reason" class="table-of-contents__link toc-highlight">Q14: When accessing the TROS Websocket visualization example via a web browser, only the camera image is displayed, but no AI perception results (such as detection boxes, keypoints, etc.) are rendered. What is the reason?</a></li><li><a href="#q15-how-to-configure-and-use-zero-copy-data-transmission-in-tros-humble" class="table-of-contents__link toc-highlight">Q15: How to configure and use zero-copy data transmission in TROS Humble?</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.guyuehome.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GuYueHome<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Contact US</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/D-Robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@D-Robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 D-Robotics.</div></div></div></footer></div>
</body>
</html>