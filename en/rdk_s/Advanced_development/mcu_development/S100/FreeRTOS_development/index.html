<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-docs_s docs-version-current docs-doc-page docs-doc-id-Advanced_development/mcu_development/S100/FreeRTOS_development" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">MCU1 Development Guide | RDK DOC</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://developer.d-robotics.cc/rdk_doc/en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://developer.d-robotics.cc/rdk_doc/en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://developer.d-robotics.cc/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/FreeRTOS_development"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-docs_s-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-docs_s-current"><meta data-rh="true" property="og:title" content="MCU1 Development Guide | RDK DOC"><meta data-rh="true" name="description" content="MCU Interrupt Numbers and Corresponding Modules"><meta data-rh="true" property="og:description" content="MCU Interrupt Numbers and Corresponding Modules"><link data-rh="true" rel="icon" href="/rdk_doc/en/img/logo.png"><link data-rh="true" rel="canonical" href="https://developer.d-robotics.cc/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/FreeRTOS_development"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/rdk_s/Advanced_development/mcu_development/S100/FreeRTOS_development" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/FreeRTOS_development" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/rdk_s/Advanced_development/mcu_development/S100/FreeRTOS_development" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"7. Advanced Development","item":"https://developer.d-robotics.cc/rdk_doc/en/rdk_s/Advanced_development"},{"@type":"ListItem","position":2,"name":"7.5 MCU Development Guide","item":"https://developer.d-robotics.cc/rdk_doc/en/rdk_s/05_MCU_development"},{"@type":"ListItem","position":3,"name":"7.5.1 S100 MCU Development Guide","item":"https://developer.d-robotics.cc/rdk_doc/en/rdk_s/01_S100"},{"@type":"ListItem","position":4,"name":"MCU1 Development Guide","item":"https://developer.d-robotics.cc/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/FreeRTOS_development"}]}</script><script src="https://hm.baidu.com/hm.js?24dd63cad43b63889ea6bede5fd1ab9e" async></script><link rel="stylesheet" href="/rdk_doc/en/assets/css/styles.0fbd7d27.css">
<script src="/rdk_doc/en/assets/js/runtime~main.2b58ff10.js" defer="defer"></script>
<script src="/rdk_doc/en/assets/js/main.9d451a5d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://d-robotics.cc/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/rdk_doc/en/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rdk_doc/en/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">D-Robotics</b></a><a class="navbar__item navbar__link" href="/rdk_doc/en/RDK">RDK X3 / X5</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rdk_doc/en/rdk_s/RDK">RDK S100</a><a href="https://developer.d-robotics.cc/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/D-Robotics" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>EN</a><ul class="dropdown__menu"><li><a href="/rdk_doc/rdk_s/Advanced_development/mcu_development/S100/FreeRTOS_development" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-Hans">CN</a></li><li><a href="/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/FreeRTOS_development" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">EN</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rdk_doc/en/rdk_s/RDK">D-Robotics RDK Kit</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Quick_start">1. Quick Start</a><button aria-label="Expand sidebar category &#x27;1. Quick Start&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/System_configuration">2. System Configuration</a><button aria-label="Expand sidebar category &#x27;2. System Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Basic_Application">3. Basic Application Development</a><button aria-label="Expand sidebar category &#x27;3. Basic Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Basic_Development">4. Algorithm Application Development</a><button aria-label="Expand sidebar category &#x27;4. Algorithm Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Robot_development">5. Robotics Application Development</a><button aria-label="Expand sidebar category &#x27;5. Robotics Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Application_case">6. Application Development Guide</a><button aria-label="Expand sidebar category &#x27;6. Application Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/rdk_doc/en/rdk_s/Advanced_development">7. Advanced Development</a><button aria-label="Collapse sidebar category &#x27;7. Advanced Development&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/rdk_s/hardware_development">7.1 Hardware Development Guide</a><button aria-label="Expand sidebar category &#x27;7.1 Hardware Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/rdk_s/linux_development">7.2. Linux Development Guide</a><button aria-label="Expand sidebar category &#x27;7.2. Linux Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/rdk_s/03_multimedia_development">7.3 Multimedia Development Guide</a><button aria-label="Expand sidebar category &#x27;7.3 Multimedia Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/rdk_s/04_toolchain_development">7.4 Algorithm Toolchain Development Guide</a><button aria-label="Expand sidebar category &#x27;7.4 Algorithm Toolchain Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/rdk_doc/en/rdk_s/05_MCU_development">7.5 MCU Development Guide</a><button aria-label="Collapse sidebar category &#x27;7.5 MCU Development Guide&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/rdk_doc/en/rdk_s/01_S100">7.5.1 S100 MCU Development Guide</a><button aria-label="Collapse sidebar category &#x27;7.5.1 S100 MCU Development Guide&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/code_release">MCU Code Package Structure Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/basic_information">MCU Quick Start Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/MCU_build_system">MCU System Description</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/FreeRTOS_development">MCU1 Development Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/mcu_uart">UART Usage Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/mcu_pwm">PWM Usage Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/mcu_spi">SPI Usage Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/mcu_adc">ADC Usage Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/mcu_ipc">IPC Usage Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/mcu_can">CAN Usage Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/mcu_i2c">I2C Usage Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/mcu_eth">Eth Usage Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/rdk_s/07_Advanced_development/05_mcu_development/01_S100/12_mcu_port">PORT Module Guide</a><button aria-label="Expand sidebar category &#x27;PORT Module Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/mcu_ramdump">MCU Ramdump Feature</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/rdk_gen">7.6 RDK S100 Build System Development Guide</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/FAQ">8. FAQ</a><button aria-label="Expand sidebar category &#x27;8. FAQ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Appendix">9. Appendix</a><button aria-label="Expand sidebar category &#x27;9. Appendix&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rdk_doc/en/rdk_s/Release_Note/roadmap">10. Version release</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rdk_doc/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rdk_doc/en/rdk_s/Advanced_development"><span>7. Advanced Development</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rdk_doc/en/rdk_s/05_MCU_development"><span>7.5 MCU Development Guide</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rdk_doc/en/rdk_s/01_S100"><span>7.5.1 S100 MCU Development Guide</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">MCU1 Development Guide</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>MCU1 Development Guide</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mcu-interrupt-numbers-and-corresponding-modules">MCU Interrupt Numbers and Corresponding Modules<a href="#mcu-interrupt-numbers-and-corresponding-modules" class="hash-link" aria-label="Direct link to MCU Interrupt Numbers and Corresponding Modules" title="Direct link to MCU Interrupt Numbers and Corresponding Modules">​</a></h2>
<table><thead><tr><th>Module</th><th>Interrupt Number</th><th>Name</th></tr></thead><tbody><tr><td>SGI</td><td>0-15</td><td></td></tr><tr><td>PPI</td><td>16-31</td><td></td></tr><tr><td>MCU_STCU</td><td>32</td><td>Bist_Stcu0Isr</td></tr><tr><td>MEDIA_TOP_STCU</td><td>33</td><td>Bist_Stcu1Isr</td></tr><tr><td>VIDEO_STCU</td><td>34</td><td>Bist_Stcu2Isr</td></tr><tr><td>VDSP_STCU</td><td>35</td><td>Bist_Stcu3Isr</td></tr><tr><td>HSIS_STCU</td><td>36</td><td>Bist_Stcu4Isr</td></tr><tr><td>GPU_STCU</td><td>37</td><td>Bist_Stcu5Isr</td></tr><tr><td>DDR2_STCU</td><td>38</td><td>Bist_Stcu6Isr</td></tr><tr><td>DDR1_STCU</td><td>39</td><td>Bist_Stcu7Isr</td></tr><tr><td>DDR0_STCU</td><td>40</td><td>Bist_Stcu8Isr</td></tr><tr><td>CPU_MP4_STCU</td><td>41</td><td>Bist_Stcu9Isr</td></tr><tr><td>CPU_MP2_STCU</td><td>42</td><td>Bist_Stcu10Isr</td></tr><tr><td>CAM_STCU</td><td>43</td><td>Bist_Stcu11Isr</td></tr><tr><td>BPU0_STCU</td><td>44</td><td>Bist_Stcu12Isr</td></tr><tr><td>UART0</td><td>45</td><td>Uart0_Isr</td></tr><tr><td>UART1</td><td>46</td><td>Uart1_Isr</td></tr><tr><td>UART2</td><td>47</td><td>Uart2_Isr</td></tr><tr><td>ADC0</td><td>48</td><td>Adc_Ch0WdIsr</td></tr><tr><td></td><td>49</td><td>Adc_Ch1WdIsr</td></tr><tr><td></td><td>50</td><td>Adc_Ch2WdIsr</td></tr><tr><td></td><td>51</td><td>Adc_Ch3WdIsr</td></tr><tr><td></td><td>52</td><td>Adc_Ch4WdIsr</td></tr><tr><td></td><td>53</td><td>Adc_Ch5WdIsr</td></tr><tr><td></td><td>54</td><td>Adc_Ch6WdIsr</td></tr><tr><td></td><td>55</td><td>Adc_Ch7WdIsr</td></tr><tr><td></td><td>56</td><td>Adc_Ch8WdIsr</td></tr><tr><td></td><td>57</td><td>Adc_Ch9WdIsr</td></tr><tr><td></td><td>58</td><td>Adc_Ch10WdIsr</td></tr><tr><td></td><td>59</td><td>Adc_Ch11WdIsr</td></tr><tr><td></td><td>60</td><td>Adc_Ch12WdIsr</td></tr><tr><td></td><td>61</td><td>Adc_Ch13WdIsr</td></tr><tr><td></td><td>62</td><td>Adc_InjIsr</td></tr><tr><td></td><td>63</td><td>Adc_NorIsr</td></tr><tr><td>I2C0</td><td>64</td><td>I2c0_Isr</td></tr><tr><td>I2C1</td><td>65</td><td>I2c1_Isr</td></tr><tr><td>I2C2</td><td>66</td><td>I2c2_Isr</td></tr><tr><td>I2C3</td><td>67</td><td>I2c3_Isr</td></tr><tr><td>GPIO0</td><td>68</td><td>Gpio_Icu0ExtIsr</td></tr><tr><td>GPIO1</td><td>69</td><td>Gpio_Icu1ExtIsr</td></tr><tr><td>GPIO2</td><td>70</td><td>Gpio_Icu2ExtIsr</td></tr><tr><td>WWDT0</td><td>71</td><td>Wdg_Ins0RstIsr</td></tr><tr><td></td><td>72</td><td>Wdg_Ins0IntIsr</td></tr><tr><td>WWDT1</td><td>73</td><td>Wdg_Ins1RstIsr</td></tr><tr><td></td><td>74</td><td>Wdg_Ins1IntIsr</td></tr><tr><td>WWDT2</td><td>75</td><td>Wdg_Ins2RstIsr</td></tr><tr><td></td><td>76</td><td>Wdg_Ins2IntIsr</td></tr><tr><td>OTF_CRC0</td><td>77</td><td>Otf_Isr</td></tr><tr><td>CRC0</td><td>78</td><td>Crc_Isr</td></tr><tr><td>GPT0</td><td>79</td><td>Gpt_Ins0Ch0Isr</td></tr><tr><td></td><td>80</td><td>Gpt_Ins0Ch1Isr</td></tr><tr><td></td><td>81</td><td>Gpt_Ins0Ch2Isr</td></tr><tr><td></td><td>82</td><td>Gpt_Ins0Ch3Isr</td></tr><tr><td>GPT1</td><td>83</td><td>Gpt_Ins1Ch0Isr</td></tr><tr><td></td><td>84</td><td>Gpt_Ins1Ch1Isr</td></tr><tr><td></td><td>85</td><td>Gpt_Ins1Ch2Isr</td></tr><tr><td></td><td>86</td><td>Gpt_Ins1Ch3Isr</td></tr><tr><td>GPT2</td><td>87</td><td>Gpt_Ins2Ch0Isr</td></tr><tr><td></td><td>88</td><td>Gpt_Ins2Ch1Isr</td></tr><tr><td></td><td>89</td><td>Gpt_Ins2Ch2Isr</td></tr><tr><td></td><td>90</td><td>Gpt_Ins2Ch3Isr</td></tr><tr><td>GPT3</td><td>91</td><td>Gpt_Ins3Ch0Isr</td></tr><tr><td></td><td>92</td><td>Gpt_Ins3Ch1Isr</td></tr><tr><td></td><td>93</td><td>Gpt_Ins3Ch2Isr</td></tr><tr><td></td><td>94</td><td>Gpt_Ins3Ch3Isr</td></tr><tr><td>GPT4</td><td>95</td><td>Gpt_Ins4Ch0Isr</td></tr><tr><td></td><td>96</td><td>Gpt_Ins4Ch1Isr</td></tr><tr><td></td><td>97</td><td>Gpt_Ins4Ch2Isr</td></tr><tr><td></td><td>98</td><td>Gpt_Ins4Ch3Isr</td></tr><tr><td>GPT5</td><td>99</td><td>Gpt_Ins5Ch0Isr</td></tr><tr><td></td><td>100</td><td>Gpt_Ins5Ch1Isr</td></tr><tr><td></td><td>101</td><td>Gpt_Ins5Ch2Isr</td></tr><tr><td></td><td>102</td><td>Gpt_Ins5Ch3Isr</td></tr><tr><td>PMU</td><td>103</td><td>Pmu_ReqDeny0Isr</td></tr><tr><td>BIFSPI</td><td>104</td><td></td></tr><tr><td>PVT</td><td>105</td><td>Pvt_McuAlarmIsr</td></tr><tr><td>L1FCHM</td><td>106</td><td>Fchm_MissionIntIsr</td></tr><tr><td></td><td>107</td><td>Fchm_NcfIntIsr</td></tr><tr><td></td><td>108</td><td>Fchm_CfIntIsr</td></tr><tr><td>CMM0</td><td>109</td><td>Cmm_Ins0Isr</td></tr><tr><td>CMM1</td><td>110</td><td>Cmm_Ins1Isr</td></tr><tr><td>PWM0</td><td>111</td><td>Pwm_Generic0Isr</td></tr><tr><td>XSPI</td><td>112</td><td>Xspi_Isr</td></tr><tr><td>CANFD0</td><td>113</td><td>Can0_TimestampIsr</td></tr><tr><td></td><td>114</td><td>Can0_WakeupIsr</td></tr><tr><td></td><td>115</td><td>Can0_ErrorIsr</td></tr><tr><td></td><td>116</td><td>Can0_DataIsr</td></tr><tr><td>CANFD1</td><td>117</td><td>Can1_TimestampIsr</td></tr><tr><td></td><td>118</td><td>Can1_WakeupIsr</td></tr><tr><td></td><td>119</td><td>Can1_ErrorIsr</td></tr><tr><td></td><td>120</td><td>Can1_DataIsr</td></tr><tr><td>CANFD2</td><td>121</td><td>Can2_TimestampIsr</td></tr><tr><td></td><td>122</td><td>Can2_WakeupIsr</td></tr><tr><td></td><td>123</td><td>Can2_ErrorIsr</td></tr><tr><td></td><td>124</td><td>Can2_DataIsr</td></tr><tr><td>CANFD3</td><td>125</td><td>Can3_TimestampIsr</td></tr><tr><td></td><td>126</td><td>Can3_WakeupIsr</td></tr><tr><td></td><td>127</td><td>Can3_ErrorIsr</td></tr><tr><td></td><td>128</td><td>Can3_DataIsr</td></tr><tr><td>CANFD4</td><td>129</td><td>Can4_TimestampIsr</td></tr><tr><td></td><td>130</td><td>Can4_WakeupIsr</td></tr><tr><td></td><td>131</td><td>Can4_ErrorIsr</td></tr><tr><td></td><td>132</td><td>Can4_DataIsr</td></tr><tr><td>CANFD5</td><td>133</td><td>Can5_TimestampIsr</td></tr><tr><td></td><td>134</td><td>Can5_WakeupIsr</td></tr><tr><td></td><td>135</td><td>Can5_ErrorIsr</td></tr><tr><td></td><td>136</td><td>Can5_DataIsr</td></tr><tr><td>CANFD6</td><td>137</td><td>Can6_TimestampIsr</td></tr><tr><td></td><td>138</td><td>Can6_WakeupIsr</td></tr><tr><td></td><td>139</td><td>Can6_ErrorIsr</td></tr><tr><td></td><td>140</td><td>Can6_DataIsr</td></tr><tr><td>CANFD7</td><td>141</td><td>Can7_TimestampIsr</td></tr><tr><td></td><td>142</td><td>Can7_WakeupIsr</td></tr><tr><td></td><td>143</td><td>Can7_ErrorIsr</td></tr><tr><td></td><td>144</td><td>Can7_DataIsr</td></tr><tr><td>CANFD8</td><td>145</td><td>Can8_TimestampIsr</td></tr><tr><td></td><td>146</td><td>Can8_WakeupIsr</td></tr><tr><td></td><td>147</td><td>Can8_ErrorIsr</td></tr><tr><td></td><td>148</td><td>Can8_DataIsr</td></tr><tr><td>CANFD9</td><td>149</td><td>Can9_TimestampIsr</td></tr><tr><td></td><td>150</td><td>Can9_WakeupIsr</td></tr><tr><td></td><td>151</td><td>Can9_ErrorIsr</td></tr><tr><td></td><td>152</td><td>Can9_DataIsr</td></tr><tr><td>mcu eth</td><td>153</td><td>Gmac_TxCh0Isr</td></tr><tr><td></td><td>154</td><td>Gmac_TxCh1Isr</td></tr><tr><td></td><td>155</td><td>Gmac_TxCh2Isr</td></tr><tr><td></td><td>156</td><td>Gmac_TxCh3Isr</td></tr><tr><td></td><td>157</td><td>Gmac_TxCh4Isr</td></tr><tr><td></td><td>158</td><td>Gmac_TxCh5Isr</td></tr><tr><td></td><td>159</td><td>Gmac_RxCh0Isr</td></tr><tr><td></td><td>160</td><td>Gmac_RxCh1Isr</td></tr><tr><td></td><td>161</td><td>Gmac_RxCh2Isr</td></tr><tr><td></td><td>162</td><td>Gmac_RxCh3Isr</td></tr><tr><td></td><td>163</td><td>Gmac_RxCh4Isr</td></tr><tr><td></td><td>164</td><td>Gmac_RxCh5Isr</td></tr><tr><td></td><td>165</td><td>Gmac_SbdIsr</td></tr><tr><td></td><td>166</td><td>Gmac_PmtIsr</td></tr><tr><td></td><td>167</td><td>Gmac_LpiIsr</td></tr><tr><td>LIN0</td><td>168</td><td>Lin0_Isr</td></tr><tr><td>LIN1</td><td>169</td><td>Lin1_Isr</td></tr><tr><td>LIN2</td><td>170</td><td>Lin2_Isr</td></tr><tr><td>SPI0</td><td>171</td><td>Spi0_Isr</td></tr><tr><td>SPI1</td><td>172</td><td>Spi1_Isr</td></tr><tr><td>SPI2</td><td>173</td><td>Spi2_Isr</td></tr><tr><td>SPI3</td><td>174</td><td>Spi3_Isr</td></tr><tr><td>SPI4</td><td>175</td><td>Spi4_Isr</td></tr><tr><td>SPI5</td><td>176</td><td>Spi5_Isr</td></tr><tr><td>IPC</td><td>177</td><td>Ipc_Ch0Isr</td></tr><tr><td></td><td>178</td><td>Ipc_Ch1Isr</td></tr><tr><td></td><td>179</td><td>Ipc_Ch2Isr</td></tr><tr><td></td><td>180</td><td>Ipc_Ch3Isr</td></tr><tr><td></td><td>181</td><td>Ipc_Ch4Isr</td></tr><tr><td></td><td>182</td><td>Ipc_Ch5Isr</td></tr><tr><td></td><td>183</td><td>Ipc_Ch6Isr</td></tr><tr><td></td><td>184</td><td>Ipc_Ch7Isr</td></tr><tr><td></td><td>185</td><td>Ipc_Ch8Isr</td></tr><tr><td></td><td>186</td><td>Ipc_Ch9Isr</td></tr><tr><td></td><td>187</td><td>Ipc_Ch10Isr</td></tr><tr><td></td><td>188</td><td>Ipc_Ch11Isr</td></tr><tr><td></td><td>189</td><td>Ipc_Ch12Isr</td></tr><tr><td></td><td>190</td><td>Ipc_Ch13Isr</td></tr><tr><td></td><td>191</td><td>Ipc_Ch14Isr</td></tr><tr><td></td><td>192</td><td>Ipc_Ch15Isr</td></tr><tr><td></td><td>193</td><td>Ipc_Ch16Isr</td></tr><tr><td></td><td>194</td><td>Ipc_Ch17Isr</td></tr><tr><td></td><td>195</td><td>Ipc_Ch18Isr</td></tr><tr><td></td><td>196</td><td>Ipc_Ch19Isr</td></tr><tr><td></td><td>197</td><td>Ipc_Ch20Isr</td></tr><tr><td></td><td>198</td><td>Ipc_Ch21Isr</td></tr><tr><td></td><td>199</td><td>Ipc_Ch22Isr</td></tr><tr><td></td><td>200</td><td>Ipc_Ch23Isr</td></tr><tr><td></td><td>201</td><td>Ipc_Ch24Isr</td></tr><tr><td></td><td>202</td><td>Ipc_Ch25Isr</td></tr><tr><td></td><td>203</td><td>Ipc_Ch26Isr</td></tr><tr><td></td><td>204</td><td>Ipc_Ch27Isr</td></tr><tr><td></td><td>205</td><td>Ipc_Ch28Isr</td></tr><tr><td></td><td>206</td><td>Ipc_Ch29Isr</td></tr><tr><td></td><td>207</td><td>Ipc_Ch30Isr</td></tr><tr><td></td><td>208</td><td>Ipc_Ch31Isr</td></tr><tr><td>MDMA0</td><td>209</td><td>Mdma0_Ch0Isr</td></tr><tr><td></td><td>210</td><td>Mdma0_Ch1Isr</td></tr><tr><td>MDMA1</td><td>211</td><td>Mdma1_Ch0Isr</td></tr><tr><td></td><td>212</td><td>Mdma1_Ch1Isr</td></tr><tr><td>PDMA0</td><td>213</td><td>PDMA0_Ch0Isr</td></tr><tr><td></td><td>214</td><td>PDMA0_Ch1Isr</td></tr><tr><td></td><td>215</td><td>PDMA0_Ch2Isr</td></tr><tr><td></td><td>216</td><td>PDMA0_Ch3Isr</td></tr><tr><td></td><td>217</td><td>PDMA0_Ch4Isr</td></tr><tr><td></td><td>218</td><td>PDMA0_Ch5Isr</td></tr><tr><td>PMC0</td><td>219</td><td>Pmc0_Isr</td></tr><tr><td>PMC1</td><td>220</td><td>Pmc1_Isr</td></tr><tr><td>PPS(TIME_SYNC0)</td><td>222</td><td>Pps_Icu0Isr</td></tr><tr><td>PPS(TIME_SYNC1)</td><td>223</td><td>Pps_Icu1Isr</td></tr><tr><td>PPS(TIME_SYNC2)</td><td>224</td><td>Pps_Icu2Isr</td></tr><tr><td>PPS_SYNC</td><td>225</td><td>Pps0_Isr</td></tr><tr><td></td><td>226</td><td>Pps1_Isr</td></tr><tr><td></td><td>227</td><td>Pps2_Isr</td></tr><tr><td></td><td>228</td><td>Pps3_Isr</td></tr><tr><td></td><td>229</td><td>Pps4_Isr</td></tr><tr><td>HSM_IPC0</td><td>230</td><td>Ipc_HsmIpc0Ch4Isr</td></tr><tr><td></td><td>231</td><td>Ipc_HsmIpc0Ch5Isr</td></tr><tr><td></td><td>232</td><td>Ipc_HsmIpc0Ch6Isr</td></tr><tr><td></td><td>233</td><td>Ipc_HsmIpc0Ch7Isr</td></tr><tr><td>Reserved</td><td>234</td><td></td></tr><tr><td></td><td>235</td><td></td></tr><tr><td></td><td>236</td><td></td></tr><tr><td></td><td>237</td><td></td></tr><tr><td></td><td>238</td><td></td></tr><tr><td></td><td>239</td><td></td></tr><tr><td></td><td>240</td><td></td></tr><tr><td>HSM_IPC1</td><td>241</td><td>Ipc_HsmIpc1Ch4Isr</td></tr><tr><td></td><td>242</td><td>Ipc_HsmIpc1Ch5Isr</td></tr><tr><td></td><td>243</td><td>Ipc_HsmIpc1Ch6Isr</td></tr><tr><td></td><td>244</td><td>Ipc_HsmIpc1Ch7Isr</td></tr><tr><td>CPU_MP4_CMM</td><td>245</td><td>Cmm_Ins13Isr</td></tr><tr><td>CPU_MP4_CLUSTER_PMU</td><td>246</td><td>Pmu_ReqDeny1Isr</td></tr><tr><td>CPU_MP4_CDB_PMU</td><td>247</td><td>Pmu_ReqDeny2Isr</td></tr><tr><td>CPU_MP2_CMM</td><td>248</td><td>Cmm_Ins14Isr</td></tr><tr><td>CPU_MP2_CLUSTER_PMU</td><td>249</td><td>Pmu_ReqDeny3Isr</td></tr><tr><td>CPU_MP2_CDB_PMU</td><td>250</td><td>Pmu_ReqDeny4Isr</td></tr><tr><td>CPU_IPC1_CH0</td><td>251</td><td>Ipc_CpuIpc1Ch0Isr</td></tr><tr><td>CPU_IPC1_CH1</td><td>252</td><td>Ipc_CpuIpc1Ch1Isr</td></tr><tr><td>CPU_IPC1_CH2</td><td>253</td><td>Ipc_CpuIpc1Ch2Isr</td></tr><tr><td>CPU_IPC0_CH0</td><td>254</td><td>Ipc_CpuIpc0Ch0Isr</td></tr><tr><td>CPU_IPC0_CH1</td><td>255</td><td>Ipc_CpuIpc0Ch1Isr</td></tr><tr><td>CPU_IPC0_CH2</td><td>256</td><td>Ipc_CpuIpc0Ch2Isr</td></tr><tr><td>CPU_IPC0_CH3</td><td>257</td><td>Ipc_CpuIpc0Ch3Isr</td></tr><tr><td>CPU_IPC0_CH4</td><td>258</td><td>Ipc_CpuIpc0Ch4Isr</td></tr><tr><td>CPU_IPC0_CH5</td><td>259</td><td>Ipc_CpuIpc0Ch5Isr</td></tr><tr><td>CPU_IPC0_CH6</td><td>260</td><td>Ipc_CpuIpc0Ch6Isr</td></tr><tr><td>CPU_IPC0_CH7</td><td>261</td><td>Ipc_CpuIpc0Ch7Isr</td></tr><tr><td>CPU_IPC0_CH8</td><td>262</td><td>Ipc_CpuIpc0Ch8Isr</td></tr><tr><td>CPU_IPC0_CH9</td><td>263</td><td>Ipc_CpuIpc0Ch9Isr</td></tr><tr><td>CPU_IPC0_CH10</td><td>264</td><td>Ipc_CpuIpc0Ch10Isr</td></tr><tr><td>CPU_IPC0_CH11</td><td>265</td><td>Ipc_CpuIpc0Ch11Isr</td></tr><tr><td>CPU_IPC0_CH12</td><td>266</td><td>Ipc_CpuIpc0Ch12Isr</td></tr><tr><td>CPU_IPC0_CH13</td><td>267</td><td>Ipc_CpuIpc0Ch13Isr</td></tr><tr><td>CPU_IPC0_CH14</td><td>268</td><td>Ipc_CpuIpc0Ch14Isr</td></tr><tr><td>CPU_IPC0_CH15</td><td>269</td><td>Ipc_CpuIpc0Ch15Isr</td></tr><tr><td>CPU_ROUTER_SWTRIG1_0</td><td>270</td><td>Router_Swtrig1Ch0Isr</td></tr><tr><td>CPU_ROUTER_SWTRIG1_1</td><td>271</td><td>Router_Swtrig1Ch1Isr</td></tr><tr><td>CPU_ROUTER_SWTRIG1_2</td><td>272</td><td>Router_Swtrig1Ch2Isr</td></tr><tr><td>CPU_ROUTER_SWTRIG1_3</td><td>273</td><td>Router_Swtrig1Ch3Isr</td></tr><tr><td>DDR0_CMM</td><td>291</td><td>Cmm_Ins2Isr</td></tr><tr><td>DDR1_CMM</td><td>294</td><td>Cmm_Ins3Isr</td></tr><tr><td>DDR2_CMM</td><td>297</td><td>Cmm_Ins4Isr</td></tr><tr><td>PERI_I2C0</td><td>300</td><td>Peri_I2C0Isr</td></tr><tr><td>PERI_I2C1</td><td>301</td><td>Peri_I2C1Isr</td></tr><tr><td>PERI_I2C2</td><td>302</td><td>Peri_I2C2Isr</td></tr><tr><td>PERI_I2C3</td><td>303</td><td>Peri_I2C3Isr</td></tr><tr><td>PERI_I2C4</td><td>304</td><td>Peri_I2C4Isr</td></tr><tr><td>PERI_I2C5</td><td>305</td><td>Peri_I2C5Isr</td></tr><tr><td>PERI_USB</td><td>306</td><td>Peri_UsbIsr</td></tr><tr><td>PERI_CMM</td><td>307</td><td>Cmm_Ins19Isr</td></tr><tr><td>CAM_ISP0_0</td><td>308</td><td>Cam_Isp0Ch0Isr</td></tr><tr><td>CAM_ISP0_1</td><td>309</td><td>Cam_Isp0Ch1Isr</td></tr><tr><td>CAM_ISP0_2</td><td>310</td><td>Cam_Isp0Ch2Isr</td></tr><tr><td>CAM_ISP0_3</td><td>311</td><td>Cam_Isp0Ch3Isr</td></tr><tr><td>CAM_CPE0_PYM</td><td>312</td><td>Cam_Cpe0PymIsr</td></tr><tr><td>CAM_CPE0_MIPI_RX_CSI</td><td>313</td><td>Cam_Cpe0MipiRxCsiIsr</td></tr><tr><td>CAM_CPE0_CIM</td><td>314</td><td>Cam_Cpe0CimIsr</td></tr><tr><td>CAM_CPE0_PYM_PRE_UV</td><td>315</td><td>Cam_Cpe0PymPreUvIsr</td></tr><tr><td>CAM_CPE0_PYM_PRE_Y</td><td>316</td><td>Cam_Cpe0PymPreYIsr</td></tr><tr><td>CAM_CPE0_CMM</td><td>317</td><td>Cmm_Ins8Isr</td></tr><tr><td>CAM_ISP1_0</td><td>318</td><td>Cam_Isp1Ch0Isr</td></tr><tr><td>CAM_ISP1_1</td><td>319</td><td>Cam_Isp1Ch1Isr</td></tr><tr><td>CAM_ISP1_2</td><td>320</td><td>Cam_Isp1Ch2Isr</td></tr><tr><td>CAM_ISP1_3</td><td>321</td><td>Cam_Isp1Ch3Isr</td></tr><tr><td>CAM_CPE1_YNR</td><td>322</td><td>Cam_Cpe1YnrIsr</td></tr><tr><td>CAM_CPE1_PYM</td><td>323</td><td>Cam_Cpe1PymIsr</td></tr><tr><td>CAM_CPE1_MIPI_RX_CSI</td><td>324</td><td>Cam_Cpe1MipiRxCsiIsr</td></tr><tr><td>CAM_CPE1_CIM</td><td>325</td><td>Cam_Cpe1CimIsr</td></tr><tr><td>CAM_CPE1_PYM_PRE_UV</td><td>326</td><td>Cam_Cpe1PymPreUvIsr</td></tr><tr><td>CAM_CPE1_PYM_PRE_Y</td><td>327</td><td>Cam_Cpe1PymPreYIsr</td></tr><tr><td>CAM_CPE1_CMM</td><td>328</td><td>Cmm_Ins7Isr</td></tr><tr><td>CAM_STITCH</td><td>329</td><td>Cam_StichIsr</td></tr><tr><td>CAM_CPE_LITE_MIPI_RX</td><td>330</td><td>Cam_CpeLiteMipiRxCsiIsr</td></tr><tr><td>CAM_GDC0</td><td>331</td><td>Cam_Gdc0Isr</td></tr><tr><td>CAM_CPE_LITE_PYM</td><td>332</td><td>Cam_CpeLitePymIsr</td></tr><tr><td>CAM_CPE_LITE_PYM_PRE_UV</td><td>333</td><td>Cam_CpeLitePymPreUvIsr</td></tr><tr><td>CAM_CPE_LITE_PYM_PRE_Y</td><td>334</td><td>Cam_CpeLitePymPreYIsr</td></tr><tr><td>CAM_CPE_LITE_CIM</td><td>335</td><td>Cam_CpeLiteCymIsr</td></tr><tr><td>CAM_CPE_LITE_CMM</td><td>336</td><td>Cmm_Ins6Isr</td></tr><tr><td>CAM_MIPI_TX1_DSI</td><td>337</td><td>Cam_MipiTx1DsiIsr</td></tr><tr><td>CAM_MIPI_TX1_CSI2</td><td>338</td><td>Cam_MipiTx1Csi2Isr</td></tr><tr><td>CAM_MIPI_TX0_DSI</td><td>339</td><td>Cam_MipiTx0DsiIsr</td></tr><tr><td>CAM_MIPI_TX0_CSI2</td><td>340</td><td>Cam_MipiTx0Csi2Isr</td></tr><tr><td>CAM_IDU0</td><td>341</td><td>Cam_Idu0Isr</td></tr><tr><td>CAM_IDU1</td><td>342</td><td>Cam_Idu1Isr</td></tr><tr><td>CAM_IDE_CMM</td><td>343</td><td>Cmm_Ins5Isr</td></tr><tr><td>CAM_GPIO</td><td>344</td><td>Cam_GpioIsr</td></tr><tr><td>CAM_TOP_CMM</td><td>345</td><td>Cmm_Ins9Isr</td></tr><tr><td>VIDEO_VPU</td><td>346</td><td>Vid_VpuIsr</td></tr><tr><td>VIDEO_JPU</td><td>347</td><td>Vid_JpuIsr</td></tr><tr><td>VIDEO_CMM</td><td>348</td><td>Cmm_Ins10Isr</td></tr><tr><td>VIDEO_GIPO</td><td>349</td><td>Vid_GpioIsr</td></tr><tr><td>VDSP_CMM</td><td>350</td><td>Cmm_Ins11Isr</td></tr><tr><td>VDSP_Q8_EARLY_REST</td><td>351</td><td>Vdsp_EarlyRestIsr</td></tr><tr><td>VDSP_Q8_REST</td><td>352</td><td>Vdsp_ResetIsr</td></tr><tr><td>HSIS_CMM</td><td>353</td><td>Cmm_Ins12Isr</td></tr><tr><td>BPU_VM0</td><td>354</td><td>Bpu_Vm0Isr</td></tr><tr><td>BPU_VM1</td><td>355</td><td>Bpu_Vm1Isr</td></tr><tr><td>BPU_HYP</td><td>356</td><td>Bpu_HypIsr</td></tr><tr><td>BPU_PVT</td><td>357</td><td>Pvt_BpuAlarmIsr</td></tr><tr><td>BPU_CMM</td><td>358</td><td>Cmm_Ins17Isr</td></tr><tr><td>GPU_CMM</td><td>359</td><td>Cmm_Ins18Isr</td></tr><tr><td>RTC</td><td>360</td><td>Rtc_Isr</td></tr><tr><td>AON_WAKEUP_GPIO</td><td>361</td><td>Aon_WakeUpGpioIsr</td></tr><tr><td>AON_GPIO</td><td>362</td><td>Aon_GpioIsr</td></tr><tr><td>AON_PMU_REQ_MOD</td><td>363</td><td>Aon_PmuReqModIsr</td></tr><tr><td>MEDIA_BOT_CMM</td><td>364</td><td>Cmm_Ins15Isr</td></tr><tr><td>MEDIA_TOP_CMM</td><td>366</td><td>Cmm_Ins16Isr</td></tr><tr><td>CMN_CMM</td><td>368</td><td>Cmm_Ins20Isr</td></tr><tr><td>CMN_PVTC</td><td>369</td><td>Pvt_CmnAlarmIsr</td></tr><tr><td>CMN_PPU_PMU</td><td>370</td><td>Pmu_Ppu0Isr</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mcu-interrupt-usage">MCU Interrupt Usage<a href="#mcu-interrupt-usage" class="hash-link" aria-label="Direct link to MCU Interrupt Usage" title="Direct link to MCU Interrupt Usage">​</a></h2>
<p>Since MCU0 and MCU1 reside in the same hardware domain, both MCU0 and MCU1 receive the same interrupt when it occurs. Therefore, to ensure proper operation of the MCU system, each interrupt must be enabled exclusively on either MCU0 or MCU1. However, as MCU0 is not open-source externally, it is necessary to summarize the interrupts already used by MCU0 to prevent conflicts during customer development on MCU1.</p>
<p>Currently used interrupts on MCU0:</p>
<table><thead><tr><th>Module</th><th>Interrupt Number</th><th>Name</th></tr></thead><tbody><tr><td>GPIO0</td><td>68</td><td>Gpio_Icu0ExtIsr</td></tr><tr><td>GPIO1</td><td>69</td><td>Gpio_Icu1ExtIsr</td></tr><tr><td>GPIO2</td><td>70</td><td>Gpio_Icu2ExtIsr</td></tr><tr><td>WWDT0</td><td>71</td><td>Wdg_Ins0RstIsr</td></tr><tr><td>WWDT0</td><td>72</td><td>Wdg_Ins0IntIsr</td></tr><tr><td>WWDT1</td><td>73</td><td>Wdg_Ins1RstIsr</td></tr><tr><td>WWDT1</td><td>74</td><td>Wdg_Ins1IntIsr</td></tr><tr><td>WWDT2</td><td>75</td><td>Wdg_Ins2RstIsr</td></tr><tr><td>WWDT2</td><td>76</td><td>Wdg_Ins2IntIsr</td></tr><tr><td>GPT0</td><td>81</td><td>Gpt_Ins0Ch2Isr</td></tr><tr><td>GPT1</td><td>83</td><td>Gpt_Ins1Ch0Isr</td></tr><tr><td>GPT1</td><td>84</td><td>Gpt_Ins1Ch1Isr</td></tr><tr><td>L1FCHM</td><td>106</td><td>Fchm_MissionIntIsr</td></tr><tr><td></td><td>107</td><td>Fchm_NcfIntIsr</td></tr><tr><td></td><td>108</td><td>Fchm_CfIntIsr</td></tr><tr><td>PWM0</td><td>111</td><td>Pwm_Generic0Isr</td></tr><tr><td>MDMA1</td><td>211</td><td>Mdma1_Ch0Isr</td></tr><tr><td>PDMA0</td><td>213</td><td>PDMA0_Ch0Isr</td></tr><tr><td>PPS(RTC)</td><td>221</td><td>Pps_IcuRtcIsr</td></tr><tr><td>HSM_IPC1</td><td>241</td><td>Ipc_HsmIpc1Ch4Isr</td></tr><tr><td>HSM_IPC1</td><td>242</td><td>Ipc_HsmIpc1Ch5Isr</td></tr><tr><td>CPU_IPC1_CH0</td><td>251</td><td>Ipc_CpuIpc1Ch0Isr</td></tr><tr><td>CPU_IPC1_CH1</td><td>252</td><td>Ipc_CpuIpc1Ch1Isr</td></tr><tr><td>CPU_IPC1_CH2</td><td>253</td><td>Ipc_CpuIpc1Ch2Isr</td></tr><tr><td>CPU_IPC0_CH8</td><td>262</td><td>Ipc_CpuIpc0Ch8Isr</td></tr><tr><td>CPU_IPC0_CH9</td><td>263</td><td>Ipc_CpuIpc0Ch9Isr</td></tr><tr><td>CPU_IPC0_CH10</td><td>264</td><td>Ipc_CpuIpc0Ch10Isr</td></tr><tr><td>CPU_IPC0_CH11</td><td>265</td><td>Ipc_CpuIpc0Ch11Isr</td></tr><tr><td>CPU_IPC0_CH12</td><td>266</td><td>Ipc_CpuIpc0Ch12Isr</td></tr><tr><td>CPU_IPC0_CH13</td><td>267</td><td>Ipc_CpuIpc0Ch13Isr</td></tr><tr><td>CPU_IPC0_CH14</td><td>268</td><td>Ipc_CpuIpc0Ch14Isr</td></tr><tr><td>CPU_IPC0_CH15</td><td>269</td><td>Ipc_CpuIpc0Ch15Isr</td></tr><tr><td>CPU_ROUTER_SWTRIG1_0</td><td>270</td><td>Router_Swtrig1Ch0Isr</td></tr><tr><td>CPU_ROUTER_SWTRIG1_1</td><td>271</td><td>Router_Swtrig1Ch1Isr</td></tr><tr><td>CPU_ROUTER_SWTRIG1_2</td><td>272</td><td>Router_Swtrig1Ch2Isr</td></tr><tr><td>CPU_ROUTER_SWTRIG1_3</td><td>273</td><td>Router_Swtrig1Ch3Isr</td></tr><tr><td>RTC</td><td>360</td><td>Rtc_Isr</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="guide-to-adding-compilation-directories">Guide to Adding Compilation Directories<a href="#guide-to-adding-compilation-directories" class="hash-link" aria-label="Direct link to Guide to Adding Compilation Directories" title="Direct link to Guide to Adding Compilation Directories">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="brief-introduction-to-scons">Brief Introduction to SCons<a href="#brief-introduction-to-scons" class="hash-link" aria-label="Direct link to Brief Introduction to SCons" title="Direct link to Brief Introduction to SCons">​</a></h3>
<p>Currently, the RDK-S100 MCU only supports building for s100_sip_B, and uses SCons instead of Makefile for compilation.</p>
<p>SCons works similarly to Makefile: each directory contains an SConscript file (analogous to a Makefile), and a top-level SConstruct file controls the overall build process.<br>
<!-- -->For example, the MCU1 image is controlled by SConstruct_Lite_FRtos_S100_sip_B.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="steps-to-add-a-compilation-directory">Steps to Add a Compilation Directory<a href="#steps-to-add-a-compilation-directory" class="hash-link" aria-label="Direct link to Steps to Add a Compilation Directory" title="Direct link to Steps to Add a Compilation Directory">​</a></h3>
<ol>
<li>
<p>Modify the file <code>mcu/Build/FreeRtos_mcu1/SConstruct_Lite_FRtos_S100_sip_B</code> to add or remove corresponding modules.</p>
<p>For instance, to add the <code>mcu/Service/Log</code> directory, simply add its path accordingly. The variable <code>False</code> indicates that source files will not be copied to the build output directory during the build process.</p>
</li>
</ol>
<p><img decoding="async" loading="lazy" src="https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/07_Advanced_development/05_mcu_development/01_S100/FreeRTOS_development/scons_add_context.png" alt="" class="img_ev3q"></p>
<ol start="2">
<li>Add an <code>SConscript</code> file in the newly added module directory. This <code>SConscript</code> file can be copied from any existing compiled module directory.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-to-mcu-freertos-system">Introduction to MCU FreeRTOS System<a href="#introduction-to-mcu-freertos-system" class="hash-link" aria-label="Direct link to Introduction to MCU FreeRTOS System" title="Direct link to Introduction to MCU FreeRTOS System">​</a></h2>
<p>The MCU system includes several key functionalities, as illustrated below:</p>
<p><img decoding="async" loading="lazy" src="http://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/07_Advanced_development/05_mcu_development/01_S100/FreeRTOS_development/freertos_system-en.jpg" alt="" class="img_ev3q"></p>
<p>The diagram shows the relative task priorities of each function and the calling sequence within the same task. When integrating, customers must maintain the relative priorities, assigned core, and calling order within each task. Descriptions and important notes for each function are provided below:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="power">Power<a href="#power" class="hash-link" aria-label="Direct link to Power" title="Direct link to Power">​</a></h3>
<p><strong>ScmiProcess</strong>: Place in a high-priority task; it is recommended to run within a 2ms task. If this cannot be achieved, ensure the maximum scheduling period does not exceed 100ms. Placing it in a task with a long scheduling period will negatively impact boot time. The approximate impact can be estimated as:<br>
<em>&quot;Number of SCMI communications during boot × task period&quot;</em>.</p>
<p><strong>SysPower_State_Loop</strong>: Place in a low-priority task.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="boot">Boot<a href="#boot" class="hash-link" aria-label="Direct link to Boot" title="Direct link to Boot">​</a></h3>
<p><strong>AcoreBootProc</strong>: Place in a low-priority task. This function includes necessary initializations for Acore boot-up, including initialization of the critical Housekeeping feature <code>Housekeeping_WriteMagicNum</code>. If this function is not properly initialized, Acore accesses to MCU registers will cause Acore exceptions.</p>
<p><strong>Integration Note</strong>: This must be handled on MCU0. AcoreBoot requires flash access, so flash resource conflicts must be avoided. It should be placed in the same low-priority task as the OTA functionality described below.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ota">OTA<a href="#ota" class="hash-link" aria-label="Direct link to OTA" title="Direct link to OTA">​</a></h3>
<p>OtaFlash_MainFunction: Place in a low-priority task, as it involves OTA-related processing logic.</p>
<p>Integration Note: This must be handled on MCU0. The OTA feature requires flash, IPC, and crypto functionalities. To avoid conflicts caused by concurrent flash operations, it is recommended to place all flash-related operations into a single low-priority task for serialized access. For example, the previously mentioned AcoreBootProc runs in the same low-priority task.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sleepwake-up">Sleep/Wake-up<a href="#sleepwake-up" class="hash-link" aria-label="Direct link to Sleep/Wake-up" title="Direct link to Sleep/Wake-up">​</a></h3>
<p>SysPower_McuCoreEnterLowPower: Place this function in the highest-priority task with the shortest possible cycle supported by this core.</p>
<p>Integration Note: This function only executes when sleep/wake-up is required; otherwise, it exits quickly without introducing additional overhead.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="system-interrupt-description">System Interrupt Description<a href="#system-interrupt-description" class="hash-link" aria-label="Direct link to System Interrupt Description" title="Direct link to System Interrupt Description">​</a></h3>
<p>Communication between the MCU and Acore/HSM relies on IPC. For details about interrupts used by the IPC system service, refer to the section: <a href="/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/mcu_ipc">IPC Introduction</a>.<br>
<!-- -->It is recommended to configure the priority of these interrupts higher than regular functional interrupts. These interrupts can be assigned the same priority level.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-to-freertos-system">Introduction to FreeRTOS System<a href="#introduction-to-freertos-system" class="hash-link" aria-label="Direct link to Introduction to FreeRTOS System" title="Direct link to Introduction to FreeRTOS System">​</a></h2>
<p>There are two mainstream startup approaches for FreeRTOS:</p>
<ol>
<li>In the main function, perform hardware initialization, RTOS system initialization, and create all tasks before finally starting the RTOS scheduler to begin multitasking.</li>
<li>In the main function, initialize hardware and the RTOS system first, then create a single startup task and start the scheduler. Within this startup task, create all application tasks. Once all tasks are successfully created, the startup task deletes itself.</li>
</ol>
<p>Neither approach is inherently superior; RDK-S100 adopts the first method.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="freertos-task-creation">FreeRTOS Task Creation<a href="#freertos-task-creation" class="hash-link" aria-label="Direct link to FreeRTOS Task Creation" title="Direct link to FreeRTOS Task Creation">​</a></h3>
<p>Task creation is located in <code>/mcu/Target/Target-hobot-lite-freertos-mcu1/target/FreeRtosOsHal/Task_Hal.c</code>. Example:</p>
<p><img decoding="async" loading="lazy" src="https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/07_Advanced_development/05_mcu_development/01_S100/FreeRTOS_development/task_init.png" alt="" class="img_ev3q"></p>
<ul>
<li><code>xxx_Startup</code> task: Handles startup initialization and executes only once.</li>
<li><code>FreeRtos_OsTask_SysCore_BSW_xms</code> and <code>FreeRtos_OsTask_SysCore_ASW_xms</code>: Periodic tasks scheduled according to their respective xms intervals. These tasks also perform internal processing; for details, refer to the previous section &quot;Introduction to MCU FreeRTOS System&quot;.</li>
</ul>
<p>If customers develop their own code, they can refer to the examples above. Alternatively, they can implement their demo logic within existing tasks (see below).<br>
<!-- -->Task functions are defined in <code>/mcu/Target/Target-hobot-lite-freertos-mcu1/target/HorizonTask.c</code>.<br>
<!-- -->Taking <code>OsTask_SysCore_BSW_10ms</code> as an example, this task periodically checks for Shell transaction processing:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">TASK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">OsTask_SysCore_BSW_10ms</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">ifdef</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression" style="color:#36acaa">SHELL_ENABLE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">Shell_Handler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">endif</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="freertos-interrupt-usage">FreeRTOS Interrupt Usage<a href="#freertos-interrupt-usage" class="hash-link" aria-label="Direct link to FreeRTOS Interrupt Usage" title="Direct link to FreeRTOS Interrupt Usage">​</a></h3>
<p>FreeRTOS interrupt handling is centralized in <code>/mcu/Target/Target-hobot-lite-freertos/target/FreeRtosOsHal/Isr_Hal.c</code>:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">FreeRtos_Irq_Init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> interrupt_index </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> interrupt_index </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> INTERRUPT_MCU_MAX_NUM</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> interrupt_index</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">Interrupt_McuConfigs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">interrupt_index</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">irqNumber</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">Interrupt_McuConfigs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">interrupt_index</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">priority</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">Interrupt_McuConfigs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">interrupt_index</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Handler</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">Interrupt_McuConfigs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">interrupt_index</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enable_flag</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">break</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Interrupt_McuConfigs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">interrupt_index</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Handler</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">INT_SYS_InstallHandler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Interrupt_McuConfigs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">interrupt_index</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">irqNumber</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Interrupt_McuConfigs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">interrupt_index</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Handler</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Interrupt_McuConfigs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">interrupt_index</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">priority</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">INT_SYS_SetPriority</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Interrupt_McuConfigs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">interrupt_index</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">irqNumber</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Interrupt_McuConfigs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">interrupt_index</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">priority</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Interrupt_McuConfigs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">interrupt_index</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enable_flag</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">INT_SYS_EnableIRQ</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Interrupt_McuConfigs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">interrupt_index</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">irqNumber</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>If no interrupt handler is configured, the default interrupt handler is used (see <code>/mcu/Target/Target-hobot-lite-freertos-mcu1/target/SuperSoC_ISR.s</code>).<br>
<!-- -->For example, the RTC interrupt handler:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// DefaultISR---default interrupt handler</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">align  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">weak   DefaultISR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">type   DefaultISR</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain">function</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DefaultISR</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hlt #</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b   </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">size   DefaultISR</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> DefaultISR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/*    Macro to define default handlers. Default handler</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> *    will be weak symbol and just dead loops. They can be</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> *    overwritten by other handlers */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">macro  def_irq_handler handler_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">weak   \handler_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set    \handler_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DefaultISR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">endm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Set default RTC interrupt handler</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    def_irq_handler AON_RTC_INTR</span><br></span></code></pre></div></div>
<p>Note:<br>
<!-- -->When enabling interrupts on MCU1, ensure that the corresponding interrupts on MCU0 are disabled!!!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-to-freertos-memory-management-scheme">Introduction to FreeRTOS Memory Management Scheme<a href="#introduction-to-freertos-memory-management-scheme" class="hash-link" aria-label="Direct link to Introduction to FreeRTOS Memory Management Scheme" title="Direct link to Introduction to FreeRTOS Memory Management Scheme">​</a></h3>
<p>FreeRTOS memory management schemes are located in <code>/mcu/OpenSource/FreeRTOS/portable/MemMang/</code>, offering five memory management algorithms: <code>heap_1.c</code>, <code>heap_2.c</code>, <code>heap_3.c</code>, <code>heap_4.c</code>, and <code>heap_5.c</code>. The FreeRTOS memory management module optimizes memory utilization and efficiency through memory allocation and deallocation operations, while minimizing memory fragmentation.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="heap_1c">heap_1.c<a href="#heap_1c" class="hash-link" aria-label="Direct link to heap_1.c" title="Direct link to heap_1.c">​</a></h4>
<p><code>heap_1.c</code> is the simplest memory management scheme provided by FreeRTOS. It supports memory allocation but not deallocation. This is ideal for safety-critical embedded systems, as the inability to free memory prevents fragmentation and potential system crashes. However, its drawback is low memory utilization—once allocated, memory cannot be reclaimed even if used only once.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="heap_2c">heap_2.c<a href="#heap_2c" class="hash-link" aria-label="Direct link to heap_2.c" title="Direct link to heap_2.c">​</a></h4>
<p><code>heap_2.c</code> uses a best-fit algorithm. For example, if 100 bytes are requested and available memory blocks are 200, 500, and 1000 bytes, the 200-byte block is split, and the remaining portion is returned to the free list. This scheme supports deallocation and reinserts freed memory into the list sorted by size. However, it cannot coalesce adjacent free blocks, leading to fragmentation when allocation sizes vary. (In contrast, <code>heap_4.c</code> solves this by merging adjacent blocks.)</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="heap_3c">heap_3.c<a href="#heap_3c" class="hash-link" aria-label="Direct link to heap_3.c" title="Direct link to heap_3.c">​</a></h4>
<p><code>heap_3.c</code> simply wraps the standard C library’s <code>malloc()</code> and <code>free()</code> functions, ensuring compatibility with common compilers. These wrapped functions are made thread-safe by suspending the scheduler before memory operations and resuming it afterward.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="heap_4c">heap_4.c<a href="#heap_4c" class="hash-link" aria-label="Direct link to heap_4.c" title="Direct link to heap_4.c">​</a></h4>
<p>Like <code>heap_2.c</code>, <code>heap_4.c</code> uses a best-fit algorithm but also includes a coalescing mechanism to merge adjacent free blocks, reducing fragmentation. It is especially suitable for port layers that directly use <code>pvPortMalloc()</code> and <code>vPortFree()</code>. Unlike <code>heap_2.c</code>, its free block list is sorted by memory address (lower addresses first) to facilitate efficient merging during deallocation.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="heap_5c">heap_5.c<a href="#heap_5c" class="hash-link" aria-label="Direct link to heap_5.c" title="Direct link to heap_5.c">​</a></h4>
<p><code>heap_5.c</code> uses the same best-fit and coalescing algorithms as <code>heap_4.c</code> but supports memory heaps spanning multiple non-contiguous memory regions (e.g., internal RAM and external SDRAM). This scheme is more complex and slightly less real-time efficient than <code>heap_4.c</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rdk-s100-memory-scheme">RDK-S100 Memory Scheme<a href="#rdk-s100-memory-scheme" class="hash-link" aria-label="Direct link to RDK-S100 Memory Scheme" title="Direct link to RDK-S100 Memory Scheme">​</a></h4>
<p>RDK-S100 uses <code>heap_4.c</code>, which combines best-fit allocation and coalescing. It supports allocation and deallocation of arbitrary-sized memory blocks, minimizes fragmentation, covers all real-time system scenarios, and offers good real-time performance.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="log-area-adjustment">LOG Area Adjustment<a href="#log-area-adjustment" class="hash-link" aria-label="Direct link to LOG Area Adjustment" title="Direct link to LOG Area Adjustment">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mcu1-area-adjustment">MCU1 Area Adjustment<a href="#mcu1-area-adjustment" class="hash-link" aria-label="Direct link to MCU1 Area Adjustment" title="Direct link to MCU1 Area Adjustment">​</a></h3>
<p>Modify the relevant section in <code>/mcu/Build/FreeRtos_mcu1/Linker/gcc/S100.ld</code>. The size cannot be changed for now.</p>
<p><img decoding="async" loading="lazy" src="https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/07_Advanced_development/05_mcu_development/01_S100/FreeRTOS_development/mcu_log_address.png" alt="" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="acore-area-adjustment">Acore Area Adjustment<a href="#acore-area-adjustment" class="hash-link" aria-label="Direct link to Acore Area Adjustment" title="Direct link to Acore Area Adjustment">​</a></h3>
<p>Modify the corresponding section in <code>/source/hobot-drivers/kernel-dts/drobot-s100-soc.dtsi</code>, keeping it consistent with the MCU1 modification.</p>
<p><img decoding="async" loading="lazy" src="https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/07_Advanced_development/05_mcu_development/01_S100/FreeRTOS_development/acore_log_address.png" alt="" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="reserved-shared-memory-region-between-mcu-and-acore">Reserved Shared Memory Region Between MCU and Acore<a href="#reserved-shared-memory-region-between-mcu-and-acore" class="hash-link" aria-label="Direct link to Reserved Shared Memory Region Between MCU and Acore" title="Direct link to Reserved Shared Memory Region Between MCU and Acore">​</a></h2>
<p>This shared memory region is allocated within the MCU0 address space. However, since both MCU0 and MCU1 belong to the same MCU SRAM domain, MCU1 can also access this address range:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MCU_STATE_Reserved      </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> org </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x0C800400</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> len </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">K</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="currently-occupied-regions">Currently Occupied Regions:<a href="#currently-occupied-regions" class="hash-link" aria-label="Direct link to Currently Occupied Regions:" title="Direct link to Currently Occupied Regions:">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MCU1_VERSION</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">  org </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x0C800400</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> len </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x60</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MCU_ALIVE</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">     org </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x0C800460</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> len </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">MCU0_ALIVE</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> org </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x0C800460</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> len </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x04</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">MCU1_ALIVE</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> org </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x0C800464</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> len </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x04</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">REVERSED</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">   org </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x0C800468</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> len </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x08</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-notes">Usage Notes<a href="#usage-notes" class="hash-link" aria-label="Direct link to Usage Notes" title="Direct link to Usage Notes">​</a></h3>
<p>When using shared memory for data transfer, a synchronization issue may arise: MCU updates data in SRAM, but Acore still reads stale data from its cache.</p>
<p>To prevent data inconsistency between Acore and MCU, prepend variables with <code>volatile</code> or use the <code>ioremap_np()</code> function. Both methods ensure direct reads from SRAM instead of cached values.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-12-19T10:26:41.000Z" itemprop="dateModified">Dec 19, 2025</time></b></span></div></div></footer></article><nav class="pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/MCU_build_system"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">MCU System Description</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rdk_doc/en/rdk_s/Advanced_development/mcu_development/S100/mcu_uart"><div class="pagination-nav__sublabel">Next </div><div class="pagination-nav__label">UART Usage Guide</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#mcu-interrupt-numbers-and-corresponding-modules" class="table-of-contents__link toc-highlight">MCU Interrupt Numbers and Corresponding Modules</a></li><li><a href="#mcu-interrupt-usage" class="table-of-contents__link toc-highlight">MCU Interrupt Usage</a></li><li><a href="#guide-to-adding-compilation-directories" class="table-of-contents__link toc-highlight">Guide to Adding Compilation Directories</a><ul><li><a href="#brief-introduction-to-scons" class="table-of-contents__link toc-highlight">Brief Introduction to SCons</a></li><li><a href="#steps-to-add-a-compilation-directory" class="table-of-contents__link toc-highlight">Steps to Add a Compilation Directory</a></li></ul></li><li><a href="#introduction-to-mcu-freertos-system" class="table-of-contents__link toc-highlight">Introduction to MCU FreeRTOS System</a><ul><li><a href="#power" class="table-of-contents__link toc-highlight">Power</a></li><li><a href="#boot" class="table-of-contents__link toc-highlight">Boot</a></li><li><a href="#ota" class="table-of-contents__link toc-highlight">OTA</a></li><li><a href="#sleepwake-up" class="table-of-contents__link toc-highlight">Sleep/Wake-up</a></li><li><a href="#system-interrupt-description" class="table-of-contents__link toc-highlight">System Interrupt Description</a></li></ul></li><li><a href="#introduction-to-freertos-system" class="table-of-contents__link toc-highlight">Introduction to FreeRTOS System</a><ul><li><a href="#freertos-task-creation" class="table-of-contents__link toc-highlight">FreeRTOS Task Creation</a></li><li><a href="#freertos-interrupt-usage" class="table-of-contents__link toc-highlight">FreeRTOS Interrupt Usage</a></li><li><a href="#introduction-to-freertos-memory-management-scheme" class="table-of-contents__link toc-highlight">Introduction to FreeRTOS Memory Management Scheme</a><ul><li><a href="#heap_1c" class="table-of-contents__link toc-highlight">heap_1.c</a></li><li><a href="#heap_2c" class="table-of-contents__link toc-highlight">heap_2.c</a></li><li><a href="#heap_3c" class="table-of-contents__link toc-highlight">heap_3.c</a></li><li><a href="#heap_4c" class="table-of-contents__link toc-highlight">heap_4.c</a></li><li><a href="#heap_5c" class="table-of-contents__link toc-highlight">heap_5.c</a></li><li><a href="#rdk-s100-memory-scheme" class="table-of-contents__link toc-highlight">RDK-S100 Memory Scheme</a></li></ul></li></ul></li><li><a href="#log-area-adjustment" class="table-of-contents__link toc-highlight">LOG Area Adjustment</a><ul><li><a href="#mcu1-area-adjustment" class="table-of-contents__link toc-highlight">MCU1 Area Adjustment</a></li><li><a href="#acore-area-adjustment" class="table-of-contents__link toc-highlight">Acore Area Adjustment</a></li></ul></li><li><a href="#reserved-shared-memory-region-between-mcu-and-acore" class="table-of-contents__link toc-highlight">Reserved Shared Memory Region Between MCU and Acore</a><ul><li><a href="#currently-occupied-regions" class="table-of-contents__link toc-highlight">Currently Occupied Regions:</a></li><li><a href="#usage-notes" class="table-of-contents__link toc-highlight">Usage Notes</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.guyuehome.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GuYueHome<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Contact US</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/D-Robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@D-Robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 D-Robotics.</div></div></div></footer></div>
</body>
</html>