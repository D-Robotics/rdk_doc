<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-docs_s docs-version-current docs-doc-page docs-doc-id-Advanced_development/linux_development/hardware_unit_test/usb_performance" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">USB Bus Speed Test | RDK DOC</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://developer.d-robotics.cc/rdk_doc/en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://developer.d-robotics.cc/rdk_doc/en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://developer.d-robotics.cc/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/usb_performance"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-docs_s-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-docs_s-current"><meta data-rh="true" property="og:title" content="USB Bus Speed Test | RDK DOC"><meta data-rh="true" name="description" content="Test Principle"><meta data-rh="true" property="og:description" content="Test Principle"><link data-rh="true" rel="icon" href="/rdk_doc/en/img/logo.png"><link data-rh="true" rel="canonical" href="https://developer.d-robotics.cc/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/usb_performance"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/rdk_s/Advanced_development/linux_development/hardware_unit_test/usb_performance" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/usb_performance" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/rdk_s/Advanced_development/linux_development/hardware_unit_test/usb_performance" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"7. Advanced Development","item":"https://developer.d-robotics.cc/rdk_doc/en/rdk_s/Advanced_development"},{"@type":"ListItem","position":2,"name":"7.2. Linux Development Guide","item":"https://developer.d-robotics.cc/rdk_doc/en/rdk_s/linux_development"},{"@type":"ListItem","position":3,"name":"7.2.5 Hardware Unit Testing","item":"https://developer.d-robotics.cc/rdk_doc/en/rdk_s/hardware_unit_test"},{"@type":"ListItem","position":4,"name":"USB Bus Speed Test","item":"https://developer.d-robotics.cc/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/usb_performance"}]}</script><script src="https://hm.baidu.com/hm.js?24dd63cad43b63889ea6bede5fd1ab9e" async></script><link rel="stylesheet" href="/rdk_doc/en/assets/css/styles.0fbd7d27.css">
<script src="/rdk_doc/en/assets/js/runtime~main.31d42cfe.js" defer="defer"></script>
<script src="/rdk_doc/en/assets/js/main.d28569a6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://d-robotics.cc/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/rdk_doc/en/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rdk_doc/en/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">D-Robotics</b></a><a class="navbar__item navbar__link" href="/rdk_doc/en/RDK">RDK X3 / X5</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rdk_doc/en/rdk_s/RDK">RDK S100</a><a href="https://developer.d-robotics.cc/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/D-Robotics" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>EN</a><ul class="dropdown__menu"><li><a href="/rdk_doc/rdk_s/Advanced_development/linux_development/hardware_unit_test/usb_performance" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-Hans">CN</a></li><li><a href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/usb_performance" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">EN</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rdk_doc/en/rdk_s/RDK">D-Robotics RDK Kit</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Quick_start">1. Quick Start</a><button aria-label="Expand sidebar category &#x27;1. Quick Start&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/System_configuration">2. System Configuration</a><button aria-label="Expand sidebar category &#x27;2. System Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Basic_Application">3. Basic Application Development</a><button aria-label="Expand sidebar category &#x27;3. Basic Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Basic_Development">4. Algorithm Application Development</a><button aria-label="Expand sidebar category &#x27;4. Algorithm Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Robot_development">5. Robotics Application Development</a><button aria-label="Expand sidebar category &#x27;5. Robotics Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Application_case">6. Application Development Guide</a><button aria-label="Expand sidebar category &#x27;6. Application Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/rdk_doc/en/rdk_s/Advanced_development">7. Advanced Development</a><button aria-label="Collapse sidebar category &#x27;7. Advanced Development&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/rdk_s/hardware_development">7.1 Hardware Development Guide</a><button aria-label="Expand sidebar category &#x27;7.1 Hardware Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/rdk_doc/en/rdk_s/linux_development">7.2. Linux Development Guide</a><button aria-label="Collapse sidebar category &#x27;7.2. Linux Development Guide&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/environment_build">7.2.1 Development Environment Setup and Build Instructions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/kernel_headers">7.2.2 Kernel Headers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/realtime_kernel">7.2.3 Applying the Real-Time Kernel</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/rdk_s/driver_development_s100">7.2.4 RDK S100 Driver Development Guide</a><button aria-label="Expand sidebar category &#x27;7.2.4 RDK S100 Driver Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/rdk_doc/en/rdk_s/hardware_unit_test">7.2.5 Hardware Unit Testing</a><button aria-label="Collapse sidebar category &#x27;7.2.5 Hardware Unit Testing&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/the_auto_test">AutoTest Usage Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/bpu_cpu_ddr_stress">CPU-BPU-DDR Stress Test</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/emmc_stress">eMMC Stress Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/uart_stress">UART Stress Test</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/spi_stress">SPI Stress Test</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/wifi_performance">Wi-Fi Performance Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/ethernet_performance">Ethernet Performance Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/cpu_performance">CPU Performance Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/ddr_bandwidth">DDR Bandwidth Test</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/usb_performance">USB Bus Speed Test</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/10-3d_gpu">3D GPU Performance Testing</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/OTA">7.2.6 OTA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/kernel_debug">7.2.7 Introduction to Linux Debugging Features</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/rdk_s/03_multimedia_development">7.3 Multimedia Development Guide</a><button aria-label="Expand sidebar category &#x27;7.3 Multimedia Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/rdk_s/04_toolchain_development">7.4 Algorithm Toolchain Development Guide</a><button aria-label="Expand sidebar category &#x27;7.4 Algorithm Toolchain Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/rdk_s/05_MCU_development">7.5 MCU Development Guide</a><button aria-label="Expand sidebar category &#x27;7.5 MCU Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/rdk_gen">7.6 RDK S100 Build System Development Guide</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/FAQ">8. FAQ</a><button aria-label="Expand sidebar category &#x27;8. FAQ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Appendix">9. Appendix</a><button aria-label="Expand sidebar category &#x27;9. Appendix&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rdk_doc/en/rdk_s/Release_Note/roadmap">10. Version release</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rdk_doc/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rdk_doc/en/rdk_s/Advanced_development"><span>7. Advanced Development</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rdk_doc/en/rdk_s/linux_development"><span>7.2. Linux Development Guide</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rdk_doc/en/rdk_s/hardware_unit_test"><span>7.2.5 Hardware Unit Testing</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">USB Bus Speed Test</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>USB Bus Speed Test</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="test-principle">Test Principle<a href="#test-principle" class="hash-link" aria-label="Direct link to Test Principle" title="Direct link to Test Principle">​</a></h2>
<p>The basic principle of USB speed testing is to measure the data transfer rate between the USB device and the host, calculate the data transfer time, and thereby determine the actual bus speed.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="test-content">Test Content<a href="#test-content" class="hash-link" aria-label="Direct link to Test Content" title="Direct link to Test Content">​</a></h3>
<p>The USB bus speed test uses both a USB virtual network interface and the <code>dd</code> command to perform read/write operations on a USB flash drive. These two testing methods are used to evaluate the transfer speeds of USB 2.0 and USB 3.0.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="explanation-of-the-dd-command-principle">Explanation of the <code>dd</code> Command Principle<a href="#explanation-of-the-dd-command-principle" class="hash-link" aria-label="Direct link to explanation-of-the-dd-command-principle" title="Direct link to explanation-of-the-dd-command-principle">​</a></h4>
<p>The principle of using the <code>dd</code> command to test USB bus speed involves <strong>disk I/O performance testing</strong>. Although it does not directly measure the speed of the USB bus itself, it indirectly reveals potential USB bus performance bottlenecks by measuring the throughput during data read/write operations with the USB device.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dd if=/dev/zero of=/mnt/usb/testfile bs=1M count=1024 conv=sync oflag=direct</span><br></span></code></pre></div></div>
<ul>
<li><code>if=/dev/zero</code>: The input file is <code>/dev/zero</code>, which generates a continuous stream of zero bytes.</li>
<li><code>of=/mnt/usb/testfile</code>: The output file is <code>testfile</code> under the mount point of the USB storage device, meaning data is written to the USB flash drive.</li>
<li><code>bs=1M</code>: Block size is set to 1 MB. Each operation reads or writes 1 MB of data.</li>
<li><code>count=1024</code>: Write 1024 blocks in total, i.e., 1 GB of data.</li>
<li><code>conv=sync</code>: This parameter handles block alignment. If the input data block size is smaller than <code>bs</code> (4 KB in this example), <code>conv=sync</code> pads the missing portion with zeros to ensure each block is exactly 4 KB.</li>
<li><code>oflag=direct</code>: Bypasses the system cache and writes directly to the USB flash drive.</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dd if=/path/to/source_file of=/dev/null bs=4K iflag=direct</span><br></span></code></pre></div></div>
<ul>
<li><code>if=/path/to/source_file</code>: Specifies the input file path; <code>/path/to/source_file</code> is the file from which data will be read.</li>
<li><code>of=/dev/null</code>: Specifies the output file location; here, data is discarded by writing to <code>/dev/null</code>.</li>
<li><code>bs=4K</code>: Sets the block size for each read/write operation to 4 KB (4096 bytes).</li>
<li><code>iflag=direct</code>: The <code>direct</code> flag ensures data is read directly from the USB flash drive without going through the OS cache.</li>
</ul>
<p>By executing the <code>dd</code> read/write commands, the system writes zero-filled data to the USB flash drive and measures the throughput during the write process. After the command completes, the system displays the number of bytes written and the time taken, allowing calculation of the write speed. The <code>dd</code> read command works similarly.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="explanation-of-usb-virtual-network-interface-principle">Explanation of USB Virtual Network Interface Principle<a href="#explanation-of-usb-virtual-network-interface-principle" class="hash-link" aria-label="Direct link to Explanation of USB Virtual Network Interface Principle" title="Direct link to Explanation of USB Virtual Network Interface Principle">​</a></h4>
<p>Configure the USB port to operate in device mode and enable the RNDIS driver. Once connected to a PC, a remote network adapter appears on the computer. After configuring IP addresses on both the board and the PC, use the <code>iperf3</code> tool to test bandwidth and throughput.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="preparation">Preparation<a href="#preparation" class="hash-link" aria-label="Direct link to Preparation" title="Direct link to Preparation">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usb-flash-drive-readwrite-preparation">USB Flash Drive Read/Write Preparation<a href="#usb-flash-drive-readwrite-preparation" class="hash-link" aria-label="Direct link to USB Flash Drive Read/Write Preparation" title="Direct link to USB Flash Drive Read/Write Preparation">​</a></h3>
<p><strong>1.</strong> Insert the USB flash drive into the USB 3.0 port of the RDK_S100 development board. You can run the following command to check the USB interface type:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~# lsusb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bus 004 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bus 003 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bus 002 Device 002: ID 24a9:205a          MoveSpeed YD 3.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bus 002 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub</span><br></span></code></pre></div></div>
<p>The <code>lsblk</code> command identifies the USB flash drive as <code>/dev/sda1</code>:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~# lsblk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME         MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sda            8:0    1 117.2G  0 disk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-sda1         8:1    1 117.2G  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mmcblk0      179:0    0  58.2G  0 disk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-mmcblk0p1  179:1    0     1M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-mmcblk0p2  179:2    0     1M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-mmcblk0p3  179:3    0     1M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-mmcblk0p4  179:4    0     2M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-mmcblk0p5  179:5    0     2M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-mmcblk0p6  179:6    0     2M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-mmcblk0p7  179:7    0     2M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-mmcblk0p8  179:8    0     8M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-mmcblk0p9  179:9    0     8M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-mmcblk0p10 179:10   0     8M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-mmcblk0p11 179:11   0     8M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-mmcblk0p12 179:12   0    60M  0 part /boot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-mmcblk0p13 179:13   0    60M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-mmcblk0p14 179:14   0     8G  0 part /ota</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-mmcblk0p15 179:15   0     4G  0 part /log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-mmcblk0p16 179:16   0     2G  0 part /userdata</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`-mmcblk0p17 179:17   0  44.1G  0 part /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mmcblk0boot0 179:32   0     4M  1 disk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mmcblk0boot1 179:64   0     4M  1 disk</span><br></span></code></pre></div></div>
<p><strong>2.</strong> Mount the <code>/dev/sda1</code> device to <code>/mnt/usb</code>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mount /dev/sda1 /mnt/usb</span><br></span></code></pre></div></div>
<p>According to the <code>lsusb</code> output, <code>BUS2: ID 1d6b:205a</code> indicates a USB 3.1 controller. Since the newly inserted USB flash drive appears on BUS2, it is confirmed to be a USB 3.1 device.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="test-procedure">Test Procedure<a href="#test-procedure" class="hash-link" aria-label="Direct link to Test Procedure" title="Direct link to Test Procedure">​</a></h2>
<p>Run the <code>lsblk</code> command to verify that the USB flash drive is correctly mounted:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~# lsblk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME         MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sda            8:0    1 117.2G  0 disk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─sda1         8:1    1 117.2G  0 part /mnt/usb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mmcblk0      179:0    0  58.2G  0 disk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├ ─mmcblk0p1   179:1    0     1M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─mmcblk0p2   179:2    0     1M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─mmcblk0p3   179:3    0     1M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─mmcblk0p4   179:4    0     2M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─mmcblk0p5   179:5    0     2M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─mmcblk0p6   179:6    0     2M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─mmcblk0p7   179:7    0     2M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─mmcblk0p8   179:8    0     8M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─mmcblk0p9   179:9    0     8M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─mmcblk0p10  179:10   0     8M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─mmcblk0p11  179:11   0     8M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─mmcblk0p12  179:12   0    60M  0 part /boot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─mmcblk0p13  179:13   0    60M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─mmcblk0p14  179:14   0     8G  0 part /ota</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─mmcblk0p15  179:15   0     4G  0 part /log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─mmcblk0p16  179:16   0     2G  0 part /userdata</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─mmcblk0p17  179:17   0  44.1G  0 part /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mmcblk0boot0 179:32   0     4M  1 disk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mmcblk0boot1 179:64   0     4M  1 disk</span><br></span></code></pre></div></div>
<p>Run the following <code>dd</code> command to test the USB bus write speed:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~# dd if=/dev/zero of=/mnt/usb/myfile bs=4K count=256K conv=sync</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">262144+0 records in</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">262144+0 records out</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1073741824 bytes (1.1 GB, 1.0 GiB) copied, 4.19208 s, 256 MB/s</span><br></span></code></pre></div></div>
<p>Run the following <code>dd</code> command to test the USB bus read speed:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~# dd if=/mnt/usb/myfile of=/dev/null bs=4K count=256K</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">262144+0 records in</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">262144+0 records out</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1073741824 bytes (1.1 GB, 1.0 GiB) copied, 10.5222 s, 102 MB/s</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="preparation-1">Preparation<a href="#preparation-1" class="hash-link" aria-label="Direct link to Preparation" title="Direct link to Preparation">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usb-virtual-network-interface-setup">USB Virtual Network Interface Setup<a href="#usb-virtual-network-interface-setup" class="hash-link" aria-label="Direct link to USB Virtual Network Interface Setup" title="Direct link to USB Virtual Network Interface Setup">​</a></h3>
<p><strong>1.</strong> Connect the RDK_S100 development board’s USB 2.0 port to a PC’s USB 2.0 port, as shown below:</p>
<p><img decoding="async" loading="lazy" src="https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/images_to_upload/S100_USB2.0.png" alt="S100_USB2.0" class="img_ev3q"></p>
<p><strong>2.</strong> Configure the USB 2.0 port as a virtual network interface using the following commands:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">usb-gadget.sh stop adb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usb-gadget.sh start rndis</span><br></span></code></pre></div></div>
<p>Command output:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">USB2.0 Gadget</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Detecting platform:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> board : D-Robotics RDK S100 V0P5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> udc   : 39820000.dwc3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Stopping the USB gadget</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Stoping &amp; Delete usb-gadget g_comp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">waiting...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">... (omitted) ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bind functions...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bind functions according to .usb-config file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bind gadget rndis...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Creating RNDIS gadget functionality</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pre run userspace daemons(eg. adb)...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">waiting</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Binding USB Device Controller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Run some userspace daemons(eg. usb_camera)...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usb-gadget start succeed.</span><br></span></code></pre></div></div>
<p>On the PC, open the network configuration panel and you should see a network adapter labeled <code>Remote RNDIS Compatible Device</code>, as shown below:</p>
<p><img decoding="async" loading="lazy" src="http://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/images_to_upload/RNIS_Device-en.png" alt="RNIS_Device" class="img_ev3q"></p>
<p><strong>3.</strong> Use the following command to configure the IP address of the <code>usb0</code> network interface so that it resides in the same subnet as the PC-side remote network adapter:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ifconfig usb0 192.168.1.110</span><br></span></code></pre></div></div>
<p>PC-side remote network adapter IP configuration is shown below:</p>
<p><img decoding="async" loading="lazy" src="http://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/images_to_upload/NETWORK_CONFIG-en.png" alt="NETWORK_CONFIG" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="test-method">Test Method<a href="#test-method" class="hash-link" aria-label="Direct link to Test Method" title="Direct link to Test Method">​</a></h2>
<p>On the PC side, run iperf3 to start the server. Launch the server by executing the following command in the Command Prompt (cmd):</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">iperf3 -s -p 5002</span><br></span></code></pre></div></div>
<p>On the RDK_S100 development board, run iperf3 as a client. Use the same IP address and port number as configured on the server side to connect and initiate the test. Execute the following command:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~# iperf3 -c 192.168.1.111 -i 1 -t 600 -p 5002</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Connecting to host 192.168.1.111, port 5002</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[  5] local 192.168.5.10 port 57234 connected to 192.168.5.12 port 5002</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ID] Interval           Transfer     Bitrate         Retr  Cwnd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[  5]   0.00-1.00   sec  34.4 MBytes   289 Mbits/sec    0   67.0 KBytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[  5]   1.00-2.00   sec  33.8 MBytes   284 Mbits/sec    0   67.0 KBytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[  5]   2.00-3.00   sec  34.0 MBytes   285 Mbits/sec    0   67.0 KBytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[  5]   3.00-4.00   sec  34.0 MBytes   285 Mbits/sec    0   67.0 KBytes</span><br></span></code></pre></div></div>
<p>If the client connects successfully, the PC server will print the following output:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Accepted connection from 192.168.1.110, port 57220</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[  5] local 192.168.1.111 port 5002 connected to 192.168.1.110 port 57234</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="test-metrics">Test Metrics<a href="#test-metrics" class="hash-link" aria-label="Direct link to Test Metrics" title="Direct link to Test Metrics">​</a></h2>
<p>Theoretical maximum speeds of USB buses:</p>
<ul>
<li>USB 2.0: 480 Mbps (i.e., 60 MB/s)</li>
<li>USB 3.1 Gen 1 (i.e., USB 3.0): 5 Gbps (i.e., 625 MB/s)</li>
<li>USB 3.1 Gen 2: 10 Gbps (i.e., 1250 MB/s)</li>
</ul>
<p>Actual transfer speeds are typically lower than the theoretical maximum due to protocol overhead, hardware limitations, and device performance. In practice:</p>
<ul>
<li>USB 2.0 usually achieves 25 MB/s to 35 MB/s,</li>
<li>USB 3.1 Gen 1 typically ranges from 40 MB/s to 200 MB/s,</li>
<li>USB 3.1 Gen 2 usually delivers between 600 MB/s and 900 MB/s.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="common-influencing-factors">Common Influencing Factors<a href="#common-influencing-factors" class="hash-link" aria-label="Direct link to Common Influencing Factors" title="Direct link to Common Influencing Factors">​</a></h3>
<ul>
<li><strong>USB Version</strong>: Bandwidth differences among USB 3.1 Gen 1, USB 3.1 Gen 2, and USB 2.0 directly impact data transfer rates. For example, using a device on a USB 2.0 port limits the theoretical maximum speed to 480 Mbps, with actual speeds often lower.</li>
<li><strong>Device Type</strong>: Different USB devices (e.g., USB flash drives, external HDDs, SSDs) exhibit varying read/write performance. Flash-based USB drives are generally slower, whereas SSDs offer better performance.</li>
<li><strong>Block Size (<code>bs</code>)</strong>: The block size used in the <code>dd</code> command significantly affects test results. Larger block sizes may increase throughput, while excessively small block sizes can reduce efficiency. Adjusting the <code>dd</code> command parameters appropriately can yield more accurate test results.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="test-results">Test Results<a href="#test-results" class="hash-link" aria-label="Direct link to Test Results" title="Direct link to Test Results">​</a></h3>
<p>Using the methods described in Test 1 and Test 2, the actual transfer speeds of USB 3.1 Gen 1 and USB 2.0 can be effectively measured, and the results align well with real-world USB performance.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-12-12T10:16:51.000Z" itemprop="dateModified">Dec 12, 2025</time></b></span></div></div></footer></article><nav class="pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/ddr_bandwidth"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">DDR Bandwidth Test</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/10-3d_gpu"><div class="pagination-nav__sublabel">Next </div><div class="pagination-nav__label">3D GPU Performance Testing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#test-principle" class="table-of-contents__link toc-highlight">Test Principle</a><ul><li><a href="#test-content" class="table-of-contents__link toc-highlight">Test Content</a><ul><li><a href="#explanation-of-the-dd-command-principle" class="table-of-contents__link toc-highlight">Explanation of the <code>dd</code> Command Principle</a></li><li><a href="#explanation-of-usb-virtual-network-interface-principle" class="table-of-contents__link toc-highlight">Explanation of USB Virtual Network Interface Principle</a></li></ul></li></ul></li><li><a href="#preparation" class="table-of-contents__link toc-highlight">Preparation</a><ul><li><a href="#usb-flash-drive-readwrite-preparation" class="table-of-contents__link toc-highlight">USB Flash Drive Read/Write Preparation</a></li></ul></li><li><a href="#test-procedure" class="table-of-contents__link toc-highlight">Test Procedure</a></li><li><a href="#preparation-1" class="table-of-contents__link toc-highlight">Preparation</a><ul><li><a href="#usb-virtual-network-interface-setup" class="table-of-contents__link toc-highlight">USB Virtual Network Interface Setup</a></li></ul></li><li><a href="#test-method" class="table-of-contents__link toc-highlight">Test Method</a></li><li><a href="#test-metrics" class="table-of-contents__link toc-highlight">Test Metrics</a><ul><li><a href="#common-influencing-factors" class="table-of-contents__link toc-highlight">Common Influencing Factors</a></li><li><a href="#test-results" class="table-of-contents__link toc-highlight">Test Results</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.guyuehome.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GuYueHome<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Contact US</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/D-Robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@D-Robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 D-Robotics.</div></div></div></footer></div>
</body>
</html>