<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-docs_s docs-version-current docs-doc-page docs-doc-id-Advanced_development/linux_development/hardware_unit_test/spi_stress" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">SPI Stress Test | RDK DOC</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://developer.d-robotics.cc/rdk_doc/en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://developer.d-robotics.cc/rdk_doc/en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://developer.d-robotics.cc/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/spi_stress"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-docs_s-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-docs_s-current"><meta data-rh="true" property="og:title" content="SPI Stress Test | RDK DOC"><meta data-rh="true" name="description" content="Test Principle"><meta data-rh="true" property="og:description" content="Test Principle"><link data-rh="true" rel="icon" href="/rdk_doc/en/img/logo.png"><link data-rh="true" rel="canonical" href="https://developer.d-robotics.cc/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/spi_stress"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/rdk_s/Advanced_development/linux_development/hardware_unit_test/spi_stress" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/spi_stress" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/rdk_s/Advanced_development/linux_development/hardware_unit_test/spi_stress" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"7. Advanced Development","item":"https://developer.d-robotics.cc/rdk_doc/en/rdk_s/Advanced_development"},{"@type":"ListItem","position":2,"name":"7.2. Linux Development Guide","item":"https://developer.d-robotics.cc/rdk_doc/en/rdk_s/linux_development"},{"@type":"ListItem","position":3,"name":"7.2.5 Hardware Unit Testing","item":"https://developer.d-robotics.cc/rdk_doc/en/rdk_s/hardware_unit_test"},{"@type":"ListItem","position":4,"name":"SPI Stress Test","item":"https://developer.d-robotics.cc/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/spi_stress"}]}</script><script src="https://hm.baidu.com/hm.js?24dd63cad43b63889ea6bede5fd1ab9e" async></script><link rel="stylesheet" href="/rdk_doc/en/assets/css/styles.0fbd7d27.css">
<script src="/rdk_doc/en/assets/js/runtime~main.4a21fe5d.js" defer="defer"></script>
<script src="/rdk_doc/en/assets/js/main.878b89d8.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://d-robotics.cc/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/rdk_doc/en/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rdk_doc/en/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">D-Robotics</b></a><a class="navbar__item navbar__link" href="/rdk_doc/en/RDK">RDK X3 / X5</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rdk_doc/en/rdk_s/RDK">RDK S100</a><a href="https://developer.d-robotics.cc/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/D-Robotics" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>EN</a><ul class="dropdown__menu"><li><a href="/rdk_doc/rdk_s/Advanced_development/linux_development/hardware_unit_test/spi_stress" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-Hans">CN</a></li><li><a href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/spi_stress" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">EN</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rdk_doc/en/rdk_s/RDK">D-Robotics RDK Kit</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Quick_start">1. Quick Start</a><button aria-label="Expand sidebar category &#x27;1. Quick Start&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/System_configuration">2. System Configuration</a><button aria-label="Expand sidebar category &#x27;2. System Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Basic_Application">3. Basic Application Development</a><button aria-label="Expand sidebar category &#x27;3. Basic Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Basic_Development">4. Algorithm Application Development</a><button aria-label="Expand sidebar category &#x27;4. Algorithm Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Robot_development">5. Robotics Application Development</a><button aria-label="Expand sidebar category &#x27;5. Robotics Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Application_case">6. Application Development Guide</a><button aria-label="Expand sidebar category &#x27;6. Application Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/rdk_doc/en/rdk_s/Advanced_development">7. Advanced Development</a><button aria-label="Collapse sidebar category &#x27;7. Advanced Development&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/rdk_s/hardware_development">7.1 Hardware Development Guide</a><button aria-label="Expand sidebar category &#x27;7.1 Hardware Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/rdk_doc/en/rdk_s/linux_development">7.2. Linux Development Guide</a><button aria-label="Collapse sidebar category &#x27;7.2. Linux Development Guide&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/environment_build">7.2.1 Development Environment Setup and Build Instructions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/kernel_headers">7.2.2 Kernel Headers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/realtime_kernel">7.2.3 Applying the Real-Time Kernel</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/rdk_s/driver_development_s100">7.2.4 RDK S100 Driver Development Guide</a><button aria-label="Expand sidebar category &#x27;7.2.4 RDK S100 Driver Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/rdk_doc/en/rdk_s/hardware_unit_test">7.2.5 Hardware Unit Testing</a><button aria-label="Collapse sidebar category &#x27;7.2.5 Hardware Unit Testing&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/the_auto_test">AutoTest Usage Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/bpu_cpu_ddr_stress">CPU-BPU-DDR Stress Test</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/emmc_stress">eMMC Stress Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/uart_stress">UART Stress Test</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/spi_stress">SPI Stress Test</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/wifi_performance">Wi-Fi Performance Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/ethernet_performance">Ethernet Performance Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/cpu_performance">CPU Performance Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/ddr_bandwidth">DDR Bandwidth Test</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/usb_performance">USB Bus Speed Test</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/10-3d_gpu">3D GPU Performance Testing</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/OTA">7.2.6 OTA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/kernel_debug">7.2.7 Introduction to Linux Debugging Features</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/rdk_s/03_multimedia_development">7.3 Multimedia Development Guide</a><button aria-label="Expand sidebar category &#x27;7.3 Multimedia Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/rdk_s/04_toolchain_development">7.4 Algorithm Toolchain Development Guide</a><button aria-label="Expand sidebar category &#x27;7.4 Algorithm Toolchain Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/en/rdk_s/05_MCU_development">7.5 MCU Development Guide</a><button aria-label="Expand sidebar category &#x27;7.5 MCU Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/rdk_s/Advanced_development/rdk_gen">7.6 RDK S100 Build System Development Guide</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/FAQ">8. FAQ</a><button aria-label="Expand sidebar category &#x27;8. FAQ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/rdk_s/Appendix">9. Appendix</a><button aria-label="Expand sidebar category &#x27;9. Appendix&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rdk_doc/en/rdk_s/Release_Note/roadmap">10. Version release</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rdk_doc/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rdk_doc/en/rdk_s/Advanced_development"><span>7. Advanced Development</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rdk_doc/en/rdk_s/linux_development"><span>7.2. Linux Development Guide</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rdk_doc/en/rdk_s/hardware_unit_test"><span>7.2.5 Hardware Unit Testing</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">SPI Stress Test</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>SPI Stress Test</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="test-principle">Test Principle<a href="#test-principle" class="hash-link" aria-label="Direct link to Test Principle" title="Direct link to Test Principle">​</a></h2>
<p>The SPI bus test tool (<code>spidev_tc</code>) is used to verify the basic functionality and performance of SPI devices. It simulates high-load conditions by configuring various parameters to evaluate key performance metrics such as SPI bus stability, throughput, latency, and error rate.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="test-content">Test Content<a href="#test-content" class="hash-link" aria-label="Direct link to Test Content" title="Direct link to Test Content">​</a></h3>
<p><strong>1. Test Procedure:</strong><br>
<!-- -->The core of the SPI stress test involves loopback testing for data transmission and reception. The main logic is reflected in the source code as follows:</p>
<ul>
<li><strong>Data Transfer Test</strong>: The functions <code>transfer_buf</code> and <code>transfer_read_write</code> are used to perform pure data transmission, reading, and verification. The packet length is controlled by the <code>transfer_size</code> parameter, and the test runs repeatedly for a number of iterations (controlled by <code>iterations</code>).</li>
<li><strong>Throughput and Rate Calculation</strong>: Global variables <code>_read_count</code> and <code>_write_count</code> record the number of bytes read and written, respectively. The transfer rate is periodically calculated and printed. The function <code>show_transfer_rate</code> computes and outputs the throughput (in kbps).</li>
<li><strong>Transfer Mode Switching</strong>: By varying SPI mode, bit width, and speed parameters, the tool tests SPI device performance under different conditions. For example, users can adjust the data buffer size or SPI bus speed (<code>speed</code>) to evaluate device stability and performance under varying loads.</li>
</ul>
<p><strong>2. Command Parsing:</strong></p>
<ul>
<li><strong>Test Command</strong>:<br>
<code>$\{script_dir}/spidev_tc&quot; -D &quot;$Device&quot; -s &quot;$spi_speed&quot; -I &quot;$StressCount&quot; -e 3 -S 32 &gt; &quot;$spi_test_log_file&quot; 2&gt;&amp;1</code></li>
<li><strong>Parameter Explanation</strong>:<!-- -->
<ul>
<li><code>-D &quot;$Device&quot;</code>: Specifies the SPI device file to operate on (e.g., <code>/dev/spidev2.0</code>).</li>
<li><code>-s &quot;$spi_speed&quot;</code>: Sets the SPI bus communication speed in Hertz (Hz).</li>
<li><code>-I &quot;$StressCount&quot;</code>: Specifies the number of test iterations.</li>
<li><code>-e 3</code>: Specifies the test mode or type. The number following <code>-e</code> usually indicates different test types; for example, <code>3</code> in the script represents loopback testing.</li>
<li><code>-S 32</code>: Specifies the data size per transfer in bytes.</li>
<li><code>&gt; &quot;$spi_test_log_file&quot; 2&gt;&amp;1</code>: Redirects command output.<!-- -->
<ul>
<li><code>&gt; &quot;$spi_test_log_file&quot;</code>: Redirects standard output (<code>stdout</code>) to the specified log file (<code>$spi_test_log_file</code>).</li>
<li><code>2&gt;&amp;1</code>: Redirects standard error (<code>stderr</code>) to the same log file, ensuring all output (including error messages) is captured.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="preparation">Preparation<a href="#preparation" class="hash-link" aria-label="Direct link to Preparation" title="Direct link to Preparation">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-stress-test-script-usage-instructions"><span id="test-script-user-manual"></span> Stress Test Script Usage Instructions<a href="#-stress-test-script-usage-instructions" class="hash-link" aria-label="Direct link to -stress-test-script-usage-instructions" title="Direct link to -stress-test-script-usage-instructions">​</a></h3>
<p>The serial stress test script supports the <code>-h</code> suffix to display command parameter descriptions. For example:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sunrise@ubuntu:/app/chip_base_test/04_spi_test# ./spistress.sh -h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Usage: ./spistress.sh [options]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d &lt;device&gt;      Set the SPI device to test (default: /dev/spidev0.0).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c &lt;count&gt;       Set the stress test count (default: 100).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -s &lt;speed&gt;       Set the SPI speed in Hz (default: 12000000).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -o &lt;directory&gt;   Set the output directory for logs (default: &#x27;../log&#x27;).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -h               Show this help message and exit.</span><br></span></code></pre></div></div>
<p>Parameter details:</p>
<ul>
<li><code>-d &lt;device&gt;</code>: Specifies the SPI device to test. Default path is <code>/dev/spidev0.0</code>.</li>
<li><code>-c &lt;count&gt;</code>: Sets the number of stress test iterations.</li>
<li><code>-s &lt;speed&gt;</code>: Sets the SPI speed in Hz. Default value is 12000000 (i.e., 12 MHz).</li>
<li><code>-o &lt;directory&gt;</code>: Sets the log output directory. Default is <code>../log</code>.</li>
</ul>
<p><strong>Example:</strong><br>
<!-- -->For instance, the command:<br>
<code>./spistress.sh -d /dev/spidev0.0 -c 500 -s 24000000 -o /userdata/spi_test_logs</code><br>
<!-- -->customizes the test for SPI device <code>/dev/spidev0.0</code>, sets the transfer speed to 24 MHz, runs 500 iterations, and saves logs to <code>/app/chip_base_test</code>.</p>
<p>Detailed parameters and command explanations from the <code>spidev_tc</code> source code are as follows:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-D --device: Specify the SPI device to use.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-s, --speed: Set maximum speed (Hz).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d, --delay: Set delay (microseconds).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-b, --bpw: Set bits per word.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-i, --input: Input data from a file (e.g., &quot;test.bin&quot;).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-o, --output: Output data to a file (e.g., &quot;results.bin&quot;).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-l, --loop: Enable loopback test.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H, --cpha: Clock phase.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-O, --cpol: Clock polarity.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-L, --lsb: Least significant bit first.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-C, --cs-high: Chip select active high.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-3, --3wire: Shared SI/SO signal.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v, --verbose: Verbose mode (display transmit buffer).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p : Send data (e.g., &quot;1234\xde\xad&quot;).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-N, --no-cs: Disable chip select.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-R, --ready: Slave pulls low to pause.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-2, --dual: Dual-line transfer.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-4, --quad: Quad-line transfer.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-S, --size: Specify test data size (bytes).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-I, --iter: Number of iterations; defaults to infinite loop when `-e` extended test mode is set.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e, --mode: Specify test mode: 1=read, 2=write, 3=read and write.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-h, --help: Display help information.</span><br></span></code></pre></div></div>
<p><strong>1.</strong> Refer to the RDK_S100 schematic to locate the pins and connector positions for SPI0_MOSI and SPI0_MISO, as shown below:</p>
<p><img decoding="async" loading="lazy" src="https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/images_to_upload/Spi_Schematic_diagram.png" alt="Spi_Schematic_diagram" class="img_ev3q"></p>
<p>Then, connect SPI0_MOSI and SPI0_MISO using a female-to-female Dupont jumper wire, as illustrated:</p>
<p><img decoding="async" loading="lazy" src="https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/images_to_upload/Spi_Connection_diagram.png" alt="Spi_Connection_diagram" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Note</div><div class="admonitionContent_BuS1"><p>The RDKS100 Acore supports two SPI interfaces, and both SPI0 and SPI1 can only operate as SPI Masters.<br>
<!-- -->Internal SPI loopback testing is only supported in SPI Master mode. The principle is that the SPI hardware IP’s TX FIFO sends data directly to the RX FIFO, forming a loopback.</p></div></div>
<p><strong>3.</strong> Confirm that the files <code>spistress.sh</code>, <code>spidev_tc.c</code>, and <code>spidev_tc</code> exist either in the SDK path <code>/app/chip_base_test/04_spi_test</code> or on the board at <code>sunrise@ubuntu:/app/chip_base_test/04_spi_test#</code>.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(base) root@//app/chip_base_test/04_spi_test# tree</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── spidev_tc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── spidev_tc.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── spistress.sh</span><br></span></code></pre></div></div>
<p><strong>4.</strong> If users need to customize test modes or features, it is recommended to rebuild the executable in the SDK compilation environment using the following command:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gcc -o spidev_tc spidev_tc.c</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="test-procedure">Test Procedure<a href="#test-procedure" class="hash-link" aria-label="Direct link to Test Procedure" title="Direct link to Test Procedure">​</a></h2>
<p>After completing the preparations, run the test command:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./spistress.sh</span><br></span></code></pre></div></div>
<p>After running for a while, the log output appears as follows:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sunrise@ubuntu:/app/chip_base_test/04_spi_test# ./spistress.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SPI test starting...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Test configuration:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Device: /dev/spidev0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Stress Count: 100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  SPI Speed: 12000000 Hz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Output Directory: /app/chip_base_test/log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Log file: /app/chip_base_test/log/spi_test_log3.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SPI test completed successfully! Log saved to: /app/chip_base_test/log/spi_test_log1.txt</span><br></span></code></pre></div></div>
<p>If no additional information appears in the console output, check the log file <code>spi_test_log1.txt</code> directly under <code>/app/chip_base_test/log/</code>:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sunrise@ubuntu:/app/chip_base_test# cat log/spi_test_log1.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spi mode: 0x0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bits per word: 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">max speed: 12000000 Hz (12000 kHz)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Userspace spi read and write test, test_len=32 iterations=100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Test times: 0 Data verification Successful</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Test times: 1 Data verification Successful</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Test times: 2 Data verification Successful</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Test times: 3 Data verification Successful</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Test times: 98 Data verification Successful</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Test times: 99 Data verification Successful</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="test-metrics">Test Metrics<a href="#test-metrics" class="hash-link" aria-label="Direct link to Test Metrics" title="Direct link to Test Metrics">​</a></h2>
<p>After the test program starts, the following files are generated in the <code>/app/chip_base_test/log/</code> directory:</p>
<ul>
<li><code>spi_test_log*.txt</code>: Records printed messages and current status during stress testing.</li>
</ul>
<p>The test objective is to ensure the system can run stably for 48 hours without rebooting or hanging. To verify stability during testing, use the following command to check for abnormal keywords such as <code>fail</code>, <code>error</code>, or <code>timeout</code> in the log files:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd &quot;/app/chip_base_test/log/&quot; &amp;&amp; grep -iE &#x27;error|fail|timeout&#x27; spi_test_log*.txt</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="spi-stress-test-results">SPI Stress Test Results<a href="#spi-stress-test-results" class="hash-link" aria-label="Direct link to SPI Stress Test Results" title="Direct link to SPI Stress Test Results">​</a></h3>
<p>After the test script completes, inspect the log files. If no abnormal status messages appear, the stress test passes.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Test times: 97 Data verification Successful</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Test times: 98 Data verification Successful</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Test times: 99 Data verification Successful</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="notes">Notes<a href="#notes" class="hash-link" aria-label="Direct link to Notes" title="Direct link to Notes">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="spi-internal-loopback-test">SPI Internal Loopback Test<a href="#spi-internal-loopback-test" class="hash-link" aria-label="Direct link to SPI Internal Loopback Test" title="Direct link to SPI Internal Loopback Test">​</a></h4>
<p><strong>1.</strong> For internal SPI loopback testing, simply modify the <code>-e</code> parameter in the script <code>./spistress.sh</code> to select a different test mode. For example, to perform an SPI read-write mode test:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./spidev_tc -D /dev/spidev0.0 -s 12000000 -I 1 -e 3 -S 32 -v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spi mode: 0x0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bits per word: 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">max speed: 12000000 Hz (12000 kHz)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Userspace spi read and write test, test_len=32 iterations=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TX | 67 C6 69 73 51 FF 4A EC 29 CD BA AB F2 FB E3 46 7C C2 54 F8 1B E8 E7 8D 76 5A 2E 63 33 9F C9 9A  |g.isQ.J.)......F|.T.....vZ.c3...|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RX | 67 C6 69 73 51 FF 4A EC 29 CD BA AB F2 FB E3 46 7C C2 54 F8 1B E8 E7 8D 76 5A 2E 63 33 9F C9 9A  |g.isQ.J.)......F|.T.....vZ.c3...|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Test times: 0 Data verification Successful</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="spi-external-loopback-test">SPI External Loopback Test<a href="#spi-external-loopback-test" class="hash-link" aria-label="Direct link to SPI External Loopback Test" title="Direct link to SPI External Loopback Test">​</a></h4>
<p>Prepare an RDK_S100 development board and wire out the four SPI lines. The Master can use SPI0, while the SPI Slave uses an external SPI device (selected by the user).</p>
<p><img decoding="async" loading="lazy" src="https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/images_to_upload/SPI_wiring_diagram.png" alt="SPI_wiring_diagram" class="img_ev3q"></p>
<p>Ensure that the SPI baud rate and transfer mode settings match between Master and Slave. On the Slave device side, first execute the data reception test command;</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./spidev_tc -D /dev/spidev0.0 -s 12000000 -I 1 -e 2 -S 32 -v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bits per word: 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">max speed: 1000000 Hz (1000 KHz)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">userspace spi write test, len=10 times=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test, times=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TX | 67 C6 69 73 51 FF 4A EC 29 CD __ __ __ __ __ __ __ __ __ __ __ __ __ __ __</span><br></span></code></pre></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./spidev_tc -D /dev/spidev0.0 -s 12000000 -I 10 -e 1 -S 32 -v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spi mode: 0x0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bits per word: 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">max speed: 1000000 Hz (1000 KHz)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">userspace spi read test, len=10 times=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test, times=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RX | 67 C6 69 73 51 FF 4A EC 29 CD __ __ __ __ __ __ __ __ __ __ __ __ __ __ __</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Note</div><div class="admonitionContent_BuS1"><p>Performance Note: The reference maximum SPI communication rate is 30 Mbps. The actual rate may vary due to system load and other factors; therefore, real-world testing is recommended. If you encounter FIFO overrun/underrun warnings during testing, consider reducing the communication speed.</p><p>Note: When performing an external loopback test, execute the SPI Slave program first, followed by the SPI Master program. If the SPI Master program runs before the SPI Slave program, data loss may occur due to lack of synchronization between Master and Slave.</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-12-01T06:04:39.000Z" itemprop="dateModified">Dec 1, 2025</time></b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/uart_stress"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">UART Stress Test</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/hardware_unit_test/wifi_performance"><div class="pagination-nav__sublabel">Next </div><div class="pagination-nav__label">Wi-Fi Performance Testing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#test-principle" class="table-of-contents__link toc-highlight">Test Principle</a><ul><li><a href="#test-content" class="table-of-contents__link toc-highlight">Test Content</a></li></ul></li><li><a href="#preparation" class="table-of-contents__link toc-highlight">Preparation</a><ul><li><a href="#-stress-test-script-usage-instructions" class="table-of-contents__link toc-highlight"><span></span> Stress Test Script Usage Instructions</a></li></ul></li><li><a href="#test-procedure" class="table-of-contents__link toc-highlight">Test Procedure</a></li><li><a href="#test-metrics" class="table-of-contents__link toc-highlight">Test Metrics</a><ul><li><a href="#spi-stress-test-results" class="table-of-contents__link toc-highlight">SPI Stress Test Results</a></li><li><a href="#notes" class="table-of-contents__link toc-highlight">Notes</a><ul><li><a href="#spi-internal-loopback-test" class="table-of-contents__link toc-highlight">SPI Internal Loopback Test</a></li><li><a href="#spi-external-loopback-test" class="table-of-contents__link toc-highlight">SPI External Loopback Test</a></li></ul></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.guyuehome.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GuYueHome<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Contact US</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/D-Robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@D-Robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 D-Robotics.</div></div></div></footer></div>
</body>
</html>