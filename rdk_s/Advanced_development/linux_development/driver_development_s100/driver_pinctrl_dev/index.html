<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-docs_s docs-version-current docs-doc-page docs-doc-id-Advanced_development/linux_development/driver_development_s100/driver_pinctrl_dev" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Pinctrl调试指南 | RDK DOC</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://developer.d-robotics.cc/rdk_doc/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://developer.d-robotics.cc/rdk_doc/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://developer.d-robotics.cc/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_pinctrl_dev"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-docs_s-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-docs_s-current"><meta data-rh="true" property="og:title" content="Pinctrl调试指南 | RDK DOC"><meta data-rh="true" name="description" content="Pinctrl使用"><meta data-rh="true" property="og:description" content="Pinctrl使用"><link data-rh="true" rel="icon" href="/rdk_doc/img/logo.png"><link data-rh="true" rel="canonical" href="https://developer.d-robotics.cc/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_pinctrl_dev"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_pinctrl_dev" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/en/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_pinctrl_dev" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_pinctrl_dev" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"7. 进阶开发","item":"https://developer.d-robotics.cc/rdk_doc/rdk_s/Advanced_development"},{"@type":"ListItem","position":2,"name":"7.2. Linux开发指南","item":"https://developer.d-robotics.cc/rdk_doc/rdk_s/linux_development"},{"@type":"ListItem","position":3,"name":"7.2.4 RDK S100驱动开发指南","item":"https://developer.d-robotics.cc/rdk_doc/rdk_s/driver_development_s100"},{"@type":"ListItem","position":4,"name":"Pinctrl调试指南","item":"https://developer.d-robotics.cc/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_pinctrl_dev"}]}</script><script src="https://hm.baidu.com/hm.js?24dd63cad43b63889ea6bede5fd1ab9e" async></script><link rel="stylesheet" href="/rdk_doc/assets/css/styles.0fbd7d27.css">
<script src="/rdk_doc/assets/js/runtime~main.ff498603.js" defer="defer"></script>
<script src="/rdk_doc/assets/js/main.c3dbb747.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://d-robotics.cc/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/rdk_doc/img/logo.png" alt="地瓜机器人社区 logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rdk_doc/img/logo.png" alt="地瓜机器人社区 logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">D-Robotics</b></a><a class="navbar__item navbar__link" href="/rdk_doc/RDK">RDK X3 / X5</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rdk_doc/rdk_s/RDK">RDK S100</a><a href="https://developer.d-robotics.cc/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/D-Robotics" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>CN</a><ul class="dropdown__menu"><li><a href="/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_pinctrl_dev" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-Hans">CN</a></li><li><a href="/rdk_doc/en/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_pinctrl_dev" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">EN</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="切换浅色/暗黑模式（当前为system mode）"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="搜索" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rdk_doc/rdk_s/RDK">D-Robotics RDK 套件</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/rdk_s/Quick_start">1. 快速开始</a><button aria-label="展开侧边栏分类 &#x27;1. 快速开始&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/rdk_s/System_configuration">2. 系统配置</a><button aria-label="展开侧边栏分类 &#x27;2. 系统配置&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/rdk_s/Basic_Application">3. 基础应用开发</a><button aria-label="展开侧边栏分类 &#x27;3. 基础应用开发&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/rdk_s/Basic_Development">4. 算法应用开发</a><button aria-label="展开侧边栏分类 &#x27;4. 算法应用开发&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/rdk_s/Robot_development">5. 机器人应用开发</a><button aria-label="展开侧边栏分类 &#x27;5. 机器人应用开发&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/rdk_s/Application_case">6. 应用开发指南</a><button aria-label="展开侧边栏分类 &#x27;6. 应用开发指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/rdk_doc/rdk_s/Advanced_development">7. 进阶开发</a><button aria-label="折叠侧边栏分类 &#x27;7. 进阶开发&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/rdk_s/hardware_development">7.1 硬件开发指南</a><button aria-label="展开侧边栏分类 &#x27;7.1 硬件开发指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/rdk_doc/rdk_s/linux_development">7.2. Linux开发指南</a><button aria-label="折叠侧边栏分类 &#x27;7.2. Linux开发指南&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/rdk_s/Advanced_development/linux_development/environment_build">7.2.1 开发环境搭建及编译说明</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/rdk_s/Advanced_development/linux_development/kernel_headers">7.2.2 内核头文件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/rdk_s/Advanced_development/linux_development/realtime_kernel">7.2.3 应用实时内核</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/rdk_doc/rdk_s/driver_development_s100">7.2.4 RDK S100驱动开发指南</a><button aria-label="折叠侧边栏分类 &#x27;7.2.4 RDK S100驱动开发指南&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/uboot_kernel_config">配置U-Boot和Kernel选项参数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_uart_dev">UART驱动调试指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_i2c_dev">I2C调试指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_gpio_dev">GPIO使用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_pinctrl_dev">Pinctrl调试指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_ipc">IPC模块介绍</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_spi_dev">SPI调试指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_pwm">PWM 驱动调试指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_thermal_dev">Thermal 系统</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_lowpower">低功耗模式调试指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_audio">音频调试指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_timesync">时间同步 方案</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/rdk_s/13_driver_pcie">PCIe使用指南</a><button aria-label="展开侧边栏分类 &#x27;PCIe使用指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_wifi">WiFi驱动调试指南</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/rdk_s/15_driver_hbmem">HBMEM使用指南</a><button aria-label="展开侧边栏分类 &#x27;HBMEM使用指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/rdk_s/16_driver_ethernet">以太网使用开发指南</a><button aria-label="展开侧边栏分类 &#x27;以太网使用开发指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/rdk_s/hardware_unit_test">7.2.5 硬件单元测试</a><button aria-label="展开侧边栏分类 &#x27;7.2.5 硬件单元测试&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/rdk_s/Advanced_development/linux_development/OTA">7.2.6 OTA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/rdk_s/Advanced_development/linux_development/kernel_debug">7.2.7 Linux调试功能介绍</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/rdk_s/03_multimedia_development">7.3 多媒体开发指南</a><button aria-label="展开侧边栏分类 &#x27;7.3 多媒体开发指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/rdk_s/04_toolchain_development">7.4 算法工具链开发指南</a><button aria-label="展开侧边栏分类 &#x27;7.4 算法工具链开发指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/rdk_s/05_MCU_development">7.5 MCU开发指南</a><button aria-label="展开侧边栏分类 &#x27;7.5 MCU开发指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/rdk_s/Advanced_development/rdk_gen">7.6 RDK S100构建系统开发指南</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/rdk_s/FAQ">8. 常见问题</a><button aria-label="展开侧边栏分类 &#x27;8. 常见问题&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/rdk_s/Appendix">9. 附录</a><button aria-label="展开侧边栏分类 &#x27;9. 附录&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rdk_doc/rdk_s/Release_Note/roadmap">10. 版本发布</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/rdk_doc/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rdk_doc/rdk_s/Advanced_development"><span>7. 进阶开发</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rdk_doc/rdk_s/linux_development"><span>7.2. Linux开发指南</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rdk_doc/rdk_s/driver_development_s100"><span>7.2.4 RDK S100驱动开发指南</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Pinctrl调试指南</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Pinctrl调试指南</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pinctrl使用">Pinctrl使用<a href="#pinctrl使用" class="hash-link" aria-label="Pinctrl使用的直接链接" title="Pinctrl使用的直接链接">​</a></h2>
<p>S100芯片中3个sys包含可软件控制的pin脚，根据用户的需要，可以对pin脚进行功能复用，属性设置和电压域设置。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pinmux功能">Pinmux功能<a href="#pinmux功能" class="hash-link" aria-label="Pinmux功能的直接链接" title="Pinmux功能的直接链接">​</a></h3>
<p>soc中的pin脚可以被设置为不同的功能，通过pinmux设置可以根据用户需要配置为相应的功能，每个引脚有四种复用功能可选。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pinconf功能">Pinconf功能<a href="#pinconf功能" class="hash-link" aria-label="Pinconf功能的直接链接" title="Pinconf功能的直接链接">​</a></h3>
<p>soc中的pin脚可以被设置为不同的状态，共包含以下几种属性：</p>
<ul>
<li>上下拉设置</li>
<li>驱动强度设置</li>
<li>电压模式设置</li>
<li>输入使能设置</li>
<li>施密特设置</li>
<li>压摆率选择</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="io-domain功能">io-domain功能<a href="#io-domain功  能" class="hash-link" aria-label="io-domain功能的直接链接" title="io-domain功能的直接链接">​</a></h3>
<p>S100中共存在两种电压域，分别为1.8v和3.3v，不同的pin脚需要工作在合适的电压域中。手册中将pin脚划分入power group中，在手册中可以看到每个power group控制着一组pin脚。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="源码说明">源码说明<a href="#源码说明" class="hash-link" aria-label="源码说明的直接链接" title="源码说明的直接链接">​</a></h2>
<p>pinctrl-hobot.c文件中包含了所有S100系列pinctrl的主逻辑代码，向pinctrl注册S100的pinctrl设备，并向下提供S100 pinctrl设备的注册。</p>
<div class="language-{.shell} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-{.shell} codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/* 路径 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hobot-drivers/pinctrl/pinctrl-hobot.c     #pinctrl 驱动代码源文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hobot-drivers/pinctrl/pinctrl-hobot.h     #pinctrl 驱动代码头文件</span><br></span></code></pre></div></div>
<p>pinctrl-hobot-s100.c文件中包含了所有s100的pin，pin group，pin
function信息。</p>
<div class="language-{.shell} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-{.shell} codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/* 路径 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hobot-drivers/pinctrl/pinctrl-hobot-s100.c     # S100 驱动数据代码</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pinctrl-驱动使用说明">Pinctrl 驱动使用说明<a href="#pinctrl-驱动使用说明" class="hash-link" aria-label="Pinctrl 驱动使用说明的直接链接" title="Pinctrl 驱动使用说明的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pinmux和pinconf的设置">Pinmux和pinconf的设置<a href="#pinmux和pinconf的设置" class="hash-link" aria-label="Pinmux和pinconf的设置的直接链接" title="Pinmux和pinconf的设置的直接链接">​</a></h3>
<p>pinmux和pinconf一般是在设备dts里配置，具体如下：</p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">pinctrl_peri </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pinctrl_test_default</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> pinctrl_test_default </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">/* pinmux 的设置， 将peri_i2c5_scl和peri_i2c5_sda两个引脚复用为peri_i2c5的功能*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pinmux </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            function </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;peri_i2c5&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            pins </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;peri_i2c5_scl&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;peri_i2c5_sda&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">/* pinconf 的设置， 为peri_i2c5_scl和peri_i2c5_sda两个引脚配置驱动电流，上下拉，输入使能，电压模式，压摆率，输入施密特等电器属性配置*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pinconf </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">/* 两个引脚 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            pins </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;peri_i2c5_scl&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;peri_i2c5_sda&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">/* 驱动电流配置 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            drive</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">strength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">7</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">/* 配置为下拉 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            bias</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">pull</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">down</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">/* 禁用输入 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            input</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">disable</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">/* 禁用低电压模式 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            low</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">power</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">disable</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">/* 压摆率设置为1 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            slew</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">rate </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">/* 禁用输入施密特 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            input</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">schmitt</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">disable</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pinctrl_test_sleep</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> pinctrl_test_sleep </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pinmux </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            function </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;peri_i2c5&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            pins </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;peri_i2c5_scl&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;peri_i2c5_sda&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pinconf </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            pins </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;peri_i2c5_scl&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;peri_i2c5_sda&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            drive</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">strength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            bias</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">pull</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">up</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            input</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">enable</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            low</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">power</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">enable</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            slew</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">rate </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            input</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">schmitt</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">enable</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pinconf支持设置的属性与设置树中对应关键字">Pinconf支持设置的属性与设置树中对应关键字<a href="#pinconf支持设置的属性与设置树中对应关键字" class="hash-link" aria-label="Pinconf支持设置的属性与设置树中对应关键字的直接链接" title="Pinconf支持设置的属性与设置树中对应关键字的直接链接">​</a></h3>
<table><thead><tr><th>关键字</th><th>属性</th></tr></thead><tbody><tr><td>bias-pull-up</td><td>上拉设置</td></tr><tr><td>bias-pull-down</td><td>下拉设置</td></tr><tr><td>bias-disable</td><td>悬空设置</td></tr><tr><td>drive-strength</td><td>驱动强度</td></tr><tr><td>low-power-disable</td><td>高电压模式（3.3v）</td></tr><tr><td>low-power-enable</td><td>低电压模式（1.8v）</td></tr><tr><td>input-disable</td><td>输入不使能</td></tr><tr><td>input-enable</td><td>输入使能</td></tr><tr><td>input-schmitt-enable</td><td>施密特触发使能</td></tr><tr><td>input-schmitt-disable</td><td>施密特触发不使能</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="电压域设置">电压域设置<a href="#电压域设置" class="hash-link" aria-label="电压域设置的直接链接" title="电压域设置的直接链接">​</a></h3>
<p>pin脚io-domain的设置，会直接影响到模块功能的正常运行，甚至电压域的设置错误，造成元器件损坏，使电路板无法工作。</p>
<p>因此结合之前bringup支持经验，给出如下硬件电压值和软件io-domain设置一致性确认的实践经验：</p>
<ol>
<li>首先各个模块的软硬件负责人进行拉通，确认模块中相关pin脚适用的io-domain范围，保证需求一致性，并且输出《pin脚io-domain设置手册》中的参考值部分；（文档名仅供参考）</li>
<li>然后根据第一步中确认的信息，在设备树中进行相应的io-domain设置；</li>
<li>在完成第二步操作后，在样板上抓取所有pin脚的io-domain值，并且将获得的值填入《pin脚io-domain设置手册》中的实际值部分，识别存在的gap；</li>
<li>由于S100中一个group power控制一组pin脚，一个pin脚的设置可能会影响同组中其它的pin。因此拉通对齐会议，根据第三步中识别出来的gap信息，进行讨论和修复，直到gap消除。</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pinctrl节点参考设置">Pinctrl节点参考设置<a href="#pinctrl节点参考设置" class="hash-link" aria-label="Pinctrl节点参考设置的直接链接" title="Pinctrl节点参考设置的直接链接">​</a></h3>
<p>S100 acore中pinctrl设备树文件路径为: hobot-drivers/kernel-dts/drobot-s100-pinctrl.dtsi。</p>
<p>pinctrl节点中将一组pin组合到一起，每个节点的配置包含多个子节点.</p>
<p>第一个子节点&quot;pinmux&quot;中包括引脚复用的信息，其中&quot;function&quot;表示设备复用引脚的功能，&quot;pins&quot;表 示该复用功能下所需要的引脚。</p>
<p>第二个子节点&quot;pinconf&quot;包括了引脚的配置信息（使用默认值的情况下可以不加pinconf节点），&quot;pins&quot;表示需要进行配置的引脚，&quot;pinconf_*&quot;即为配置的内容，主要包括了驱动强度，上下拉，电压模式等。</p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">pinctrl_peri </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     pinctrl_test_default</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> pinctrl_test_default </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         pinmux </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             function </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;peri_i2c5&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             pins </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;peri_i2c5_scl&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;peri_i2c5_sda&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         pinconf </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             pins </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;peri_i2c5_scl&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;peri_i2c5_sda&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             drive</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">strength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">7</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             bias</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">pull</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">down</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             input</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">disable</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             low</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">power</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">disable</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             slew</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">rate </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             input</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">schmitt</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">disable</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     pinctrl_test_sleep</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> pinctrl_test_sleep </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         pinmux </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             function </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;peri_i2c5&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             pins </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;peri_i2c5_scl&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;peri_i2c5_sda&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         pinconf </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             pins </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;peri_i2c5_scl&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;peri_i2c5_sda&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             drive</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">strength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             bias</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">pull</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">up</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             input</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">enable</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             low</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">power</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">enable</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             slew</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">rate </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             input</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">schmitt</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">enable</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="节点引用">节点引用<a href="#节点引用" class="hash-link" aria-label="节点引用的直接链接" title="节点引用的直接链接">​</a></h3>
<p>驱动在使用pinctrl的接口前，需要在DTS里配置相应的pinctrl节点，当驱动probe的时候，会将&quot;default&quot;对应的这组pinctrl配置到寄存器里面，而其它组的配置需要在代码里面显示调用，进行切换使用。</p>
<div class="language-dts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pinctrl_test: pinctrl_test {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        compatible = &quot;horizon,s100-pinctrl-test&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pinctrl-names = &quot;default&quot;, &quot;sleep&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pinctrl-0 = &lt;&amp;pinctrl_test_default&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pinctrl-1 = &lt;&amp;pinctrl_test_sleep&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        #address-cells = &lt;1&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        #size-cells = &lt;0&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div>
<p>显示切换pinctrl state需要调用pinctrl_select_state接口。</p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * pinctrl_select_state() - select/activate/program a pinctrl state to HW</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @p: the pinctrl handle for the device that requests configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @state: the state handle to select/activate/program</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">pinctrl_select_state</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">pinctrl</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">pinctrl_state</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pinctrl-debugfs使用说明">Pinctrl debugfs使用说明<a href="#pinctrl-debugfs使用说明" class="hash-link" aria-label="Pinctrl debugfs使用说明的直接链接" title="Pinctrl debugfs使用说明的直接链接">​</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_BuS1"><p>注意：非root用户需要在命令前添加“sudo”</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pin信息查询">Pin信息查询<a href="#pin信息查询" class="hash-link" aria-label="Pin信息查询的直接链接" title="Pin信息查询的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syskerneldebugpinctrlpinctrl-devices">/sys/kernel/debug/pinctrl/pinctrl-devices<a href="#syskerneldebugpinctrlpinctrl-devices" class="hash-link" aria-label="/sys/kernel/debug/pinctrl/pinctrl-devices的直接链接" title="/sys/kernel/debug/pinctrl/pinctrl-devices的直接链接">​</a></h4>
<p>查看系统中都有哪些pinctrl设备，是否使用pinmux和pinconf模块。</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~# cat /sys/kernel/debug/pinctrl/pinctrl-devices</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name [pinmux] [pinconf]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">peri yes yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cam yes yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">video yes yes</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syskerneldebugpinctrlpinctrl-handles">/sys/kernel/debug/pinctrl/pinctrl-handles<a href="#syskerneldebugpinctrlpinctrl-handles" class="hash-link" aria-label="/sys/kernel/debug/pinctrl/pinctrl-handles的直接链接" title="/sys/kernel/debug/pinctrl/pinctrl-handles的直接链接">​</a></h4>
<p>查看已经被申请过的引脚配置映射。</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~# cat /sys/kernel/debug/pinctrl/pinctrl-handles</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Requested pin control handlers their pinmux maps:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> device: 39420000.i2c current state: default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> state: default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     type: MUX_GROUP controller cam group: cam_i2c0_scl (8) function: cam_i2c0 (6)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     type: MUX_GROUP controller cam group: cam_i2c0_sda (9) function: cam_i2c0 (6)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     type: CONFIGS_GROUP controller cam group cam_i2c0_scl (8)config 00000109</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     type: CONFIGS_GROUP controller cam group cam_i2c0_sda (9)config 00000109</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> device: 39430000.i2c current state: default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> state: default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     type: MUX_GROUP controller cam group: cam_i2c1_scl (10) function: cam_i2c1 (7)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     type: MUX_GROUP controller cam group: cam_i2c1_sda (11) function: cam_i2c1 (7)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     type: CONFIGS_GROUP controller cam group cam_i2c1_scl (10)config 00000109</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     type: CONFIGS_GROUP controller cam group cam_i2c1_sda (11)config 00000109</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> device: 39440000.i2c current state: default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> state: default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     type: MUX_GROUP controller cam group: cam_i2c2_scl (12) function: cam_i2c2 (8)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     type: MUX_GROUP controller cam group: cam_i2c2_sda (13) function: cam_i2c2 (8)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     type: CONFIGS_GROUP controller cam group cam_i2c2_scl (12)config 00000109</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     type: CONFIGS_GROUP controller cam group cam_i2c2_sda (13)config 00000109</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> device: 39450000.i2c current state: default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> state: default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     type: MUX_GROUP controller cam group: cam_i2c3_scl (14) function: cam_i2c3 (9)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     type: MUX_GROUP controller cam group: cam_i2c3_sda (15) function: cam_i2c3 (9)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     type: CONFIGS_GROUP controller cam group cam_i2c3_scl (14)config 00000109</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     type: CONFIGS_GROUP controller cam group cam_i2c3_sda (15)config 00000109</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> root@ubuntu:~#</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syskerneldebugpinctrlpinctrl-maps">/sys/kernel/debug/pinctrl/pinctrl-maps<a href="#syskerneldebugpinctrlpinctrl-maps" class="hash-link" aria-label="/sys/kernel/debug/pinctrl/pinctrl-maps的直接链接" title="/sys/kernel/debug/pinctrl/pinctrl-maps的直接链接">​</a></h4>
<p>查看被使用的引脚maps，包含每个被使用的引脚所在的控制器，哪些设备在使用，处于哪个pinctrl状态下，处于那一组引脚，被复用为什么功能。</p>
<div class="language-{.shell} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-{.shell} codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~# cat /sys/kernel/debug/pinctrl/pinctrl-maps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pinctrl maps:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">device 39420000.i2c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">state default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type MUX_GROUP (2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">controlling device 370f3000.pinctrl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group cam_i2c0_scl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function cam_i2c0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">device 39420000.i2c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">state default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type MUX_GROUP (2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">controlling device 370f3000.pinctrl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group cam_i2c0_sda</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function cam_i2c0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">device 39420000.i2c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">state default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type CONFIGS_GROUP (4)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">controlling device 370f3000.pinctrl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group cam_i2c0_scl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config 00000109</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~#</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syskerneldebugpinctrlpinctrl_devgpio-ranges">/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/gpio-ranges<a href="#syskerneldebugpinctrlpinctrl_devgpio-ranges" class="hash-link" aria-label="/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/gpio-ranges的直接链接" title="/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/gpio-ranges的直接链接">​</a></h4>
<p>查看pinctrl系统中引脚序号和gpio子系统中引脚的映射关系。以下命令以<code>&lt;pinctrl_dev&gt;</code>为<code>39ff5000.pinctrl-peri</code>为例。</p>
<div class="language-{.shell} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-{.shell} codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~# cat /sys/kernel/debug/pinctrl/39ff5000.pinctrl-peri/gpio-ranges</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GPIO ranges handled:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0: 394f0000.gpio GPIOS [480 - 511] PINS [2 - 33]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0: 39500000.gpio GPIOS [474 - 479] PINS [34 - 39]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~#</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syskerneldebugpinctrlpinctrl_devpinconf-pins">/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pinconf-pins<a href="#syskerneldebugpinctrlpinctrl_devpinconf-pins" class="hash-link" aria-label="/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pinconf-pins的直接链接" title="/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pinconf-pins的直接链接">​</a></h4>
<p>查看每个引脚的信息，包含pinmux对应的寄存器地址和值和pinconf对应的寄存器地址和值，是否支持电压转换以及电压值。以下命令以<code>&lt;pinctrl_dev&gt;</code>为<code>39ff5000.pinctrl-peri</code>为例。</p>
<div class="language-{.shell} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-{.shell} codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~# cat /sys/kernel/debug/pinctrl/39ff5000.pinctrl-peri/pinconf-pins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pin config settings per pin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Format: pin (name): configs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 0 (UFS_REF_CLK): type 2, pwr 0, funs:(0,20,20,20,), mux(39ff5060: 0), cfg(39ff6010: 31), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 1 (UFS_RSTO): type 2, pwr 0, funs:(0,20,20,20,), mux(39ff5064: 0), cfg(39ff6014: 31), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 2 (EMAC_MDC_HSI0): type 2, pwr 0, funs:(1,2,20,3,), mux(39ff5068: 0), cfg(39ff6018: 31), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 3 (EMAC_MDIO_HSI0): type 3, pwr 0, funs:(1,20,20,3,), mux(39ff506c: 0), cfg(39ff601c: 32), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 4 (SD_CLK): type 0, pwr 1, funs:(4,20,20,3,), mux(39ff5070: 0), cfg(39ff6020: 58), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 5 (SD_CMD): type 0, pwr 1, funs:(4,20,20,3,), mux(39ff5074: 0), cfg(39ff6024: 58), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 6 (SD_DATA0): type 4, pwr 1, funs:(4,20,20,3,), mux(39ff5078: 0), cfg(39ff6028: 58), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 7 (SD_DATA1): type 4, pwr 1, funs:(4,20,20,3,), mux(39ff507c: 0), cfg(39ff602c: 58), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 8 (SD_DATA2): type 4, pwr 1, funs:(4,20,20,3,), mux(39ff5080: 0), cfg(39ff6030: 58), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 9 (SD_DATA3): type 4, pwr 1, funs:(4,20,20,3,), mux(39ff5084: 0), cfg(39ff6034: 58), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 10 (SD_DATA4): type 4, pwr 1, funs:(4,20,20,3,), mux(39ff5088: 0), cfg(39ff6038: 58), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 11 (SD_DATA5): type 4, pwr 1, funs:(4,20,20,3,), mux(39ff508c: 0), cfg(39ff603c: 58), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 12 (SD_DATA6): type 4, pwr 1, funs:(4,20,20,3,), mux(39ff5090: 0), cfg(39ff6040: 58), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 13 (SD_DATA7): type 4, pwr 1, funs:(4,20,20,3,), mux(39ff5094: 0), cfg(39ff6044: 58), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 14 (SD_DATA_STRB): type 4, pwr 1, funs:(4,20,20,3,), mux(39ff5098: 0), cfg(39ff6048: 18), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 15 (SD_DET_N): type 2, pwr 0, funs:(4,5,20,3,), mux(39ff509c: 3), cfg(39ff604c: 50), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 16 (SD_WPROT): type 3, pwr 0, funs:(4,6,20,3,), mux(39ff50a0: 0), cfg(39ff6050: 50), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 17 (I2C5_SCL): type 2, pwr 0, funs:(7,8,20,3,), mux(39ff50a4: 0), cfg(39ff6054: 31), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 18 (I2C5_SDA): type 3, pwr 0, funs:(7,9,20,3,), mux(39ff50a8: 0), cfg(39ff6058: 32), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 19 (SPI0_CSN0): type 2, pwr 0, funs:(10,20,20,3,), mux(39ff50ac: 0), cfg(39ff605c: 31), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 20 (SPI0_CSN1): type 3, pwr 0, funs:(10,11,20,3,), mux(39ff50b0: 0), cfg(39ff6060: 32), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 21 (SPI0_MOSI): type 3, pwr 0, funs:(10,20,20,3,), mux(39ff50b4: 0), cfg(39ff6064: 32), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 22 (SPI0_MISO): type 3, pwr 0, funs:(10,20,20,3,), mux(39ff50b8: 0), cfg(39ff6068: 32), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 23 (SPI0_SCLK): type 2, pwr 0, funs:(10,20,20,3,), mux(39ff50bc: 0), cfg(39ff606c: 31), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 24 (SPI1_CSN0): type 3, pwr 0, funs:(12,20,20,3,), mux(39ff50c0: 0), cfg(39ff6070: 32), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 25 (SPI1_CSN1): type 3, pwr 0, funs:(12,13,20,3,), mux(39ff50c4: 0), cfg(39ff6074: 32), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 26 (SPI1_MOSI): type 3, pwr 0, funs:(12,20,20,3,), mux(39ff50c8: 0), cfg(39ff6078: 32), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 27 (SPI1_MISO): type 3, pwr 0, funs:(12,20,20,3,), mux(39ff50cc: 0), cfg(39ff607c: 32), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 28 (SPI1_SCLK): type 3, pwr 0, funs:(12,20,20,3,), mux(39ff50d0: 0), cfg(39ff6080: 32), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 29 (UART0_TXD): type 3, pwr 0, funs:(14,20,20,3,), mux(39ff50d4: 0), cfg(39ff6084: 32), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 30 (UART0_RXD): type 3, pwr 0, funs:(14,20,20,3,), mux(39ff50d8: 0), cfg(39ff6088: 32), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 31 (UART0_RTSN): type 2, pwr 0, funs:(14,15,20,3,), mux(39ff50dc: 0), cfg(39ff608c: 31), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 32 (UART0_CTSN): type 3, pwr 0, funs:(14,20,20,3,), mux(39ff50e0: 0), cfg(39ff6090: 32), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 33 (UART1_TXD): type 3, pwr 0, funs:(16,17,20,3,), mux(39ff50e4: 0), cfg(39ff6094: 32), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 34 (UART1_RXD): type 3, pwr 0, funs:(16,18,20,3,), mux(39ff50e8: 0), cfg(39ff6098: 32), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 35 (PCM0_MCLK): type 2, pwr 0, funs:(19,20,20,3,), mux(39ff50ec: 3), cfg(39ff609c: 32), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 36 (PCM0_BCLK): type 3, pwr 0, funs:(19,20,20,3,), mux(39ff50f0: 3), cfg(39ff60a0: 32), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 37 (PCM0_FSYNC): type 3, pwr 0, funs:(19,20,20,3,), mux(39ff50f4: 3), cfg(39ff60a4: 32), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 38 (PCM0_DATA0): type 3, pwr 0, funs:(19,20,20,3,), mux(39ff50f8: 3), cfg(39ff60a8: 32), pwr(39ff5040: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 39 (PCM0_DATA1): type 2, pwr 0, funs:(19,20,20,3,), mux(39ff50fc: 3), cfg(39ff60ac: 32), pwr(39ff5040: 1)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syskerneldebugpinctrlpinctrl_devpinconf-groups">/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pinconf-groups<a href="#syskerneldebugpinctrlpinctrl_devpinconf-groups" class="hash-link" aria-label="/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pinconf-groups的直接链接" title="/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pinconf-groups的直接链接">​</a></h4>
<p>查看每个引脚的电气属性配置，上下拉，输入使能，施密特，压摆率等等。以下命令以<code>&lt;pinctrl_dev&gt;</code>为<code>39ff5000.pinctrl-peri</code>为例。</p>
<div class="language-{.shell} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-{.shell} codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~# cat /sys/kernel/debug/pinctrl/39ff5000.pinctrl-peri/pinconf-groups</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pin config settings per pin group</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Format: group (name): configs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0 (peri_ufs_ref_clk): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), output drive strength (1 mA), input enabled, input schmitt enabled, slew rate (0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 (peri_ufs_rsto): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), output drive strength (1 mA), input enabled, input schmitt enabled, slew rate (0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 (peri_emac_mdc_hsi0): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), output drive strength (1 mA), input enabled, input schmitt enabled, slew rate (0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3 (peri_emac_mdio_hsi0): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4 (peri_sd_clk): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), output drive strength (0 mA), input enabled, input schmitt enabled, pin low power (1 mode), slew rate (0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5 (peri_sd_cmd): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), output drive strength (0 mA), input enabled, input schmitt enabled, pin low power (1 mode), slew rate (0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6 (peri_sd_data0): input bias disabled, input bias pull down (1 ohms), input bias pull up (0 ohms), input enabled, pin low power (1 mode)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7 (peri_sd_data1): input bias disabled, input bias pull down (1 ohms), input bias pull up (0 ohms), input enabled, pin low power (1 mode)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">8 (peri_sd_data2): input bias disabled, input bias pull down (1 ohms), input bias pull up (0 ohms), input enabled, pin low power (1 mode)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">9 (peri_sd_data3): input bias disabled, input bias pull down (1 ohms), input bias pull up (0 ohms), input enabled, pin low power (1 mode)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">10 (peri_sd_data4): input bias disabled, input bias pull down (1 ohms), input bias pull up (0 ohms), input enabled, pin low power (1 mode)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">11 (peri_sd_data5): input bias disabled, input bias pull down (1 ohms), input bias pull up (0 ohms), input enabled, pin low power (1 mode)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">12 (peri_sd_data6): input bias disabled, input bias pull down (1 ohms), input bias pull up (0 ohms), input enabled, pin low power (1 mode)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">13 (peri_sd_data7): input bias disabled, input bias pull down (1 ohms), input bias pull up (0 ohms), input enabled, pin low power (1 mode)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">14 (peri_sd_data_strb): input bias disabled, input bias pull down (0 ohms), input bias pull up (0 ohms), input enabled, pin low power (1 mode)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">15 (peri_sd_det_n): input bias disabled, input bias pull down (1 ohms), input bias pull up (0 ohms), output drive strength (0 mA), input enabled, input schmitt enabled, slew rate (0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">16 (peri_sd_wprot): input bias disabled, input bias pull down (1 ohms), input bias pull up (0 ohms), input enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">17 (peri_i2c5_scl): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), output drive strength (1 mA), input enabled, input schmitt enabled, slew rate (0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">18 (peri_i2c5_sda): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">19 (peri_spi0_csn0): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), output drive strength (1 mA), input enabled, input schmitt enabled, slew rate (0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20 (peri_spi0_csn1): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">21 (peri_spi0_mosi): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">22 (peri_spi0_miso): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">23 (peri_spi0_sclk): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), output drive strength (1 mA), input enabled, input schmitt enabled, slew rate (0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">24 (peri_spi1_csn0): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">25 (peri_spi1_csn1): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">26 (peri_spi1_mosi): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">27 (peri_spi1_miso): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">28 (peri_spi1_sclk): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">29 (peri_uart0_txd): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">30 (peri_uart0_rxd): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">31 (peri_uart0_rtsn): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), output drive strength (1 mA), input enabled, input schmitt enabled, slew rate (0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">32 (peri_uart0_ctsn): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">33 (peri_uart1_txd): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">34 (peri_uart1_rxd): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">35 (peri_pcm0_mclk): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), output drive strength (2 mA), input enabled, input schmitt enabled, slew rate (0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">36 (peri_pcm0_bclk): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">37 (peri_pcm0_fsync): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">38 (peri_pcm0_data0): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), input enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">39 (peri_pcm0_data1): input bias disabled, input bias pull down (0 ohms), input bias pull up (1 ohms), output drive strength (2 mA), input enabled, input schmitt enabled, slew rate (0)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syskerneldebugpinctrlpinctrl_devpingroups">/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pingroups<a href="#syskerneldebugpinctrlpinctrl_devpingroups" class="hash-link" aria-label="/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pingroups的直接链接" title="/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pingroups的直接链接">​</a></h4>
<p>查看每个引脚组内引脚的配置，S100是每个引脚是一个group。以下命令以<code>&lt;pinctrl_dev&gt;</code>为<code>39ff5000.pinctrl-peri</code>为例。</p>
<div class="language-{.shell} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-{.shell} codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~# cat /sys/kernel/debug/pinctrl/39ff5000.pinctrl-peri/pingroups</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">registered pin groups:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_ufs_ref_clk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 0 (UFS_REF_CLK)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_ufs_rsto</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 1 (UFS_RSTO)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_emac_mdc_hsi0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 2 (EMAC_MDC_HSI0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_emac_mdio_hsi0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 3 (EMAC_MDIO_HSI0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_sd_clk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 4 (SD_CLK)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_sd_cmd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 5 (SD_CMD)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_sd_data0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 6 (SD_DATA0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_sd_data1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 7 (SD_DATA1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_sd_data2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 8 (SD_DATA2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_sd_data3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 9 (SD_DATA3)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_sd_data4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 10 (SD_DATA4)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_sd_data5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 11 (SD_DATA5)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_sd_data6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 12 (SD_DATA6)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_sd_data7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 13 (SD_DATA7)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_sd_data_strb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 14 (SD_DATA_STRB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_sd_det_n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 15 (SD_DET_N)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_sd_wprot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 16 (SD_WPROT)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_i2c5_scl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 17 (I2C5_SCL)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_i2c5_sda</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 18 (I2C5_SDA)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_spi0_csn0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 19 (SPI0_CSN0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_spi0_csn1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 20 (SPI0_CSN1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_spi0_mosi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 21 (SPI0_MOSI)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_spi0_miso</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 22 (SPI0_MISO)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_spi0_sclk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 23 (SPI0_SCLK)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_spi1_csn0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 24 (SPI1_CSN0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_spi1_csn1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 25 (SPI1_CSN1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_spi1_mosi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 26 (SPI1_MOSI)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_spi1_miso</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 27 (SPI1_MISO)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_spi1_sclk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 28 (SPI1_SCLK)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_uart0_txd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 29 (UART0_TXD)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_uart0_rxd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 30 (UART0_RXD)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_uart0_rtsn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 31 (UART0_RTSN)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_uart0_ctsn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 32 (UART0_CTSN)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_uart1_txd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 33 (UART1_TXD)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_uart1_rxd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 34 (UART1_RXD)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_pcm0_mclk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 35 (PCM0_MCLK)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_pcm0_bclk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 36 (PCM0_BCLK)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_pcm0_fsync</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 37 (PCM0_FSYNC)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_pcm0_data0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 38 (PCM0_DATA0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group: peri_pcm0_data1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 39 (PCM0_DATA1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~#</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syskerneldebugpinctrlpinctrl_devpinmux-functions">/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pinmux-functions<a href="#syskerneldebugpinctrlpinctrl_devpinmux-functions" class="hash-link" aria-label="/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pinmux-functions的直接链接" title="/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pinmux-functions的直接链接">​</a></h4>
<p>引脚按照function进行分组。以下命令以<code>&lt;pinctrl_dev&gt;</code>为<code>39ff5000.pinctrl-peri</code>为例。</p>
<div class="language-{.shell} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-{.shell} codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~# cat /sys/kernel/debug/pinctrl/39ff5000.pinctrl-peri/pinmux-functions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function 0: peri_ufs, groups = [ peri_ufs_ref_clk peri_ufs_rsto ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function 1: peri_emac, groups = [ peri_emac_mdc_hsi0 peri_emac_mdio_hsi0 ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function 2: peri_clkout, groups = [ peri_emac_mdc_hsi0 ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function 3: peri_gpio, groups = [ peri_emac_mdc_hsi0 peri_emac_mdio_hsi0 peri_sd_clk peri_sd_cmd peri_sd_data0 peri_sd_data1 peri_sd_data2 peri_sd_data3 peri_sd_data4 peri_sd_data5 peri_sd_data6 peri_sd_data7 peri_sd_data_strb peri_sd_det_n peri_sd_wprot peri_i2c5_scl peri_i2c5_sda peri_spi0_csn0 peri_spi0_csn1 peri_spi0_mosi peri_spi0_miso peri_spi0_sclk peri_spi1_csn0 peri_spi1_csn1 peri_spi1_mosi peri_spi1_miso peri_spi1_sclk peri_uart0_txd peri_uart0_rxd peri_uart0_rtsn peri_uart0_ctsn peri_uart1_txd peri_uart1_rxd peri_pcm0_mclk peri_pcm0_bclk peri_pcm0_fsync peri_pcm0_data0 peri_pcm0_data1 ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function 4: peri_sd, groups = [ peri_sd_clk peri_sd_cmd peri_sd_data0 peri_sd_data1 peri_sd_data2 peri_sd_data3 peri_sd_data4 peri_sd_data5 peri_sd_data6 peri_sd_data7 peri_sd_data_strb peri_sd_det_n peri_sd_wprot ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function 5: peri_pcm1_bclk, groups = [ peri_sd_det_n ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function 6: peri_pcm1_fsync, groups = [ peri_sd_wprot ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function 7: peri_i2c5, groups = [ peri_i2c5_scl peri_i2c5_sda ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function 8: peri_uart2_rxd, groups = [ peri_i2c5_scl ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function 9: peri_uart2_txd, groups = [ peri_i2c5_sda ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function 10: peri_spi0, groups = [ peri_spi0_csn0 peri_spi0_csn1 peri_spi0_mosi peri_spi0_miso peri_spi0_sclk ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function 11: peri_uart3_rxd, groups = [ peri_spi0_csn1 ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function 12: peri_spi1, groups = [ peri_spi1_csn0 peri_spi1_csn1 peri_spi1_mosi peri_spi1_miso peri_spi1_sclk ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function 13: peri_uart3_txd, groups = [ peri_spi1_csn1 ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function 14: peri_uart0, groups = [ peri_uart0_txd peri_uart0_rxd peri_uart0_rtsn peri_uart0_ctsn ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function 15: peri_pcm1_mclk, groups = [ peri_uart0_rtsn ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function 16: peri_uart1, groups = [ peri_uart1_txd peri_uart1_rxd ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function 17: peri_pcm1_data1, groups = [ peri_uart1_txd ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function 18: peri_pcm1_data0, groups = [ peri_uart1_rxd ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function 19: peri_pcm0, groups = [ peri_pcm0_mclk peri_pcm0_bclk peri_pcm0_fsync peri_pcm0_data0 peri_pcm0_data1 ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~#</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syskerneldebugpinctrlpinctrl_devpinmux-pins">/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pinmux-pins<a href="#syskerneldebugpinctrlpinctrl_devpinmux-pins" class="hash-link" aria-label="/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pinmux-pins的直接链接" title="/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pinmux-pins的直接链接">​</a></h4>
<p>查看哪些引脚被占用了，是MUX占用还是GPIO占用。以下命令以<code>&lt;pinctrl_dev&gt;</code>为<code>39ff5000.pinctrl-peri</code>为例。</p>
<div class="language-{.shell} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-{.shell} codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~# cat /sys/kernel/debug/pinctrl/39ff5000.pinctrl-peri/pinmux-pins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pinmux settings per pin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Format: pin (name): mux_owner gpio_owner hog?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 0 (UFS_REF_CLK): 39410000.ufs (GPIO UNCLAIMED) function peri_ufs group peri_ufs_ref_clk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 1 (UFS_RSTO): 39410000.ufs (GPIO UNCLAIMED) function peri_ufs group peri_ufs_rsto</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 2 (EMAC_MDC_HSI0): 330f0000.ethernet (GPIO UNCLAIMED) function peri_emac group peri_emac_mdc_hsi0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 3 (EMAC_MDIO_HSI0): 330f0000.ethernet (GPIO UNCLAIMED) function peri_emac group peri_emac_mdio_hsi0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 4 (SD_CLK): (MUX UNCLAIMED) (GPIO UNCLAIMED)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 5 (SD_CMD): (MUX UNCLAIMED) (GPIO UNCLAIMED)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 6 (SD_DATA0): (MUX UNCLAIMED) (GPIO UNCLAIMED)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 7 (SD_DATA1): (MUX UNCLAIMED) (GPIO UNCLAIMED)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 8 (SD_DATA2): (MUX UNCLAIMED) (GPIO UNCLAIMED)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 9 (SD_DATA3): (MUX UNCLAIMED) (GPIO UNCLAIMED)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 10 (SD_DATA4): (MUX UNCLAIMED) (GPIO UNCLAIMED)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 11 (SD_DATA5): (MUX UNCLAIMED) (GPIO UNCLAIMED)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 12 (SD_DATA6): (MUX UNCLAIMED) (GPIO UNCLAIMED)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 13 (SD_DATA7): (MUX UNCLAIMED) (GPIO UNCLAIMED)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 14 (SD_DATA_STRB): (MUX UNCLAIMED) (GPIO UNCLAIMED)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 15 (SD_DET_N): (MUX UNCLAIMED) (GPIO UNCLAIMED)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 16 (SD_WPROT): (MUX UNCLAIMED) (GPIO UNCLAIMED)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 17 (I2C5_SCL): 39470000.i2c (GPIO UNCLAIMED) function peri_i2c5 group peri_i2c5_scl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 18 (I2C5_SDA): 39470000.i2c (GPIO UNCLAIMED) function peri_i2c5 group peri_i2c5_sda</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 19 (SPI0_CSN0): 39800000.spi (GPIO UNCLAIMED) function peri_spi0 group peri_spi0_csn0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 20 (SPI0_CSN1): 39800000.spi (GPIO UNCLAIMED) function peri_spi0 group peri_spi0_csn1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 21 (SPI0_MOSI): 39800000.spi (GPIO UNCLAIMED) function peri_spi0 group peri_spi0_mosi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 22 (SPI0_MISO): 39800000.spi (GPIO UNCLAIMED) function peri_spi0 group peri_spi0_miso</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 23 (SPI0_SCLK): 39800000.spi (GPIO UNCLAIMED) function peri_spi0 group peri_spi0_sclk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 24 (SPI1_CSN0): 39810000.spi (GPIO UNCLAIMED) function peri_spi1 group peri_spi1_csn0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 25 (SPI1_CSN1): 39810000.spi 394f0000.gpio:503 function peri_spi1 group peri_spi1_csn1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 26 (SPI1_MOSI): 39810000.spi (GPIO UNCLAIMED) function peri_spi1 group peri_spi1_mosi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 27 (SPI1_MISO): 39810000.spi (GPIO UNCLAIMED) function peri_spi1 group peri_spi1_miso</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 28 (SPI1_SCLK): 39810000.spi (GPIO UNCLAIMED) function peri_spi1 group peri_spi1_sclk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 29 (UART0_TXD): 394a0000.uart (GPIO UNCLAIMED) function peri_uart0 group peri_uart0_txd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 30 (UART0_RXD): 394a0000.uart (GPIO UNCLAIMED) function peri_uart0 group peri_uart0_rxd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 31 (UART0_RTSN): 394a0000.uart (GPIO UNCLAIMED) function peri_uart0 group peri_uart0_rtsn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 32 (UART0_CTSN): 394a0000.uart (GPIO UNCLAIMED) function peri_uart0 group peri_uart0_ctsn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 33 (UART1_TXD): 394b0000.uart0 (GPIO UNCLAIMED) function peri_uart1 group peri_uart1_txd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 34 (UART1_RXD): 394b0000.uart0 (GPIO UNCLAIMED) function peri_uart1 group peri_uart1_rxd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 35 (PCM0_MCLK): (MUX UNCLAIMED) (GPIO UNCLAIMED)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 36 (PCM0_BCLK): (MUX UNCLAIMED) (GPIO UNCLAIMED)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 37 (PCM0_FSYNC): (MUX UNCLAIMED) (GPIO UNCLAIMED)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 38 (PCM0_DATA0): (MUX UNCLAIMED) (GPIO UNCLAIMED)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 39 (PCM0_DATA1): (MUX UNCLAIMED) (GPIO UNCLAIMED)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syskerneldebugpinctrl_devpinmux-select">/sys/kernel/debug/&lt;pinctrl_dev&gt;/pinmux-select<a href="#syskerneldebugpinctrl_devpinmux-select" class="hash-link" aria-label="/sys/kernel/debug/&lt;pinctrl_dev&gt;/pinmux-select的直接链接" title="/sys/kernel/debug/&lt;pinctrl_dev&gt;/pinmux-select的直接链接">​</a></h4>
<p>可以通过节点pinmux-functions来查询需要每个pin的group和function，
通过pinmux-select节点设置pinmux， 参数group name和func name。
以下命令以<code>&lt;pinctrl_dev&gt;</code>为<code>39ff5000.pinctrl-peri</code>为例。</p>
<div class="language-{.shell} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-{.shell} codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd /sys/kernel/debug/pinctrl/39ff5000.pinctrl-peri/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo  &quot;peri_spi0_csn0 peri_gpio&quot;  &gt; pinmux-select</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo  &quot;peri_i2c5_scl peri_i2c5&quot;  &gt; pinmux-select</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo  &quot;peri_i2c5_sda peri_i2c5&quot;  &gt; pinmux-select</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syskerneldebugpinctrl_devpins">/sys/kernel/debug/&lt;pinctrl_dev&gt;/pins<a href="#syskerneldebugpinctrl_devpins" class="hash-link" aria-label="/sys/kernel/debug/&lt;pinctrl_dev&gt;/pins的直接链接" title="/sys/kernel/debug/&lt;pinctrl_dev&gt;/pins的直接链接">​</a></h4>
<p>查看每个引脚的信息，包含引脚名称和对应的gpio管脚。以下命令以<code>&lt;pinctrl_dev&gt;</code>为<code>39ff5000.pinctrl-peri</code>为例。</p>
<div class="language-{.shell} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-{.shell} codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~# cat /sys/kernel/debug/pinctrl/39ff5000.pinctrl-peri/pins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">registered pins: 40</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 0 (UFS_REF_CLK) 0:?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 1 (UFS_RSTO) 0:?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 2 (EMAC_MDC_HSI0) 0:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 3 (EMAC_MDIO_HSI0) 1:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 4 (SD_CLK) 2:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 5 (SD_CMD) 3:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 6 (SD_DATA0) 4:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 7 (SD_DATA1) 5:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 8 (SD_DATA2) 6:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 9 (SD_DATA3) 7:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 10 (SD_DATA4) 8:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 11 (SD_DATA5) 9:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 12 (SD_DATA6) 10:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 13 (SD_DATA7) 11:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 14 (SD_DATA_STRB) 12:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 15 (SD_DET_N) 13:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 16 (SD_WPROT) 14:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 17 (I2C5_SCL) 15:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 18 (I2C5_SDA) 16:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 19 (SPI0_CSN0) 17:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 20 (SPI0_CSN1) 18:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 21 (SPI0_MOSI) 19:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 22 (SPI0_MISO) 20:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 23 (SPI0_SCLK) 21:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 24 (SPI1_CSN0) 22:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 25 (SPI1_CSN1) 23:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 26 (SPI1_MOSI) 24:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 27 (SPI1_MISO) 25:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 28 (SPI1_SCLK) 26:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 29 (UART0_TXD) 27:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 30 (UART0_RXD) 28:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 31 (UART0_RTSN) 29:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 32 (UART0_CTSN) 30:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 33 (UART1_TXD) 31:394f0000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 34 (UART1_RXD) 0:39500000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 35 (PCM0_MCLK) 1:39500000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 36 (PCM0_BCLK) 2:39500000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 37 (PCM0_FSYNC) 3:39500000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 38 (PCM0_DATA0) 4:39500000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pin 39 (PCM0_DATA1) 5:39500000.gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@ubuntu:~#</span><br></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">最后<!-- -->于 <b><time datetime="2026-01-16T16:40:30.000Z" itemprop="dateModified">2026年1月16日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_gpio_dev"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">GPIO使用</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_ipc"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">IPC模块介绍</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#pinctrl使用" class="table-of-contents__link toc-highlight">Pinctrl使用</a><ul><li><a href="#pinmux功能" class="table-of-contents__link toc-highlight">Pinmux功能</a></li><li><a href="#pinconf功能" class="table-of-contents__link toc-highlight">Pinconf功能</a></li><li><a href="#io-domain功能" class="table-of-contents__link toc-highlight">io-domain功能</a></li></ul></li><li><a href="#源码说明" class="table-of-contents__link toc-highlight">源码说明</a></li><li><a href="#pinctrl-驱动使用说明" class="table-of-contents__link toc-highlight">Pinctrl 驱动使用说明</a><ul><li><a href="#pinmux和pinconf的设置" class="table-of-contents__link toc-highlight">Pinmux和pinconf的设置</a></li><li><a href="#pinconf支持设置的属性与设  置树中对应关键字" class="table-of-contents__link toc-highlight">Pinconf支持设置的属性与设置树中对应关键字</a></li><li><a href="#电压域设置" class="table-of-contents__link toc-highlight">电压域设置</a></li><li><a href="#pinctrl节点参考设置" class="table-of-contents__link toc-highlight">Pinctrl节点参考设置</a></li><li><a href="#节点引用" class="table-of-contents__link toc-highlight">节点引用</a></li></ul></li><li><a href="#pinctrl-debugfs使用说明" class="table-of-contents__link toc-highlight">Pinctrl debugfs使用说明</a><ul><li><a href="#pin信息查询" class="table-of-contents__link toc-highlight">Pin信息查询</a><ul><li><a href="#syskerneldebugpinctrlpinctrl-devices" class="table-of-contents__link toc-highlight">/sys/kernel/debug/pinctrl/pinctrl-devices</a></li><li><a href="#syskerneldebugpinctrlpinctrl-handles" class="table-of-contents__link toc-highlight">/sys/kernel/debug/pinctrl/pinctrl-handles</a></li><li><a href="#syskerneldebugpinctrlpinctrl-maps" class="table-of-contents__link toc-highlight">/sys/kernel/debug/pinctrl/pinctrl-maps</a></li><li><a href="#syskerneldebugpinctrlpinctrl_devgpio-ranges" class="table-of-contents__link toc-highlight">/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/gpio-ranges</a></li><li><a href="#syskerneldebugpinctrlpinctrl_devpinconf-pins" class="table-of-contents__link toc-highlight">/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pinconf-pins</a></li><li><a href="#syskerneldebugpinctrlpinctrl_devpinconf-groups" class="table-of-contents__link toc-highlight">/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pinconf-groups</a></li><li><a href="#syskerneldebugpinctrlpinctrl_devpingroups" class="table-of-contents__link toc-highlight">/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pingroups</a></li><li><a href="#syskerneldebugpinctrlpinctrl_devpinmux-functions" class="table-of-contents__link toc-highlight">/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pinmux-functions</a></li><li><a href="#syskerneldebugpinctrlpinctrl_devpinmux-pins" class="table-of-contents__link toc-highlight">/sys/kernel/debug/pinctrl/&lt;pinctrl_dev&gt;/pinmux-pins</a></li><li><a href="#syskerneldebugpinctrl_devpinmux-select" class="table-of-contents__link toc-highlight">/sys/kernel/debug/&lt;pinctrl_dev&gt;/pinmux-select</a></li><li><a href="#syskerneldebugpinctrl_devpins" class="table-of-contents__link toc-highlight">/sys/kernel/debug/&lt;pinctrl_dev&gt;/pins</a></li></ul></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">友情链接</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.guyuehome.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">古月居<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">联系我们</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/D-Robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://space.bilibili.com/437998606" target="_blank" rel="noopener noreferrer" class="footer__link-item">BiLiBiLi<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 D-Robotics.</div></div></div></footer></div>
</body>
</html>