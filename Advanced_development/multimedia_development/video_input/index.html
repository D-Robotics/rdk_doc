<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Advanced_development/multimedia_development/video_input" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">7.3.4 视频输入 | RDK DOC</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://developer.d-robotics.cc/rdk_doc/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://developer.d-robotics.cc/rdk_doc/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://developer.d-robotics.cc/rdk_doc/Advanced_development/multimedia_development/video_input"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="7.3.4 视频输入 | RDK DOC"><meta data-rh="true" name="description" content="概述"><meta data-rh="true" property="og:description" content="概述"><link data-rh="true" rel="icon" href="/rdk_doc/img/logo.png"><link data-rh="true" rel="canonical" href="https://developer.d-robotics.cc/rdk_doc/Advanced_development/multimedia_development/video_input"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/Advanced_development/multimedia_development/video_input" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/en/Advanced_development/multimedia_development/video_input" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/Advanced_development/multimedia_development/video_input" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"7. 进阶开发","item":"https://developer.d-robotics.cc/rdk_doc/Advanced_development"},{"@type":"ListItem","position":2,"name":"7.3 RDK X3 多媒体开发指南","item":"https://developer.d-robotics.cc/rdk_doc/03_multimedia_development"},{"@type":"ListItem","position":3,"name":"7.3.4 视频输入","item":"https://developer.d-robotics.cc/rdk_doc/Advanced_development/multimedia_development/video_input"}]}</script><script src="https://hm.baidu.com/hm.js?24dd63cad43b63889ea6bede5fd1ab9e" async></script><link rel="stylesheet" href="/rdk_doc/assets/css/styles.0fbd7d27.css">
<script src="/rdk_doc/assets/js/runtime~main.32e056fa.js" defer="defer"></script>
<script src="/rdk_doc/assets/js/main.ffa97c90.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://d-robotics.cc/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/rdk_doc/img/logo.png" alt="地瓜机器人社区 logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rdk_doc/img/logo.png" alt="地瓜机器人社区 logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">D-Robotics</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rdk_doc/RDK">RDK X3 / X5</a><a class="navbar__item navbar__link" href="/rdk_doc/rdk_s/RDK">RDK S100</a><a href="https://developer.d-robotics.cc/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/D-Robotics" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>CN</a><ul class="dropdown__menu"><li><a href="/rdk_doc/Advanced_development/multimedia_development/video_input" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-Hans">CN</a></li><li><a href="/rdk_doc/en/Advanced_development/multimedia_development/video_input" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">EN</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="切换浅色/暗黑模式（当前为system mode）"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="搜索" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rdk_doc/RDK">D-Robotics RDK套件</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/Quick_start">1. 快速开始</a><button aria-label="展开侧边栏分类 &#x27;1. 快速开始&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/System_configuration">2. 系统配置</a><button aria-label="展开侧边栏分类 &#x27;2. 系统配置&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/Basic_Application">3. 基础应用开发 </a><button aria-label="展开侧边栏分类 &#x27;3. 基础应用开发 &#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/Basic_Development">4. 算法应用开发</a><button aria-label="展开侧边栏分类 &#x27;4. 算法应用开发&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/Robot_development">5. 机器人应用开发</a><button aria-label="展开侧边栏分类 &#x27;5. 机器人应用开发&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/Application_case">6. 应用开发指南</a><button aria-label="展开侧边栏分类 &#x27;6. 应用开发指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/rdk_doc/Advanced_development">7. 进阶开发</a><button aria-label="折叠侧边栏分类 &#x27;7. 进阶开发&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/hardware_development">7.1 硬件开发指南</a><button aria-label="展开侧边栏分类 &#x27;7.1 硬件开发指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/linux_development">7.2 Linux开发指南</a><button aria-label="展开侧边栏分类 &#x27;7.2 Linux开发指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/rdk_doc/03_multimedia_development">7.3 RDK X3 多媒体 开发指南</a><button aria-label="折叠侧边栏分类 &#x27;7.3 RDK X3 多媒体开发指南&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/Advanced_development/multimedia_development/overview">7.3.1 系统概述</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/Advanced_development/multimedia_development/multimedia_samples">7.3.2 示例程序</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/Advanced_development/multimedia_development/system_control">7.3.3 系统控制</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rdk_doc/Advanced_development/multimedia_development/video_input">7.3.4 视频输入</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/Advanced_development/multimedia_development/isp_system">7.3.5 ISP图像系统</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/Advanced_development/multimedia_development/video_processing">7.3.6 视频处理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/Advanced_development/multimedia_development/region_processing">7.3.7 区域处理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/Advanced_development/multimedia_development/video_output">7.3.8 视频输出</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/Advanced_development/multimedia_development/video_encode">7.3.9 视频编码</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/Advanced_development/multimedia_development/video_decode">7.3.10 视频解码</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/Advanced_development/multimedia_development/debug_info">7.3.11 查询多媒体模块调试信息</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/Advanced_development/multimedia_development/performance_debug">7.3.12 多媒体性能调试</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rdk_doc/04_toolchain_development">7.4 算法工具链开发指南</a><button aria-label="展开侧边栏分类 &#x27;7.4 算法工具链开发指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/FAQ">8. 常见问题</a><button aria-label="展开侧边栏分类 &#x27;8. 常见问题&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/Appendix">9. 附录</a><button aria-label="展开侧边栏分类 &#x27;9. 附录&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rdk_doc/Release_Note/release_note">10. 版本发布</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/rdk_doc/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rdk_doc/Advanced_development"><span>7. 进阶开发</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rdk_doc/03_multimedia_development"><span>7.3 RDK X3 多媒体开发指南</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">7.3.4 视频输入</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>7.3.4 视频输入</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="概述">概述<a href="#概述" class="hash-link" aria-label="概述的直接链接" title="概述的直接链接">​</a></h2>
<p>视频输入（VIN）实现的功能：通过 MIPI Rx接口接收视频数据。VIN将接收到的数据给下一个模块VPS，同时也可存入到指定的内存区域，在此过程中，VIN可以对接收到的原始视频图像数据进行处理，实现视频数据的采集。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="概念">概念<a href="#概念" class="hash-link" aria-label="概念的直接链接" title="概念的直接链接">​</a></h3>
<p>视频输入设备 视频输入设备主要是指sif，图像数据接口，主要功能接收摄像头模组输出的图像数据，经过offline或者online直接输出到ISP模块进行图像处理。</p>
<ul>
<li>视频输入设备</li>
</ul>
<p>​		视频输入设备主要是指sif，图像数据接口，主要功能接收摄像头模组输出的图像数据，经过offline或者		 		online直接输出到ISP模块进行图像处理。</p>
<ul>
<li>视频输入 PIPE</li>
</ul>
<p>​		视频输入 PIPE (ISP)绑定在设备后端，负责图像处理，硬核功能配置，支持Multi context。</p>
<ul>
<li>镜头畸变校正（LDC）</li>
</ul>
<p>​		主要负责矫正图像，有时因为镜头曲面造成的图像变形，一些低端镜头容易产生图像畸变，需要根据畸变程		度对其图像进行校正。</p>
<ul>
<li>DIS</li>
</ul>
<p>​		DIS 模块通过比较当前图像与前两帧图像采用不同自由度的防抖算法计算出当前图像在各个轴方向上的抖动偏		移向量，然后根据抖动偏移向量对当前图像进行校正，从而起到防抖的效果。</p>
<ul>
<li>DWE</li>
</ul>
<p>​		DWE主要是将LDC和DIS集成在一起，包括LDC的畸变矫正和DIS的统计结果。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="功能描述">功能描述<a href="#功能描述" class="hash-link" aria-label="功能描述的直接链接" title="功能描述的直接链接">​</a></h2>
<p>VIN在软件上划分4个部  分，如下图所示。</p>
<p><img decoding="async" loading="lazy" src="https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/07_Advanced_development/03_multimedia_development/video_input/image-20220329195124946.png" alt="image-20220329195124946" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="视频输入设备">视频输入设备<a href="#视频输入设备" class="hash-link" aria-label="视频输入设备的直接链接" title="视频输入设备的直接链接">​</a></h3>
<p>sif主要功能接收摄像头模组输出的图像数据，经过offline或者online直接输出到ISP模块进行图像处理。Mipi:支持RAW8/RAW10/RAW12/RAW14/RAW16 or YUV422 8bit/10bit。DVP interface: RAW8/RAW10/RAW12/RAW14/RAW16 or YUV422 8bit/10bit。最多支持8路sensor接入。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="视频输入pipe">视频输入PIPE<a href="#视频输入pipe" class="hash-link" aria-label="视频输入PIPE的直接链接" title="视频输入PIPE的直接链接">​</a></h3>
<p>Isp主要负责图像处理，硬核功能配置，支持Multi context，最多支持8路接入。主要是对图像数据进行流水线处理，输出YUV 图像格式给通道。同时PIPE也包括DIS、LDC的功能。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="视频物理通道">视频物理通道<a href="#视频物理通道" class="hash-link" aria-label="视频物理通道的直接链接" title="视频物理通道的直接链接">​</a></h3>
<p>VIN的PIPE 包含 2 个物理通道，物理通道0是指isp处理后的数据到ddr，或者是通过ddr给到下一级模块VPS。物理通道1是指isp处理后的数据online到VPS，VIN和VPS的绑定关系请参考“系统控制”章节。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="绑定关系">绑定关系<a href="#绑定关系" class="hash-link" aria-label="绑定关系的直接链接" title="绑定关系的直接链接">​</a></h3>
<p>VIN和VPS之间的绑定关系请参考“系统控制”章节 HB_SYS_SetVINVPSMode</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="api参考">API参考<a href="#api参考" class="hash-link" aria-label="API参考的直接链接" title="API参考的直接链接">​</a></h2>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_SetBus</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MIPI_SENSOR_INFO_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">snsInfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> busNum</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_SetPort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MIPI_SENSOR_INFO_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">snsInfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_SensorBindSerdes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MIPI_SENSOR_INFO_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">snsInfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> serdesIdx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> serdesPort</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_SensorBindMipi</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MIPI_SENSOR_INFO_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">snsInfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_SetExtraMode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MIPI_SENSOR_INFO_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">snsInfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> ExtraMode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_InitSensor</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> DevId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> MIPI_SENSOR_INFO_S  </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">snsInfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_DeinitSensor</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain">  DevId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_ResetSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> DevId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_UnresetSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> DevId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_EnableSensorClock</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_DisableSensorClock</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_SetSensorClock</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> mipiIdx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> snsMclk</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_ResetMipi</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain">  mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_UnresetMipi</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain">  mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_SetMipiAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain">  mipiIdx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> MIPI_ATTR_S  mipiAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_Clear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain">  mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_ReadSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> regAddr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_WriteSensor</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> regAddr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_GetSensorInfo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> MIPI_SENSOR_INFO_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">snsInfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_SwSensorFps</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> fps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetMipiBindDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetMipiBindDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetDevAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> VIN_DEV_ATTR_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">stVinDevAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetDevAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> VIN_DEV_ATTR_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">stVinDevAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetDevAttrEx</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> VIN_DEV_ATTR_EX_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">stVinDevAttrEx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetDevAttrEx</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> VIN_DEV_ATTR_EX_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">stVinDevAttrEx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_EnableDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_DisableDev</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetDevBindPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetDevBindPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_CreatePipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> VIN_PIPE_ATTR_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> stVinPipeAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_StartPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_StopPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_EnableChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_DisableChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetChnLDCAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> VIN_LDC_ATTR_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">stVinLdcAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetChnLDCAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> VIN_LDC_ATTR_S</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">stVinLdcAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetChnDISAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> VIN_DIS_ATTR_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">stVinDisAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetChnDISAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> VIN_DIS_ATTR_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">stVinDisAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetChnAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetChnFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">pstVideoFrame</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">int32_t</span><span class="token plain"> millSec</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_ReleaseChnFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">pstVideoFrame</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SendPipeRaw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">pstVideoFrame，</span><span class="token class-name">int32_t</span><span class="token plain"> millSec</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetPipeAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">VIN_PIPE_ATTR_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">stVinPipeAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetPipeAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> VIN_PIPE_ATTR_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">stVinPipeAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_CtrlPipeMirror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint8_t</span><span class="token plain"> on</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_MotionDetect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_InitLens</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> VIN_LENS_FUNC_TYPE_ElensType</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> VIN_LENS_CTRL_ATTR_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">lenCtlAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_DeinitLens</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_RegisterDisCallback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">VIN_DIS_CALLBACK_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">pstDISCallback</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetDevVCNumber</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> vcNumber</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetDevVCNumber</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">vcNumber</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_AddDevVCNumber</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> vcNumber</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetDevMclk</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> devMclk</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> vpuMclk</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetChnFd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_CloseFd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_EnableDevMd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_DisableDevMd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetDevFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">videoFrame</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">int32_t</span><span class="token plain"> millSec</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_ReleaseDevFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">buf</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_mipi_setbus">HB_MIPI_SetBus<a href="#hb_mipi_setbus" class="hash-link" aria-label="HB_MIPI_SetBus的直接链接" title="HB_MIPI_SetBus的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_SetBus</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MIPI_SENSOR_INFO_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">snsInfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> busNum</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>设置sensor的总线号</p>
</blockquote>
<p>【参数描 述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">snsInfo</td><td style="text-align:center">sensor的配置信息</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">busNum</td><td style="text-align:center">bus号</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_MIPI_InitSensor/HB_MIPI_DeinitSensor举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_mipi_setport">HB_MIPI_SetPort<a href="#hb_mipi_setport" class="hash-link" aria-label="HB_MIPI_SetPort的直接链接" title="HB_MIPI_SetPort的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_SetPort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MIPI_SENSOR_INFO_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">snsInfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> port</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>设置sensor的port，取值范围 0~7</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">snsInfo</td><td style="text-align:center">sensor的配置信息</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">port</td><td style="text-align:center">当前sensor的port号，0~7</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_MIPI_InitSensor/HB_MIPI_DeinitSensor举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_mipi_sensorbindserdes">HB_MIPI_SensorBindSerdes<a href="#hb_mipi_sensorbindserdes" class="hash-link" aria-label="HB_MIPI_SensorBindSerdes的直接链接" title="HB_MIPI_SensorBindSerdes的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_SensorBindSerdes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MIPI_SENSOR_INFO_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">snsInfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> serdesIdx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> serdesPort</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>设置sensor绑定到哪个serdes上</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">snsInfo</td><td style="text-align:center">sensor的配置信息</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">serdesIdx</td><td style="text-align:center">serdes的索引0~1</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">serdesPort</td><td style="text-align:center">serdes的port号954 0<del>1  960 0</del>3</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_MIPI_InitSensor/HB_MIPI_DeinitSensor举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_mipi_sensorbindmipi">HB_MIPI_SensorBindMipi<a href="#hb_mipi_sensorbindmipi" class="hash-link" aria-label="HB_MIPI_SensorBindMipi的直接链接" title="HB_MIPI_SensorBindMipi的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_SensorBindMipi</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MIPI_SENSOR_INFO_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">snsInfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>设置sensor绑定哪一个mipi上</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">snsInfo</td><td style="text-align:center">sensor的配置信息</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">mipiIdx</td><td style="text-align:center">mipi_host的索引 0~3</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_MIPI_InitSensor举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_mipi_setextramode">HB_MIPI_SetExtraMode<a href="#hb_mipi_setextramode" class="hash-link" aria-label="HB_MIPI_SetExtraMode的直接链接" title="HB_MIPI_SetExtraMode的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_SetExtraMode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MIPI_SENSOR_INFO_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">snsInfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> ExtraMode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>设置sensor在DOL2或DOL3下的工作模式</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:left">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">snsInfo</td><td style="text-align:center">sensor的配置信息</td><td style="text-align:left">输入</td></tr><tr><td style="text-align:center">ExtraMode</td><td style="text-align:center">选择以何种工作模式</td><td style="text-align:left">1. 单路DOL2,值为0<br> 2. DOL2分为两路linear,一路值为1，另一路值为2<br> 3. 单路DOl3,值为0<br> 4. 一路DOl2(值为1)+一路linear(值为4)<br> 5. DOL3分为三路linear,一路为2，一路为3，一路为4</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_MIPI_InitSensor/HB_MIPI_DeinitSensor举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_mipi_initsensorhb_mipi_deinitsensor">HB_MIPI_InitSensor/HB_MIPI_DeinitSensor<a href="#hb_mipi_initsensorhb_mipi_deinitsensor" class="hash-link" aria-label="HB_MIPI_InitSensor/HB_MIPI_DeinitSensor的直接链接" title="HB_MIPI_InitSensor/HB_MIPI_DeinitSensor的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_InitSensor</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> DevId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> MIPI_SENSOR_INFO_S  </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">snsInfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_DeinitSensor</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain">  DevId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>sensor的初始化和释放初始化产生的资源</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">devId</td><td style="text-align:center">通路索引，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">snsInfo</td><td style="text-align:center">Sensor 信息</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    MIPI_SENSOR_INFO_S  snsInfo</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MIPI_ATTR_S  mipiAttr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> DevId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mipiIdx </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> bus </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> port </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> serdes_index </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> serdes_port </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> ExtraMode</span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">memset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">snsInfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MIPI_SENSOR_INFO_S</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">memset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mipiAttr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MIPI_ATTR_S</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    snsInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sensorInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bus_num </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    snsInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sensorInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bus_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    snsInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sensorInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">entry_num </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    snsInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sensorInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sensor_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;imx327&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    snsInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sensorInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">reg_width </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    snsInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sensorInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sensor_mode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> NORMAL_M</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    snsInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sensorInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sensor_addr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x36</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dev_enable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipi_host_cfg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lane </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipi_host_cfg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">datatype </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x2c</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipi_host_cfg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mclk </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">24</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipi_host_cfg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipiclk </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">891</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipi_host_cfg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fps </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipi_host_cfg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">width </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1952</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipi_host_cfg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">height </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1097</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipi_host_cfg</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">linelenth </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2475</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipi_host_cfg</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">framelenth </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1200</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipi_host_cfg</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">settle </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_MIPI_SetBus</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">snsInfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bus</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_MIPI_SetPort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">snsinfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_MIPI_SensorBindSerdes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">snsinfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sedres_index</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sedres_port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_MIPI_SensorBindMipi</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">snsinfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_MIPI_SetExtraMode</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">snsinfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  ExtraMode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_InitSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> snsInfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_MIPI_InitSensor error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_SetMipiAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mipiIdx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mipiAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_MIPI_SetMipiAttr error! do sensorDeinit\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_MIPI_SensorDeinit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_ResetSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_MIPI_ResetSensor error! do mipi deinit\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_MIPI_DeinitSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_MIPI_Clear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_ResetMipi</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_MIPI_ResetMipi error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_MIPI_UnresetSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_MIPI_DeinitSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_MIPI_Clear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_MIPI_UnresetSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_MIPI_UnresetMipi</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_MIPI_DeinitSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_MIPI_Clear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_mipi_resetsensorhb_mipi_unresetsensor">HB_MIPI_ResetSensor/HB_MIPI_UnresetSensor<a href="#hb_mipi_resetsensorhb_mipi_unresetsensor" class="hash-link" aria-label="HB_MIPI_ResetSensor/HB_MIPI_UnresetSensor的直接链接" title="HB_MIPI_ResetSensor/HB_MIPI_UnresetSensor的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_ResetSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> DevId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_UnresetSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> DevId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>sensor数据流的打开和关闭,sensor_start/sensor_stop</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">devId</td><td style="text-align:center">通路索引，范围0~7</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_MIPI_InitSensor/HB_MIPI_DeinitSensor举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_mipi_enablesensorclockhb_mipi_disablesensorclock">HB_MIPI_EnableSensorClock/HB_MIPI_DisableSensorClock<a href="#hb_mipi_enablesensorclockhb_mipi_disablesensorclock" class="hash-link" aria-label="HB_MIPI_EnableSensorClock/HB_MIPI_DisableSensorClock的直接链接" title="HB_MIPI_EnableSensorClock/HB_MIPI_DisableSensorClock的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_EnableSensorClock</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_DisableSensorClock</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>打开和关闭,sensor_clk</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">mipiIdx</td><td style="text-align:center">Mipi host 索引号，范围0~3</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>使用此接口需去掉子板的晶振</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>暂无</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_mipi_setsensorclock">HB_MIPI_SetSensorClock<a href="#hb_mipi_setsensorclock" class="hash-link" aria-label="HB_MIPI_SetSensorClock的直接链接" title="HB_MIPI_SetSensorClock的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_SetSensorClock</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> mipiIdx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> snsMclk</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>设置sensor_mclk
一共有4个sensor_mclk，目前用到得是sensor0_mclk和sensor1_mclk,
mipi0连接在sensor_mclk1, mipi1连接在sensor_mclk0,硬件连接关系在dts里面定义。</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">mipiIdx</td><td style="text-align:center">Mipi host 索引号，范围0~3</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">snsMclk</td><td style="text-align:center">单位HZ</td><td style="text-align:center">输入，比如24MHZ，snsMclk为24000000</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>使用此接口需去掉子板的晶振</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>初始化时:</p>
<blockquote>
<p>先设置sensor_mclk然后再去使能
HB_MIPI_SetSensorClock(mipiIdx, 24000000);
HB_MIPI_EnableSensorClock(mipiIdx);</p>
</blockquote>
</blockquote>
<blockquote>
<p>退出时：</p>
<blockquote>
<p>HB_MIPI_Clear(mipiIdx);
HB_MIPI_DeinitSensor(devId);
HB_MIPI_DisableSensorClock(mipiIdx);</p>
</blockquote>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_mipi_resetmipihb_mipi_unresetmipi">HB_MIPI_ResetMipi/HB_MIPI_UnresetMipi<a href="#hb_mipi_resetmipihb_mipi_unresetmipi" class="hash-link" aria-label="HB_MIPI_ResetMipi/HB_MIPI_UnresetMipi的直接链接" title="HB_MIPI_ResetMipi/HB_MIPI_UnresetMipi的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_ResetMipi</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain">  mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_UnresetMipi</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain">  mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>mipi的start和stop</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">mipiIdx</td><td style="text-align:center">Mipi host 索引号，范围0~3</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_MIPI_InitSensor/HB_MIPI_DeinitSensor举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_mipi_setmipiattr">HB_MIPI_SetMipiAttr<a href="#hb_mipi_setmipiattr" class="hash-link" aria-label="HB_MIPI_SetMipiAttr的直接链接" title="HB_MIPI_SetMipiAttr的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_SetMipiAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain">  mipiIdx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> MIPI_ATTR_S  mipiAttr</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>设置mipi的属性，host和dev的初始化。</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">mipiIdx</td><td style="text-align:center">Mipi host 索引号</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">mipiAttr</td><td style="text-align:center">Mipi总线属性信息</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_MIPI_InitSensor/HB_MIPI_DeinitSensor举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_mipi_clear">HB_MIPI_Clear<a href="#hb_mipi_clear" class="hash-link" aria-label="HB_MIPI_Clear的直接链接" title="HB_MIPI_Clear的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_Clear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain">  mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>清除设备相关的配置，mipi host/dev 的deinit，和接口HB_MIPI_SetMipiAttr对应。</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">mipiIdx</td><td style="text-align:center">Mipi host 索引号，范围0~3</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_MIPI_InitSensor/HB_MIPI_DeinitSensor举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_mipi_readsensor">HB_MIPI_ReadSensor<a href="#hb_mipi_readsensor" class="hash-link" aria-label="HB_MIPI_ReadSensor的直接链接" title="HB_MIPI_ReadSensor的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_ReadSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> regAddr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>通过i2c读取sensor。</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">devId</td><td style="text-align:center">通路索引，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">regAddr</td><td style="text-align:center">寄存器地址</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">buffer,</td><td style="text-align:center">存放数据的地址</td><td style="text-align:center">输出</td></tr><tr><td style="text-align:center">size</td><td style="text-align:center">读取的长度</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>必须在HB_MIPI_InitSensor接口调用后才能使用</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>不同的sensor不一样，以imx327为例：</p>
</blockquote>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> buffer</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token number" style="color:#36acaa">0x34</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x56</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> rev_buffer</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_MIPI_InitSensor end\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_ReadSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x3018</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> rev_buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_MIPI_ReadSensor error\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">strlen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rev_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;rev_buffer[%d] 0x%x  \n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> rev_buffer</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_WriteSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x3018</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_MIPI_WriteSensor error\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_ReadSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x3018</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> rev_buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_MIPI_ReadSensor error\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">strlen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rev_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;rev_buffer[%d] 0x%x  \n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> rev_buffer</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_mipi_writesensor">HB_MIPI_WriteSensor<a href="#hb_mipi_writesensor" class="hash-link" aria-label="HB_MIPI_WriteSensor的直接链接" title="HB_MIPI_WriteSensor的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_WriteSensor</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> regAddr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>通过i2c写sensor寄存器</p>
</blockquote>
<p>【参数描 述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">devId</td><td style="text-align:center">通路索引，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">regAddr</td><td style="text-align:center">寄存器地址</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">buffer</td><td style="text-align:center">存放数据的地址</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">size</td><td style="text-align:center">写的长度</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>必须在HB_MIPI_InitSensor接口调用后才能使用</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_MIPI_ReadSensor举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_mipi_getsensorinfo">HB_MIPI_GetSensorInfo<a href="#hb_mipi_getsensorinfo" class="hash-link" aria-label="HB_MIPI_GetSensorInfo的直接链接" title="HB_MIPI_GetSensorInfo的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_GetSensorInfo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> MIPI_SENSOR_INFO_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">snsInfo</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>获取sensor相关配置信息</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">devId</td><td style="text-align:center">通路索引，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">snsInfo</td><td style="text-align:center">sensor信息</td><td style="text-align:center">输出</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>必须在HB_MIPI_InitSensor接口调用后才能使用</p>
</blockquote>
<p>【参考代码】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    MIPI_SENSOR_INFO_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">snsinfo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    snsinfo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">malloc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MIPI_SENSOR_INFO_S</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">snsinfo </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;malloc error\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">memset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">snsinfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MIPI_SENSOR_INFO_S</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_GetSensorInfo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> snsinfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_MIPI_InitSensor error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_mipi_swsensorfps">HB_MIPI_SwSensorFps<a href="#hb_mipi_swsensorfps" class="hash-link" aria-label="HB_MIPI_SwSensorFps的直接链接" title="HB_MIPI_SwSensorFps的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_SwSensorFps</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> fps</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>切换sensor的帧率</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">devId</td><td style="text-align:center">通路索引，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">fps</td><td style="text-align:center">sensor的帧率</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>必须在HB_MIPI_InitSensor接口调用后才能使用</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>暂无</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_setmipibinddevhb_vin_getmipibinddev">HB_VIN_SetMipiBindDev/HB_VIN_GetMipiBindDev<a href="#hb_vin_setmipibinddevhb_vin_getmipibinddev" class="hash-link" aria-label="HB_VIN_SetMipiBindDev/HB_VIN_GetMipiBindDev的直接链接" title="HB_VIN_SetMipiBindDev/HB_VIN_GetMipiBindDev的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetMipiBindDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetMipiBindDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>设置mipi和dev的绑定，dev使用哪一个mipi_host</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">devId</td><td style="text-align:center">对应通道索引号，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">mipiIdx</td><td style="text-align:center">mipi_host的索引</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_VIN_CreatePipe/HB_VIN_DestroyPipe举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_setdevattrhb_vin_getdevattr">HB_VIN_SetDevAttr/HB_VIN_GetDevAttr<a href="#hb_vin_setdevattrhb_vin_getdevattr" class="hash-link" aria-label="HB_VIN_SetDevAttr/HB_VIN_GetDevAttr的直接链接" title="HB_VIN_SetDevAttr/HB_VIN_GetDevAttr的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetDevAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> VIN_DEV_ATTR_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">stVinDevAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetDevAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> VIN_DEV_ATTR_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">stVinDevAttr</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>设置和获取dev的属性</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">devId</td><td style="text-align:center">对应通道索引号，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">stVinDevAttr</td><td style="text-align:center">dev通道属性</td><td style="text-align:center">输入，调用HB_VIN_GetDevAttr为输出</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>DOL3拆分成多路时，多进程情况：第一个进程要先于第二个进程运行1秒即可。
另外目前不支持HB_VIN_DestroyDev之后重新HB_VIN_SetDevAttr。</p>
<p>出现SIF_IOC_BIND_GROUT ioctl failed报错，一般是前一次pipeid的调用没有退出，又重新调用。</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_VIN_CreatePipe/HB_VIN_DestroyPipe举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_setdevattrexhb_vin_getdevattrex">HB_VIN_SetDevAttrEx/HB_VIN_GetDevAttrEx<a href="#hb_vin_setdevattrexhb_vin_getdevattrex" class="hash-link" aria-label="HB_VIN_SetDevAttrEx/HB_VIN_GetDevAttrEx的直接链接" title="HB_VIN_SetDevAttrEx/HB_VIN_GetDevAttrEx的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetDevAttrEx</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> VIN_DEV_ATTR_EX_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">stVinDevAttrEx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetDevAttrEx</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> VIN_DEV_ATTR_EX_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">stVinDevAttrEx</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>设置何获取dev的扩展属性</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">devId</td><td style="text-align:center">对应通道索引号，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">stVinDevAttrEx</td><td style="text-align:center">dev的扩展属性</td><td style="text-align:center">输入，调用HB_VIN_GetDevAttr为输出</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>该接口暂不支持</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>暂无</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_enabledevhb_vin_disabledev">HB_VIN_EnableDev/HB_VIN_DisableDev<a href="#hb_vin_enabledevhb_vin_disabledev" class="hash-link" aria-label="HB_VIN_EnableDev/HB_VIN_DisableDev的直接链接" title="HB_VIN_EnableDev/HB_VIN_DisableDev的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_EnableDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_DisableDev</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>dev模块的使能和关闭</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输  入/输出</th></tr></thead><tbody><tr><td style="text-align:center">devId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_VIN_CreatePipe/HB_VIN_DestroyPipe举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_destroydev">HB_VIN_DestroyDev<a href="#hb_vin_destroydev" class="hash-link" aria-label="HB_VIN_DestroyDev的直接链接" title="HB_VIN_DestroyDev的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>dev模块的销毁，资源释放</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">devId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_VIN_CreatePipe/HB_VIN_DestroyPipe举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_setdevbindpipehb_vin_getdevbindpipe">HB_VIN_SetDevBindPipe/HB_VIN_GetDevBindPipe<a href="#hb_vin_setdevbindpipehb_vin_getdevbindpipe" class="hash-link" aria-label="HB_VIN_SetDevBindPipe/HB_VIN_GetDevBindPipe的直接链接" title="HB_VIN_SetDevBindPipe/HB_VIN_GetDevBindPipe的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetDevBindPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetDevBindPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>设置dev的chn输出和pipe的chn输入的绑定
设置pipe的chn输入和pipe输出的chn绑定。</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">devId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">pipeId</td><td style="text-align:center">对应每路输入，同上</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>HB_VIN_GetDevBindPipe接口暂未实  现</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_VIN_CreatePipe/HB_VIN_DestroyPipe举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_createpipehb_vin_destroypipe">HB_VIN_CreatePipe/HB_VIN_DestroyPipe<a href="#hb_vin_createpipehb_vin_destroypipe" class="hash-link" aria-label="HB_VIN_CreatePipe/HB_VIN_DestroyPipe的直接链接" title="HB_VIN_CreatePipe/HB_VIN_DestroyPipe的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_CreatePipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> VIN_PIPE_ATTR_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> stVinPipeAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>创建pipe、销毁pipe</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">pipeId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">stVinPipeAttr</td><td style="text-align:center">描述pipe属性的指针</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_DEV_ATTR_S  stVinDevAttr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_PIPE_ATTR_S  stVinPipeAttr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_DIS_ATTR_S   stVinDisAttr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_LDC_ATTR_S  stVinLdcAttr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MIPI_SNS_TYPE_E sensorId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MIPI_SENSOR_INFO_S  snsInfo</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MIPI_ATTR_S  mipiAttr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MIPI_SNS_TYPE_E sensorId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> PipeId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> DevId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mipiIdx </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> ChnId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bus </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> port </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> serdes_index </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> serdes_port </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">memset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">snsInfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MIPI_SENSOR_INFO_S</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">memset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mipiAttr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MIPI_ATTR_S</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">memset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stVinDevAttr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VIN_DEV_ATTR_S</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">memset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stVinPipeAttr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VIN_PIPE_ATTR_</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">memset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stVinDisAttr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VIN_DIS_ATTR_S</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">memset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stVinLdcAttr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VIN_LDC_ATTR_S</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    snsInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sensorInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bus_num </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    snsInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sensorInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bus_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    snsInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sensorInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">entry_num </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    snsInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sensorInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sensor_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;imx327&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    snsInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sensorInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">reg_width </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    snsInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sensorInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sensor_mode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> NORMAL_M</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    snsInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sensorInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sensor_addr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x36</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dev_enable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipi_host_cfg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lane </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipi_host_cfg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">datatype </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x2c</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipi_host_cfg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mclk </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">24</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipi_host_cfg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipiclk </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">891</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipi_host_cfg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fps </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipi_host_cfg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">width </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1952</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipi_host_cfg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">height </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1097</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipi_host_cfg</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">linelenth </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2475</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipi_host_cfg</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">framelenth </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1200</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipi_host_cfg</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">settle </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stSize</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">format </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stSize</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">width </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1952</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stSize</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">height </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1097</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stSize</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pix_length </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ipi_channels </span><span class="token operator" style="color:#393A34">=</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enable_frame_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mipiAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enable_mux_out </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DdrIspAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DdrIspAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">buf_num </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DdrIspAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw_feedback_en </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DdrIspAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">format </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DdrIspAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">width </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1952</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DdrIspAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">height </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1907</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DdrIspAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pix_length </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">outIspAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">isp_enable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">outIspAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dol_exp_num </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">outIspAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enable_flyby </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">outDdrAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">outDdrAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mux_index </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">outDdrAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">buffer_num </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">outDdrAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw_dump_en </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">outDdrAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stride </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2928</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDevAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">outIpuAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enable_flyby </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinPipeAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ddrOutBufNum </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinPipeAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pipeDmaEnable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinPipeAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">snsMode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinPipeAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stSize</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">format </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinPipeAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stSize</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">width </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1920</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinPipeAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stSize</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">height </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1080</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDisAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xCrop</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rg_dis_start </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDisAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xCrop</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rg_dis_end </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1919</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDisAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">yCrop</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rg_dis_start </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDisAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">yCrop</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rg_dis_end </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1079</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDisAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">disHratio </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">65536</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDisAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">disVratio </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">65536</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDisAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">disPath</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rg_dis_enable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDisAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">disPath</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rg_dis_path_sel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDisAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">picSize</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pic_w </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1919</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinDisAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">picSize</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pic_h </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1079</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinLdcAttr</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">ldcEnable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinLdcAttr</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">ldcPath</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rg_h_blank_cyc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">32</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinLdcAttr</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">yStartAddr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">524288</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinLdcAttr</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">cStartAddr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">786432</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinLdcAttr</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">picSize</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pic_w </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1919</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinLdcAttr</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">picSize</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pic_h </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1079</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinLdcAttr</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">lineBuf </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">99</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinLdcAttr</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">xParam</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rg_algo_param_a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinLdcAttr</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">xParam</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rg_algo_param_b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinLdcAttr</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">yParam</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rg_algo_param_a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinLdcAttr</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">yParam</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rg_algo_param_b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinLdcAttr</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">xWoi</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rg_length </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1919</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinLdcAttr</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">xWoi</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rg_start </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinLdcAttr</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">yWoi</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rg_length </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1079</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stVinLdcAttr</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">yWoi</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rg_start </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_CreatePipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pipeInfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_CreatePipe t error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetMipiBindDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_SetMipiBindDev error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetDevVCNumber</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> deseri_port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_SetDevVCNumber error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetDevAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> devInfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_SetDevAttr error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetPipeAttr</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pipeInfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_SetPipeAttr error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetChnDISAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ChnId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> disInfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_SetChnDISAttr error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetChnLDCAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ChnId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ldcInfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_SetChnLDCAttr error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetChnAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ChnId </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_SetChnAttr error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_VIN_SetDevBindPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> PipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_MIPI_SetBus</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">snsInfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bus</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_MIPI_SetPort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">snsinfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_MIPI_SensorBindSerdes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">snsinfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sedres_index</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sedres_port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_MIPI_SensorBindMipi</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">snsinfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_InitSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> snsInfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_MIPI_InitSensor error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_SetMipiAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mipiIdx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mipiAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_MIPI_SetMipiAttr error! do sensorDeinit\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_MIPI_SensorDeinit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sensorId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_EnableChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ChnId </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_EnableChn error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_MIPI_DeinitSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_MIPI_Clear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ChnId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_StartPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_StartPipe error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_MIPI_DeinitSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_MIPI_Clear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DisableChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ChnId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ChnId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_EnableDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_EnableDev error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_MIPI_DeinitSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_MIPI_Clear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DisableChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ChnId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_StopPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ChnId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_ResetSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_MIPI_ResetSensor error! do mipi deinit\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_MIPI_DeinitSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_MIPI_Clear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DisableDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_StopPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DisableChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ChnId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ChnId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_MIPI_ResetMipi</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_MIPI_ResetMipi error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_MIPI_UnresetSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_MIPI_DeinitSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_MIPI_Clear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DisableDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_StopPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DisableChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ChnId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ChnId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_MIPI_UnresetSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_MIPI_UnresetMipi</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_VIN_DisableDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_VIN_StopPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_VIN_DisableChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ChnId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_MIPI_DeinitSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_MIPI_Clear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DevId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ChnId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_startpipehb_vin_stoppipe">HB_VIN_StartPipe/HB_VIN_StopPipe<a href="#hb_vin_startpipehb_vin_stoppipe" class="hash-link" aria-label="HB_VIN_StartPipe/HB_VIN_StopPipe的直接链接" title="HB_VIN_StartPipe/HB_VIN_StopPipe的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_StartPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_StopPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>启动和停止pipe</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">pipeId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_VIN_CreatePipe/HB_VIN_DestroyPipe举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_enablechnhb_vin_disablechn">HB_VIN_EnableChn/HB_VIN_DisableChn<a href="#hb_vin_enablechnhb_vin_disablechn" class="hash-link" aria-label="HB_VIN_EnableChn/HB_VIN_DisableChn的直接链接" title="HB_VIN_EnableChn/HB_VIN_DisableChn的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_EnableChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_DisableChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>对pipe的chn使能和关闭</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">pipeId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">chnId</td><td style="text-align:center">输入1即可</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_VIN_CreatePipe/HB_VIN_DestroyPipe举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_setchnldcattrhb_vin_getchnldcattr">HB_VIN_SetChnLDCAttr/HB_VIN_GetChnLDCAttr<a href="#hb_vin_setchnldcattrhb_vin_getchnldcattr" class="hash-link" aria-label="HB_VIN_SetChnLDCAttr/HB_VIN_GetChnLDCAttr的直接链接" title="HB_VIN_SetChnLDCAttr/HB_VIN_GetChnLDCAttr的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetChnLDCAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> VIN_LDC_ATTR_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">stVinLdcAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetChnLDCAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> VIN_LDC_ATTR_S</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">stVinLdcAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>设置和获取LDC的属性</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">pipeId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">chnId</td><td style="text-align:center">输入1即可</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">stVinLdcAttr</td><td style="text-align:center">ldc的属性信息</td><td style="text-align:center">输入，获取属性的时候为输出</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>LDC有调整送往IPU数据时序的功能，在VIN_ISP与VPS模块是在线模式的情况下，必须要通过该接口配置LDC参数，否则VPS会出异常。VIN_ISP与VPS模块是离线模式LDC参数配置与否都不影响。</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_VIN_CreatePipe/HB_VIN_DestroyPipe举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_setchndisattrhb_vin_getchndisattr">HB_VIN_SetChnDISAttr/HB_VIN_GetChnDISAttr<a href="#hb_vin_setchndisattrhb_vin_getchndisattr" class="hash-link" aria-label="HB_VIN_SetChnDISAttr/HB_VIN_GetChnDISAttr的直接链接" title="HB_VIN_SetChnDISAttr/HB_VIN_GetChnDISAttr的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetChnDISAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> VIN_DIS_ATTR_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">stVinDisAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetChnDISAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> VIN_DIS_ATTR_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">stVinDisAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>设置和获取DIS的属性</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">pipeId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">chnId</td><td style="text-align:center">输入1即可</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">stVinDisAttr</td><td style="text-align:center">dis的属性信息</td><td style="text-align:center">输入，获取属性的时候为输出</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_VIN_CreatePipe/HB_VIN_DestroyPipe举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_setchnattr">HB_VIN_SetChnAttr<a href="#hb_vin_setchnattr" class="hash-link" aria-label="HB_VIN_SetChnAttr的直接链接" title="HB_VIN_SetChnAttr的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetChnAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>设置chn的属性</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">pipeId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">chnId</td><td style="text-align:center">输入1即可</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>LDC和DIS的属性真正设置是在这个接口里面，HB_VIN_SetChnLDCAttr和HB_VIN_SetChnDISAttr只是给属性赋值。这个chn是指isp的其中一个输出chn,值固定为1。</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_VIN_CreatePipe/HB_VIN_DestroyPipe举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_destroychn">HB_VIN_DestroyChn<a href="#hb_vin_destroychn" class="hash-link" aria-label="HB_VIN_DestroyChn的直接链接" title="HB_VIN_DestroyChn的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_DestroyChn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>销毁chn</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">pipeId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">chnId</td><td style="text-align:center">输入1即可</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>目前不支持HB_VIN_DestroyChn之后重新HB_VIN_SetChnAttr</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_VIN_CreatePipe/HB_VIN_DestroyPipe举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_getchnframehb_vin_releasechnframe">HB_VIN_GetChnFrame/HB_VIN_ReleaseChnFrame<a href="#hb_vin_getchnframehb_vin_releasechnframe" class="hash-link" aria-label="HB_VIN_GetChnFrame/HB_VIN_ReleaseChnFrame的直接链接" title="HB_VIN_GetChnFrame/HB_VIN_ReleaseChnFrame的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetChnFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">pstVideoFrame</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">int32_t</span><span class="token plain"> millSec</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_ReleaseChnFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">pstVideoFrame</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>获取pipe chn后的数据</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">pipeId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">chnId</td><td style="text-align:center">输入0即可</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">pstVideoFrame</td><td style="text-align:center">数据信息</td><td style="text-align:center">输出</td></tr><tr><td style="text-align:center">millSec</td><td style="text-align:center">超时参数 millSec<br>设为-1 时，为阻塞接口；<br>0 时为 非阻塞接口；<br>大于 0 时为超时等待时间，<br>超时时间的 单位为毫秒（ms）</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>此接口是获取ISP处理之后的图像</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_VIN_CreatePipe/HB_VIN_DestroyPipe举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_getdevframehb_vin_releasedevframe">HB_VIN_GetDevFrame/HB_VIN_ReleaseDevFrame<a href="#hb_vin_getdevframehb_vin_releasedevframe" class="hash-link" aria-label="HB_VIN_GetDevFrame/HB_VIN_ReleaseDevFrame的直接链接" title="HB_VIN_GetDevFrame/HB_VIN_ReleaseDevFrame的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetDevFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">videoFrame</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">int32_t</span><span class="token plain"> millSec</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_ReleaseDevFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">buf</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>获取sif chn处理后的数据，chn为0</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">devId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">chnId</td><td style="text-align:center">输入0即可</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">videoFram</td><td style="text-align:center">数据信息</td><td style="text-align:center">输出</td></tr><tr><td style="text-align:center">millSec</td><td style="text-align:center">超时参数 millSec<br>设为-1 时，为阻塞接口；<br>0 时为 非阻塞接口；<br>大于 0 时为超时等待时间，<br>超时时间的 单位为毫秒（ms）</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>此接口是获取SIF处理之后的图像，sif –offline-isp得时候可以dump raw图，
适用场景：</p>
<blockquote>
<p>VIN_OFFLINE_VPS_ONLINE
VIN_OFFLINE_VPS_OFFINE
VIN_SIF_OFFLINE_ISP_OFFLINE_VPS_ONLINE</p>
</blockquote>
</blockquote>
<p>另外sif-online-isp 同时sif到ddr也可以dump raw图，适用场景：</p>
<blockquote>
<blockquote>
<p>VIN_SIF_ONLINE_DDR_ISP_DDR_VPS_ONLINE
VIN_SIF_ONLINE_DDR_ISP_ONLINE_VPS_ONLINE</p>
</blockquote>
</blockquote>
<p>【参考代码】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">uint32_t</span><span class="token plain"> frame_id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">uint32_t</span><span class="token plain"> plane_count</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">uint32_t</span><span class="token plain"> xres</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">MAX_PLANE</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">uint32_t</span><span class="token plain"> yres</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">MAX_PLANE</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">addr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">MAX_PLANE</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">uint32_t</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">MAX_PLANE</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token class-name">raw_t</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">uint8_t</span><span class="token plain"> ctx_id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">raw_t</span><span class="token plain"> raw</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token class-name">dump_info_t</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">dump_info_t</span><span class="token plain"> dump_info </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">hb_vio_buffer_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">sif_raw </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> pipeId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sif_raw </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">hb_vio_buffer_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">malloc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">hb_vio_buffer_t</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">memset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sif_raw</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">hb_vio_buffer_t</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetDevFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sif_raw</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_GetDevFrame error!!!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">planeCount </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ctx_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> info</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">group_id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">frame_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">frame_id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plane_count </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">planeCount</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xres</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_addr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">width</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">yres</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_addr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">height</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">addr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_addr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">addr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">size</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;pipe(%d)dump normal raw frame id(%d),plane(%d)size(%d)\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ctx_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">frame_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plane_count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">planeCount </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ctx_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> info</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">group_id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">frame_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">frame_id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plane_count </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">planeCount</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">planeCount</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xres</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_addr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">width</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">yres</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_addr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">height</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">addr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_addr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">addr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">size</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">img_format </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;pipe(%d)dump dol2 raw frame id(%d),plane(%d)size(%d)\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ctx_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">frame_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plane_count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">planeCount </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ctx_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> info</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">group_id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">frame_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">frame_id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plane_count </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">planeCount</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">planeCount</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xres</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_addr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">width</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">yres</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_addr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">height</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">addr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_addr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">addr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">size</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;pipe(%d)dump dol3 raw frame id(%d),plane(%d)size(%d)\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ctx_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">frame_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plane_count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;pipe(%d)raw buf planeCount wrong !!!\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> info</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">group_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plane_count</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">img_format </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token function" style="color:#d73a49">sprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;pipe%d_plane%d_%ux%u_frame_%03d.raw&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ctx_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xres</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">yres</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">frame_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token function" style="color:#d73a49">dumpToFile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">addr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">size</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">img_format </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">sprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;pipe%d_%ux%u_frame_%03d.yuv&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ctx_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xres</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">yres</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        dump_info</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">frame_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">dumpToFile2plane</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_addr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">addr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    sif_raw</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">img_addr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">addr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> size</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_ReleaseDevFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sif_raw</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_ReleaseDevFrame error!!!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">free</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sif_raw</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sif_raw </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">dumpToFile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">filename</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">srcBuf</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        FILE </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">yuvFd </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">buffer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        yuvFd </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fopen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filename</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;w+&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">yuvFd </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">vio_err</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;ERRopen(%s) fail&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> filename</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        buffer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token function" style="color:#d73a49">malloc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">vio_err</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;:malloc file&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">fclose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">yuvFd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">memcpy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> srcBuf</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">fflush</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">stdout</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">fwrite</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> yuvFd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">fflush</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">yuvFd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">yuvFd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">fclose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">yuvFd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">free</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">vio_dbg</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;filedump(%s, size(%d) is successed\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> filename</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">dumpToFile2plane</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">filename</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">srcBuf</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">srcBuf1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> size1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        FILE </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">yuvFd </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">buffer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        yuvFd </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fopen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filename</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;w+&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">yuvFd </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">vio_err</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;open(%s) fail&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> filename</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        buffer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token function" style="color:#d73a49">malloc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">size </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> size1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">vio_err</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;ERR:malloc file&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">fclose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">yuvFd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">memcpy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> srcBuf</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">memcpy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> srcBuf1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> size1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">fflush</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">stdout</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">fwrite</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> size </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> size1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> yuvFd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">fflush</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">yuvFd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">yuvFd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">fclose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">yuvFd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">free</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">vio_dbg</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;filedump(%s, size(%d) is successed\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> filename</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_sendpiperaw">HB_VIN_SendPipeRaw<a href="#hb_vin_sendpiperaw" class="hash-link" aria-label="HB_VIN_SendPipeRaw的直接链接" title="HB_VIN_SendPipeRaw的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SendPipeRaw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">pstVideoFrame，</span><span class="token class-name">int32_t</span><span class="token plain"> millSec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>回灌raw接口，数据给ISP处理</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">pipeId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">pstVideoFrame</td><td style="text-align:center">回灌raw数据信息</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">millSec</td><td style="text-align:center">超时参数 millSec<br>设为-1 时，为阻塞接口；<br>0 时为 非阻塞接口；<br>大于 0 时为超时等待时间，<br>超时时间的 单位为毫秒（ms）</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>  【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> pipeId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">hb_vio_buffer_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">feedback_buf</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">hb_vio_buffer_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">isp_yuv </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    isp_yuv </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">hb_vio_buffer_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">malloc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">hb_vio_buffer_t</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">memset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">isp_yuv</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">hb_vio_buffer_t</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SendPipeRaw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> feedback_buf</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_SendFrame error!!!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetChnFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> isp_yuv</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_GetPipeFrame error!!!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_ReleaseChnFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> isp_yuv</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VPS_ReleaseDevRaw error!!!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_setpipeattrhb_vin_getpipeattr">HB_VIN_SetPipeAttr/HB_VIN_GetPipeAttr<a href="#hb_vin_setpipeattrhb_vin_getpipeattr" class="hash-link" aria-label="HB_VIN_SetPipeAttr/HB_VIN_GetPipeAttr的直接链 接" title="HB_VIN_SetPipeAttr/HB_VIN_GetPipeAttr的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetPipeAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">VIN_PIPE_ATTR_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">stVinPipeAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetPipeAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> VIN_PIPE_ATTR_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">stVinPipeAttr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>设置pipe（ISP）属性、获取pipe属性</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">pipeId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">stVinPipeAttr</td><td style="text-align:center">描述pipe属性的指针</td><td style="text-align:center">输入，get的时候为输出</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_VIN_CreatePipe/HB_VIN_DestroyPipe举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_ctrlpipemirror">HB_VIN_CtrlPipeMirror<a href="#hb_vin_ctrlpipemirror" class="hash-link" aria-label="HB_VIN_CtrlPipeMirror的直接链接" title="HB_VIN_CtrlPipeMirror的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_CtrlPipeMirror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint8_t</span><span class="token plain"> on</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>pipe镜像控制。</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">pipeId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">on</td><td style="text-align:center">非0打开镜像功能，0关闭镜像功能。</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>Flip功能需要借助GDC实现，如先把镜像打开然后再旋转180度。</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_motiondetect">HB_VIN_MotionDetect<a href="#hb_vin_motiondetect" class="hash-link" aria-label="HB_VIN_MotionDetect的直接链接" title="HB_VIN_MotionDetect的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_MotionDetect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>检测MD是否有中断,有MD中断就返回</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">pipeId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">检测到运行物体，阻塞调用，未检测到运动物体一直阻塞。</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_VIN_EnableDevMd举例</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_initlens">HB_VIN_InitLens<a href="#hb_vin_initlens" class="hash-link" aria-label="HB_VIN_InitLens的直接链接" title="HB_VIN_InitLens的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_InitLens</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> VIN_LENS_FUNC_TYPE_E lensType</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> VIN_LENS_CTRL_ATTR_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">lenCtlAttr</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>马达驱动初始化。</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">pipeId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">lensType</td><td style="text-align:center">马达的功能类型，AF、Zoom功能</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">lenCtlAttr</td><td style="text-align:center">控制属性</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>如果使用AF调用一次接口，如果同时使用AF和Zoom功  能，调用两次初始化。使用就去调用，不使用建议不调用。</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>暂无</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_deinitlens">HB_VIN_DeinitLens<a href="#hb_vin_deinitlens" class="hash-link" aria-label="HB_VIN_DeinitLens的直接链接" title="HB_VIN_DeinitLens的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_DeinitLens</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>马达退出</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">pipeId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>暂无</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_registerdiscallback">HB_VIN_RegisterDisCallback<a href="#hb_vin_registerdiscallback" class="hash-link" aria-label="HB_VIN_RegisterDisCallback的直接链接" title="HB_VIN_RegisterDisCallback的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_RegisterDisCallback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> VIN_DIS_CALLBACK_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">pstDISCallback</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>注册dis回调</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">pipeId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">pstDISCallback</td><td style="text-align:center">回调接口</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>暂无</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_setdevvcnumberhb_vin_getdevvcnumber">HB_VIN_SetDevVCNumber/HB_VIN_GetDevVCNumber<a href="#hb_vin_setdevvcnumberhb_vin_getdevvcnumber" class="hash-link" aria-label="HB_VIN_SetDevVCNumber/HB_VIN_GetDevVCNumber的直接链接" title="HB_VIN_SetDevVCNumber/HB_VIN_GetDevVCNumber的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetDevVCNumber</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> vcNumber</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetDevVCNumber</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">vcNumber</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>设置和获取dev的vc_index，使用MIPI的哪个vc.</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">devId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">vcNumber</td><td style="text-align:center">对应mipi的vc,范围0~3</td><td style="text-align:center">输入，获取的时候为输出</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>无</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_adddevvcnumber">HB_VIN_AddDevVCNumber<a href="#hb_vin_adddevvcnumber" class="hash-link" aria-label="HB_VIN_AddDevVCNumber的直接链接" title="HB_VIN_AddDevVCNumber的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_AddDevVCNumber</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> vcNumber</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>设置dev的vc_index,使用MIPI的哪个vc.</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">devId</td><td style="text-align:center">对应每路输vc入，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">vcNumber</td><td style="text-align:center">对应mipi的vc,范围0~3</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>当使用linear模式时，这个接口不用使用，当使用DOL2模式时，此接口vcNumber设置为1，当使用DOL3模式时，调用两次HB_VIN_AddDevVCNumber，vcNumber分别传0和1.</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>一路DOL2
初始化顺序：</p>
<ol>
<li>把dev0绑到mipi0
HB_VIN_SetMipiBindDev(0, 0)</li>
<li>把mipi0的虚通道0绑到dev0
HB_VIN_SetDevVCNumber(0, 0)</li>
<li>把mipi0的虚通道1绑到dev0
HB_VIN_AddDevVCNumber(0, 1);</li>
<li>把dev0分别绑到ISP pipe0,
HB_VIN_SetDevBindPipe(0, 0)</li>
</ol>
</blockquote>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_SYS_SetVINVPSMode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> vin_vps_mode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_SYS_SetVINVPSMode%d error!\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> vin_vps_mode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_CreatePipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pipeinfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// isp init</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_MIPI_InitSensor error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetMipiBindDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mipiIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_SetMipiBindDev error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetDevVCNumber</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> deseri_port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_SetDevVCNumber error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_AddDevVCNumber</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> vc_num</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_AddDevVCNumber error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetDevAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> devinfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_MIPI_InitSensor error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetPipeAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pipeinfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_SetPipeAttr error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">goto</span><span class="token plain"> pipe_err</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetChnDISAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> disinfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_SetChnDISAttr error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">goto</span><span class="token plain"> pipe_err</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetChnLDCAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ldcinfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_SetChnLDCAttr error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">goto</span><span class="token plain"> pipe_err</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetChnAttr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_SetChnAttr error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">goto</span><span class="token plain"> chn_err</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">HB_VIN_SetDevBindPipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_setdevmclk">HB_VIN_SetDevMclk<a href="#hb_vin_setdevmclk" class="hash-link" aria-label="HB_VIN_SetDevMclk的直接链接" title="HB_VIN_SetDevMclk的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetDevMclk</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> devMclk</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> vpuMclk</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>设置sif mclk和vpu clk.</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">devId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">devMclk</td><td style="text-align:center">Sif mclk设置，请参见SIF MCLK</td><td style="text-align:center">输入，单位KHz</td></tr><tr><td style="text-align:center">vpuMclk</td><td style="text-align:center">vpu clk设置, 请参见VPU CLK</td><td style="text-align:center">输入，单位KHz</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>暂无</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_getchnfd">HB_VIN_GetChnFd<a href="#hb_vin_getchnfd" class="hash-link" aria-label="HB_VIN_GetChnFd的直接链接" title="HB_VIN_GetChnFd的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_GetChnFd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> chnId</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>获取通道的fd</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">pipeId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr><tr><td style="text-align:center">chnId</td><td style="text-align:center">通道号，为0</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">正值</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">负值</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>暂无</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_closefd">HB_VIN_CloseFd<a href="#hb_vin_closefd" class="hash-link" aria-label="HB_VIN_CloseFd的直接链接" title="HB_VIN_CloseFd的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_CloseFd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>关闭通道的fd</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">void</td><td style="text-align:center">无</td><td style="text-align:center">无输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意 事项】</p>
<blockquote>
<p>无</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>暂无</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_enabledevmd">HB_VIN_EnableDevMd<a href="#hb_vin_enabledevmd" class="hash-link" aria-label="HB_VIN_EnableDevMd的直接链接" title="HB_VIN_EnableDevMd的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_EnableDevMd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>打开motiondetect功能</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">devId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>调用得在HB_VIN_SetDevAttrEx之后，HB_VIN_SetDevAttrEx接口是设置MD的一些属性值</p>
</blockquote>
<p>【参考代码】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_DEV_ATTR_EX_S devAttr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    devAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> path_sel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    devAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> roi_top </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    devAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> roi_left </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    devAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> roi_width </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1280</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    devAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> roi_height </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">640</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    devAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> grid_step </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">128</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    devAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> grid_tolerance </span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    devAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> threshold </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    devAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> weight_decay </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">128</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    devAttr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> precision </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_SetDevAttrEx</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> devexinfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_SetDevAttrEx error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_EnableDevMd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_EnableDevMd error!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>下面起一个线程调用HB_VIN_MotionDetect检测收到MD中断后将MD功能关闭HB_VIN_DisableDevMd。</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">md_func</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">work_info_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> info</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> pipeId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> info</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">group_id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain">  </span><span class="token function" style="color:#d73a49">HB_VIN_MotionDetect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_MotionDetect error!!! ret %d \n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">HB_VIN_DisableDevMd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HB_VIN_DisableDevMd success!!! ret %d \n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hb_vin_disabledevmd">HB_VIN_DisableDevMd<a href="#hb_vin_disabledevmd" class="hash-link" aria-label="HB_VIN_DisableDevMd的直接链接" title="HB_VIN_DisableDevMd的直接链接">​</a></h3>
<p>【函数声明】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HB_VIN_DisableDevMd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> devId</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>关闭motiondetect功能</p>
</blockquote>
<p>【参数描述】</p>
<table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">描述</th><th style="text-align:center">输入/输出</th></tr></thead><tbody><tr><td style="text-align:center">devId</td><td style="text-align:center">对应每路输入，范围0~7</td><td style="text-align:center">输入</td></tr></tbody></table>
<p>【返回值】</p>
<table><thead><tr><th style="text-align:center">返回值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">成功</td></tr><tr><td style="text-align:center">非0</td><td style="text-align:center">失败</td></tr></tbody></table>
<p>【注意事项】</p>
<blockquote>
<p>用户收到md中断后关闭md功能</p>
</blockquote>
<p>【参考代码】</p>
<blockquote>
<p>请参见HB_VIN_EnableDevMd举例</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="数据结构">数据结构<a href="#数据结构" class="hash-link" aria-label="数据结构的直接链接" title="数据结构的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mipi_input_mode_e">MIPI_INPUT_MODE_E<a href="#mipi_input_mode_e" class="hash-link" aria-label="MIPI_INPUT_MODE_E的直接链接" title="MIPI_INPUT_MODE_E的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">HB_MIPI_INPUT_MODE_E</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    INPUT_MODE_MIPI         </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">/* mipi */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    INPUT_MODE_DVP         </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">/* DVP*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    INPUT_MODE_BUTT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> MIPI_INPUT_MODE_E</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>sensor接入方式</p>
</blockquote>
<p>【成员说明】</p>
<ul>
<li>MIPI接入</li>
<li>DVP接入</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mipi_sensor_mode_e">MIPI_SENSOR_MODE_E<a href="#mipi_sensor_mode_e" class="hash-link" aria-label="MIPI_SENSOR_MODE_E的直接链接" title="MIPI_SENSOR_MODE_E的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">HB_MIPI_SENSOR_MODE_E</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NORMAL_M             </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DOL2_M               </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DOL3_M               </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PWL_M                </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> MIPI_SENSOR_MODE_E</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>sensor工作模式</p>
</blockquote>
<p>【成员说明】</p>
<blockquote>
<p>linear模式、DOL2模式、DOL3模式、PWL模式</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mipi_deserial_info_t">MIPI_DESERIAL_INFO_T<a href="#mipi_deserial_info_t" class="hash-link" aria-label="MIPI_DESERIAL_INFO_T的直接链接" title="MIPI_DESERIAL_INFO_T的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_MIPI_DESERIAL_INFO_T</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> bus_type</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> bus_num</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> deserial_addr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> physical_entry</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">deserial_name</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> MIPI_DESERIAL_INFO_T</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义serdes初始化的属性信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">bus_type</td><td style="text-align:left">总线类型，0是i2c,1是spi</td></tr><tr><td style="text-align:center">bus_num</td><td style="text-align:left">总线号,根据具体板子硬件原理图确定，目前用的5</td></tr><tr><td style="text-align:center">deserial_addr</td><td style="text-align:left">serdes地址</td></tr><tr><td style="text-align:center">physical_entry</td><td style="text-align:left">保留</td></tr><tr><td style="text-align:center">deserial_name</td><td style="text-align:left">serdes名字</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mipi_sns_info_s">MIPI_SNS_INFO_S<a href="#mipi_sns_info_s" class="hash-link" aria-label="MIPI_SNS_INFO_S的直接链接" title="MIPI_SNS_INFO_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_MIPI_SNS_INFO_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> port</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> dev_port</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> bus_type</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> bus_num</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> fps</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> resolution</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> sensor_addr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> serial_addr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> entry_index</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MIPI_SENSOR_MODE_E sensor_mode</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> reg_width</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">sensor_name</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> extra_mode</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> deserial_index</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> deserial_port</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> gpio_num</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> gpio_pin</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">GPIO_NUM</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> gpio_level</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">GPIO_NUM</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MIPI_SPI_DATA_S spi_info</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> MIPI_SNS_INFO_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义sensor初始化的属性信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">port</td><td style="text-align:left">当前sensor的一个逻辑编号，必须从0开始</td></tr><tr><td style="text-align:center">dev_port</td><td style="text-align:left">每路sensor操作的驱动节点，一个  驱动支持多个节点。</td></tr><tr><td style="text-align:center">bus_type</td><td style="text-align:left">总线类型，0是i2c,1是spi</td></tr><tr><td style="text-align:center">bus_num</td><td style="text-align:left">总线号，根据具体板子硬件原理图确定,现在默认i2c5</td></tr><tr><td style="text-align:center">fps</td><td style="text-align:left">帧率</td></tr><tr><td style="text-align:center">resolution</td><td style="text-align:left">Sensor的分辨率</td></tr><tr><td style="text-align:center">sensor_addr</td><td style="text-align:left">sensor地址</td></tr><tr><td style="text-align:center">serial_addr</td><td style="text-align:left">sensor内部serdes地址</td></tr><tr><td style="text-align:center">entry_index</td><td style="text-align:left">sensor使用的mipi索引</td></tr><tr><td style="text-align:center">sensor_mode</td><td style="text-align:left">sensor工作模式，1是normal,2是dol2,3是dol3</td></tr><tr><td style="text-align:center">reg_width</td><td style="text-align:left">寄存器地址宽度</td></tr><tr><td style="text-align:center">sensor_name</td><td style="text-align:left">sensor名字</td></tr><tr><td style="text-align:center">extra_mode</td><td style="text-align:left">区分sensor的特性，具体sensor驱动实现</td></tr><tr><td style="text-align:center">deserial_index</td><td style="text-align:left">当前属于哪一个serdes</td></tr><tr><td style="text-align:center">deserial_port</td><td style="text-align:left">当前属于serdes哪一个port</td></tr><tr><td style="text-align:center">gpio_num</td><td style="text-align:left">有的sensor需要gpio上下电，此sensor用到的相关GPIO管脚</td></tr><tr><td style="text-align:center">gpio_pin</td><td style="text-align:left">操作的GPIO管脚，GPIO_NUM是用到的GPIO管脚的个数</td></tr><tr><td style="text-align:center">gpio_level</td><td style="text-align:left">初始有效值，比如该管脚需要先拉低再拉高，此值为0，如果先拉高在拉低，此值为1</td></tr><tr><td style="text-align:center">spi_info</td><td style="text-align:left">sensor spi信息，有的sensor通过spi总线访问</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mipi_sensor_info_s">MIPI_SENSOR_INFO_S<a href="#mipi_sensor_info_s" class="hash-link" aria-label="MIPI_SENSOR_INFO_S的直接链接" title="MIPI_SENSOR_INFO_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_MIPI_SENSOR_INFO_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain">    deseEnable</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MIPI_INPUT_MODE_E  inputMode</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MIPI_DESERIAL_INFO_T deserialInfo</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MIPI_SNS_INFO_S  sensorInfo</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> MIPI_SENSOR_INFO_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义dev初始化的属性信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">deseEnable</td><td style="text-align:left">该sensor是否有serdes</td></tr><tr><td style="text-align:center">inputMode</td><td style="text-align:left">sensor接入方式</td></tr><tr><td style="text-align:center">deserialInfo</td><td style="text-align:left">serdes信息</td></tr><tr><td style="text-align:center">sensorInfo</td><td style="text-align:left">sensor信息</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mipi_host_cfg_s">MIPI_HOST_CFG_S<a href="#mipi_host_cfg_s" class="hash-link" aria-label="MIPI_HOST_CFG_S的直接链接" title="MIPI_HOST_CFG_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_MIPI_HOST_CFG_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint16_t</span><span class="token plain">  lane</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint16_t</span><span class="token plain">  datatype</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint16_t</span><span class="token plain">  mclk</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint16_t</span><span class="token plain">  mipiclk</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint16_t</span><span class="token plain">  fps</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint16_t</span><span class="token plain">  width</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint16_t</span><span class="token plain">  height</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint16_t</span><span class="token plain">  linelenth</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint16_t</span><span class="token plain">  framelenth</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint16_t</span><span class="token plain">  settle</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint16_t</span><span class="token plain">  channel_num</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint16_t</span><span class="token plain">  channel_sel</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> MIPI_HOST_CFG_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义mipi初始化参数信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">lane</td><td style="text-align:left">lane个数，0~4</td></tr><tr><td style="text-align:center">datatype</td><td style="text-align:left">数据格式,参见DATA TYPE</td></tr><tr><td style="text-align:center">mclk</td><td style="text-align:left">mipi模块主时钟，目前固定是24MHZ</td></tr><tr><td style="text-align:center">mipiclk</td><td style="text-align:left">sensor 输出 总的mipi bit rate, 单位 Mbits/每秒</td></tr><tr><td style="text-align:center">fps</td><td style="text-align:left">sensor输出实际帧率</td></tr><tr><td style="text-align:center">width</td><td style="text-align:left">sensor输出实际宽度</td></tr><tr><td style="text-align:center">height</td><td style="text-align:left">sensor输出实际高度</td></tr><tr><td style="text-align:center">linelenth</td><td style="text-align:left">sensor输出带blanking的总行长</td></tr><tr><td style="text-align:center">framelenth</td><td style="text-align:left">sensor输出带blanking的总行数</td></tr><tr><td style="text-align:center">settle</td><td style="text-align:left">sensor输出实际 Ttx-zero + Ttx-prepare时间（clk为单位）</td></tr><tr><td style="text-align:center">channel_num</td><td style="text-align:left">使用虚通道的个数</td></tr><tr><td style="text-align:center">channel_sel[4]</td><td style="text-align:left">保存每个虚通道的值</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mipi_attr_s">MIPI_ATTR_S<a href="#mipi_attr_s" class="hash-link" aria-label="MIPI_ATTR_S的直接链接" title="MIPI_ATTR_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_MIPI_ATTR_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MIPI_HOST_CFG_S mipi_host_cfg</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">  dev_enable</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> MIPI_ATTR_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义mipi初始化参数信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">mipi_host_cfg</td><td style="text-align:left">mipi host属性结构体</td></tr><tr><td style="text-align:center">dev_enable</td><td style="text-align:left">mipi dev是否使能，1是使能，0是关闭</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mipi_spi_data_s">MIPI_SPI_DATA_S<a href="#mipi_spi_data_s" class="hash-link" aria-label="MIPI_SPI_DATA_S的直接链接" title="MIPI_SPI_DATA_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_MIPI_SPI_DATA_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> spi_mode</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> spi_cs</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> spi_speed</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> MIPI_SPI_DATA_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义sensor相关spi信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">spi_mode</td><td style="text-align:left">spi的工作模式</td></tr><tr><td style="text-align:center">spi_cs</td><td style="text-align:left">spi的片选</td></tr><tr><td style="text-align:center">spi_speed</td><td style="text-align:left">spi的传输速率</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_dev_size_s">VIN_DEV_SIZE_S<a href="#vin_dev_size_s" class="hash-link" aria-label="VIN_DEV_SIZE_S的直接链接" title="VIN_DEV_SIZE_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_DEV_SIZE_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">  format</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">  width</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">  height</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">  pix_length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_DEV_SIZE_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义dev初始化的属性信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">format</td><td style="text-align:left">像素格式，format为0代表是raw8~raw16,根据pixel_lenght来表示究竟是raw8还是raw16。</td></tr><tr><td style="text-align:center">width</td><td style="text-align:left">数据宽</td></tr><tr><td style="text-align:center">height</td><td style="text-align:left">数据高</td></tr><tr><td style="text-align:center">pix_length</td><td style="text-align:left">每个像素点长度</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_mipi_attr_s">VIN_MIPI_ATTR_S<a href="#vin_mipi_attr_s" class="hash-link" aria-label="VIN_MIPI_ATTR_S的直接链接" title="VIN_MIPI_ATTR_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_MIPI_ATTR_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">  enable</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">  ipi_channels</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">  ipi_mode</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">  enable_mux_out</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">  enable_frame_id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">  enable_bypass</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">  enable_line_shift</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">  enable_id_decoder</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">  set_init_frame_id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">  set_line_shift_count</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">  set_bypass_channels</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">  enable_pattern</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_MIPI_ATTR_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义dev mipi初始化的信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">enable</td><td style="text-align:left">mipi使能,0是关闭，1是使能</td></tr><tr><td style="text-align:center">ipi_channels</td><td style="text-align:left">ipi_channels表示用了几个channel，默认是0开始，如果设置是2，是用了0，1</td></tr><tr><td style="text-align:center">ipi_mode</td><td style="text-align:left">当DOL2分成两路linear或者DOL3分成一路DOl2和一路linear或者三路linear的时候，此值就赋值为2或3.</td></tr><tr><td style="text-align:center">enable_mux_out</td><td style="text-align:left">使能mux选择输出</td></tr><tr><td style="text-align:center">enable_frame_id</td><td style="text-align:left">是否使能frameid</td></tr><tr><td style="text-align:center">enable_bypass</td><td style="text-align:left">是否使能bypass</td></tr><tr><td style="text-align:center">enable_line_shift</td><td style="text-align:left">未用</td></tr><tr><td style="text-align:center">enable_id_decoder</td><td style="text-align:left">未用</td></tr><tr><td style="text-align:center">set_init_frame_id</td><td style="text-align:left">初始frame id值一般为1</td></tr><tr><td style="text-align:center">set_line_shift_count</td><td style="text-align:left">未用</td></tr><tr><td style="text-align:center">set_bypass_channels</td><td style="text-align:left">未用</td></tr><tr><td style="text-align:center">enable_pattern</td><td style="text-align:left">是否使能testpartern</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_dev_input_ddr_attr_s">VIN_DEV_INPUT_DDR_ATTR_S<a href="#vin_dev_input_ddr_attr_s" class="hash-link" aria-label="VIN_DEV_INPUT_DDR_ATTR_S的直接链接" title="VIN_DEV_INPUT_DDR_ATTR_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_DEV_INPUT_DDR_ATTR_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> stride</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> buf_num</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> raw_feedback_en</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_DEV_SIZE_S data</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_DEV_INPUT_DDR_ATTR_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义dev输入信息，offline和回灌场景用</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">stride</td><td style="text-align:left">硬件stride 跟格式匹配，如果是12bit那么stride = widthx1.5，如果是10bit，stride = widthx1.25,如此类推</td></tr><tr><td style="text-align:center">buf_num</td><td style="text-align:left">回灌的存储数据的 buf 数目</td></tr><tr><td style="text-align:center">raw_feedback_en</td><td style="text-align:left">使能回灌模式，不能和offline 模式同时开启，独立使用</td></tr><tr><td style="text-align:center">data</td><td style="text-align:left">数据格式，见 VIN_DEV_SIZE_S</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_dev_output_ddr_s">VIN_DEV_OUTPUT_DDR_S<a href="#vin_dev_output_ddr_s" class="hash-link" aria-label="VIN_DEV_OUTPUT_DDR_S的直接链接" title="VIN_DEV_OUTPUT_DDR_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_DEV_OUTPUT_DDR_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> stride</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> buffer_num</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> frameDepth</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_DEV_OUTPUT_DDR_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义dev 输出到ddr初始化的信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">stride</td><td style="text-align:left">硬件stride 跟格式匹配，目前12bit  1952x1.5</td></tr><tr><td style="text-align:center">buffer_num</td><td style="text-align:left">dev 输出到ddr 的buf 个数</td></tr><tr><td style="text-align:center">frameDepth</td><td style="text-align:left">最多get的帧数, buffer_num是总buff数量，建议frameDepth值最大是ddrOutBufNum – 4。</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_dev_output_isp_s">VIN_DEV_OUTPUT_ISP_S<a href="#vin_dev_output_isp_s" class="hash-link" aria-label="VIN_DEV_OUTPUT_ISP_S的直接链接" title="VIN_DEV_OUTPUT_ISP_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_DEV_OUTPUT_ISP_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> dol_exp_num</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> enable_dgain</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> set_dgain_short</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> set_dgain_medium</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> set_dgain_long</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> short_maxexp_lines</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> medium_maxexp_lines</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> vc_short_seq</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> vc_medium_seq</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> vc_long_seq</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_DEV_OUTPUT_ISP_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义dev 输出到pipe初始化的信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">dol_exp_num</td><td style="text-align:left">曝光模式，1 为普通模式，dol 2 或者 3 设  置对应数目</td></tr><tr><td style="text-align:center">enable_dgain</td><td style="text-align:left">ISP内部调试参数，暂可忽略</td></tr><tr><td style="text-align:center">set_dgain_short</td><td style="text-align:left">ISP 内部调试参数，暂可忽略</td></tr><tr><td style="text-align:center">set_dgain_medium</td><td style="text-align:left">ISP 内部调试参数，暂可忽略</td></tr><tr><td style="text-align:center">set_dgain_long</td><td style="text-align:left">ISP 内部调试参数，暂可忽略</td></tr><tr><td style="text-align:center">short_maxexp_lines</td><td style="text-align:left">最短帧的最大曝光行数，一般是sensor mode寄存器表中找，DOL2/3需要填，用来分配IRAM大小</td></tr><tr><td style="text-align:center">medium_maxexp_lines</td><td style="text-align:left">普通帧的最大曝光行数，一般是sensor mode寄存器表中找，DOL3需要填，用来分配IRAM大小</td></tr><tr><td style="text-align:center">vc_short_seq</td><td style="text-align:left">用来描述DOL2/3模式下，短帧的顺序</td></tr><tr><td style="text-align:center">vc_medium_seq</td><td style="text-align:left">用来描述DOL2/3模式下，普通帧的顺序</td></tr><tr><td style="text-align:center">vc_long_seq</td><td style="text-align:left">用来描述DOL2/3模式下，长帧的顺序</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_dev_attr_s">VIN_DEV_ATTR_S<a href="#vin_dev_attr_s" class="hash-link" aria-label="VIN_DEV_ATTR_S的直接链接" title="VIN_DEV_ATTR_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_DEV_ATTR_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_DEV_SIZE_S        stSize</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">union</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        VIN_MIPI_ATTR_S  mipiAttr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        VIN_DVP_ATTR_S   dvpAttr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_DEV_INPUT_DDR_ATTR_S DdrIspAttr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_DEV_OUTPUT_DDR_S outDdrAttr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_DEV_OUTPUT_ISP_S outIspAttr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">VIN_DEV_ATTR_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义dev初始化的属性信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">VIN_DEV_SIZE_S</td><td style="text-align:left">stSize 输入的数据</td></tr><tr><td style="text-align:center">VIN_DEV_INTF_MODE_E</td><td style="text-align:left">enIntfMode sif(dev)输入的接口模式，mipi or dvp,目前都是mipi</td></tr><tr><td style="text-align:center">DdrIspAttr</td><td style="text-align:left">isp(pipe)的输入属性配置，offline或者是回灌</td></tr><tr><td style="text-align:center">outDdrAttr</td><td style="text-align:left">sif(dev)的输出到ddr配置</td></tr><tr><td style="text-align:center">outIspAttr</td><td style="text-align:left">sif到isp一些属性设置</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_dev_attr_ex_s">VIN_DEV_ATTR_EX_S<a href="#vin_dev_attr_ex_s" class="hash-link" aria-label="VIN_DEV_ATTR_EX_S的直接链接" title="VIN_DEV_ATTR_EX_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_DEV_ATTR_EX_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> path_sel</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> roi_top</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> roi_left</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> roi_width</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> roi_height</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> grid_step</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> grid_tolerance</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> threshold</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> weight_decay</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> precision</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">VIN_DEV_ATTR_EX_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义md相关信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">path_sel</td><td style="text-align:left">0：sif-isp通路；1：sif-ipu通路</td></tr><tr><td style="text-align:center">roi_top</td><td style="text-align:left">ROI的y坐标</td></tr><tr><td style="text-align:center">roi_left</td><td style="text-align:left">ROI的x坐标</td></tr><tr><td style="text-align:center">roi_width</td><td style="text-align:left">ROI的长，必须是step的整数s倍</td></tr><tr><td style="text-align:center">roi_height</td><td style="text-align:left">ROI的宽， 必须是step的整数倍</td></tr><tr><td style="text-align:center">grid_step</td><td style="text-align:left">对应motion detect的区域中划分的每块的宽和高。为2的整数次幂，有效范围为4~128。</td></tr><tr><td style="text-align:center">grid_tolerance</td><td style="text-align:left">每个块前后两帧进行比较的阈值。当前后两帧中相同块进行相减，插值超过这个阈值时，判断为不同。</td></tr><tr><td style="text-align:center">threshold</td><td style="text-align:left">动态检测选取的ROI区域中划分的块比较不同的个数超过这个阈值,发出mot_det中断。</td></tr><tr><td style="text-align:center">weight_decay</td><td style="text-align:left">新的一帧更新ref buffer时不是完全替代上一帧的数据，而是前后两帧加权平均的结果。Mot_det_wgt_decay为当前帧的权重，前一帧的权重为(256-mot_det_wgt_decay)。</td></tr><tr><td style="text-align:center">precision</td><td style="text-align:left">为进行每个块计算时保留的小数点后的精度的位数，有效范围为1~4.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_pipe_sensor_mode_e">VIN_PIPE_SENSOR_MODE_E<a href="#vin_pipe_sensor_mode_e" class="hash-link" aria-label="VIN_PIPE_SENSOR_MODE_E的直接链接" title="VIN_PIPE_SENSOR_MODE_E的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">HB_VIN_PIPE_SENSOR_MODE_E</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SENSOR_NORMAL_MODE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SENSOR_DOL2_MODE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SENSOR_DOL3_MODE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SENSOR_DOL4_MODE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SENSOR_PWL_MODE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SENSOR_INVAILD_MODE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_PIPE_SENSOR_MODE_E</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>sensor工作模式</p>
</blockquote>
<p>【成员说明】</p>
<blockquote>
<p>normal模式、DOL2模式、DOL3模式、PWL模式（压缩模式）</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_pipe_cfa_pattern_e">VIN_PIPE_CFA_PATTERN_E<a href="#vin_pipe_cfa_pattern_e" class="hash-link" aria-label="VIN_PIPE_CFA_PATTERN_E的直接链接" title="VIN_PIPE_CFA_PATTERN_E的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">HB_VIN_PIPE_CFA_PATTERN_E</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PIPE_BAYER_RGGB </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PIPE_BAYER_GRBG</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PIPE_BAYER_GBRG</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PIPE_BAYER_BGGR</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PIPE_MONOCHROME</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_PIPE_CFA_PATTERN_E</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>数据格式布局</p>
</blockquote>
<p>【成员说明】</p>
<blockquote>
<p>不同的数据存储格式</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_pipe_size_s">VIN_PIPE_SIZE_S<a href="#vin_pipe_size_s" class="hash-link" aria-label="VIN_PIPE_SIZE_S的直接链接" title="VIN_PIPE_SIZE_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_PIPE_SIZE_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">  format</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">  width</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">  height</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_PIPE_SIZE_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义pipe size 数据信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">format</td><td style="text-align:left">数据格式</td></tr><tr><td style="text-align:center">width</td><td style="text-align:left">数据宽</td></tr><tr><td style="text-align:center">height</td><td style="text-align:left">数据高</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_pipe_calib_s">VIN_PIPE_CALIB_S<a href="#vin_pipe_calib_s" class="hash-link" aria-label="VIN_PIPE_CALIB_S的直接链接" title="VIN_PIPE_CALIB_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_PIPE_CALIB_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> mode</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">lname</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_PIPE_CALIB_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>sensor矫正数据加载</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">mode</td><td style="text-align:left">是否开启sensor矫正数据加载</td></tr><tr><td style="text-align:center">lname</td><td style="text-align:left">对应使用的校准库</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_pipe_attr_s">VIN_PIPE_ATTR_S<a href="#vin_pipe_attr_s" class="hash-link" aria-label="VIN_PIPE_ATTR_S的直接链接" title="VIN_PIPE_ATTR_S的直接链接">​</a></h3>
<p> 【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_PIPE_ATTR_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">  ddrOutBufNum</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">  frameDepth</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_PIPE_SENSOR_MODE_E snsMode</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_PIPE_SIZE_S stSize</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_PIPE_CFA_PATTERN_E cfaPattern</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">   temperMode</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">   ispBypassEn</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">   ispAlgoState</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">   ispAfEn</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">   bitwidth</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">   startX</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">   startY</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_PIPE_CALIB_S calib</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_PIPE_ATTR_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义pipe属性信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">ddrOutBufNum</td><td style="text-align:left">数据的位宽，8 \10\12\14\16</td></tr><tr><td style="text-align:center">frameDepth</td><td style="text-align:left">最多get的帧数, ddrOutBufNum是总buff数量，建议frameDepth值最大是ddrOutBufNum – 3。</td></tr><tr><td style="text-align:center">snsMode</td><td style="text-align:left">sensor工作模式</td></tr><tr><td style="text-align:center">stSize</td><td style="text-align:left">sensor的数据信息，见17</td></tr><tr><td style="text-align:center">cfaPattern</td><td style="text-align:left">数据格式布局，和sensor保持一致</td></tr><tr><td style="text-align:center">temperMode</td><td style="text-align:left">temper模式，0关闭，2打开</td></tr><tr><td style="text-align:center">BypassEnable</td><td style="text-align:left">是否使能isp的bypass</td></tr><tr><td style="text-align:center">ispAlgoState</td><td style="text-align:left">是否启动3a算法库,1是启动，0是关闭</td></tr><tr><td style="text-align:center">bitwidth</td><td style="text-align:left">位宽，有效值 8、10、12、14、16、20</td></tr><tr><td style="text-align:center">startX</td><td style="text-align:left">相对于原点的X偏移</td></tr><tr><td style="text-align:center">startY</td><td style="text-align:left">相对于原点的Y偏移</td></tr><tr><td style="text-align:center">calib</td><td style="text-align:left">是否开启sensor矫正数据加载，1是开启，0是关闭。</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_ldc_path_sel_s">VIN_LDC_PATH_SEL_S<a href="#vin_ldc_path_sel_s" class="hash-link" aria-label="VIN_LDC_PATH_SEL_S的直接链接" title="VIN_LDC_PATH_SEL_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_LDC_PATH_SEL_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> rg_y_only</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> rg_uv_mode</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> rg_uv_interpo</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> reserved1</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> rg_h_blank_cyc</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> reserved0</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_LDC_PATH_SEL_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义LDC属性信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">rg_y_only</td><td style="text-align:left">输出类型</td></tr><tr><td style="text-align:center">rg_uv_mode</td><td style="text-align:left">输出类型</td></tr><tr><td style="text-align:center">rg_uv_interpo</td><td style="text-align:left">turning用</td></tr><tr><td style="text-align:center">rg_h_blank_cyc</td><td style="text-align:left">turning用</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_ldc_picsize_s">VIN_LDC_PICSIZE_S<a href="#vin_ldc_picsize_s" class="hash-link" aria-label="VIN_LDC_PICSIZE_S的直接链接" title="VIN_LDC_PICSIZE_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_LDC_PICSIZE_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint16_t</span><span class="token plain"> pic_w</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint16_t</span><span class="token plain"> pic_h</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_LDC_PICSIZE_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义LDC宽高输入信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">pic_w</td><td style="text-align:left">需要设置比接入尺寸  -1 的size, 如果ISP 输出 1920 , 则这里设置 1919</td></tr><tr><td style="text-align:center">pic_h</td><td style="text-align:left">除了size, ldc以及dis 部分其他设置不要更改</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_ldc_algoparam_s">VIN_LDC_ALGOPARAM_S<a href="#vin_ldc_algoparam_s" class="hash-link" aria-label="VIN_LDC_ALGOPARAM_S的直接链接" title="VIN_LDC_ALGOPARAM_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_LDC_ALGOPARAM_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint16_t</span><span class="token plain"> rg_algo_param_b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint16_t</span><span class="token plain"> rg_algo_param_a</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_LDC_ALGOPARAM_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义LDC属性信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">rg_algo_param_b</td><td style="text-align:left">参数需要tuning</td></tr><tr><td style="text-align:center">rg_algo_param_a</td><td style="text-align:left">参数需要tuning</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_ldc_off_shift_s">VIN_LDC_OFF_SHIFT_S<a href="#vin_ldc_off_shift_s" class="hash-link" aria-label="VIN_LDC_OFF_SHIFT_S的直接链接" title="VIN_LDC_OFF_SHIFT_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_LDC_OFF_SHIFT_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> rg_center_xoff</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> rg_center_yoff</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> reserved0</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_LDC_OFF_SHIFT_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义LDC属性信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">rg_center_xoff</td><td style="text-align:left">处理区域修正</td></tr><tr><td style="text-align:center">rg_center_yoff</td><td style="text-align:left">处理区域修正</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_ldc_woi_s">VIN_LDC_WOI_S<a href="#vin_ldc_woi_s" class="hash-link" aria-label="VIN_LDC_WOI_S的直接链接" title="VIN_LDC_WOI_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_LDC_WOI_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> rg_start</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> reserved1</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> rg_length</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> reserved0</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">VIN_LDC_WOI_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义LDC属性信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">rg_start</td><td style="text-align:left">处理区域修正</td></tr><tr><td style="text-align:center">rg_length</td><td style="text-align:left">处理区域修正</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_ldc_attr_s">VIN_LDC_ATTR_S<a href="#vin_ldc_attr_s" class="hash-link" aria-label="VIN_LDC_ATTR_S的直接链接" title="VIN_LDC_ATTR_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_LDC_ATTR_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain">         ldcEnable</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_LDC_PATH_SEL_S  ldcPath</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> yStartAddr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> cStartAddr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_LDC_PICSIZE_S  picSize</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> lineBuf</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_LDC_ALGOPARAM_S xParam</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_LDC_ALGOPARAM_S yParam</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_LDC_OFF_SHIFT_S offShift</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_LDC_WOI_S   xWoi</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_LDC_WOI_S   yWoi</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_LDC_ATTR_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义LDC属性信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">ldcEnable</td><td style="text-align:left">LDC是否使能</td></tr><tr><td style="text-align:center">ldcPath</td><td style="text-align:left">输出类型</td></tr><tr><td style="text-align:center">yStartAddr</td><td style="text-align:left">Iram使用地址</td></tr><tr><td style="text-align:center">cStartAddr</td><td style="text-align:left">Iram使用地址</td></tr><tr><td style="text-align:center">picSize</td><td style="text-align:left">接入的尺寸</td></tr><tr><td style="text-align:center">lineBuf</td><td style="text-align:left">值设置99</td></tr><tr><td style="text-align:center">xParam</td><td style="text-align:left">参数需要tuning</td></tr><tr><td style="text-align:center">yParam</td><td style="text-align:left">参  数需要tuning</td></tr><tr><td style="text-align:center">offShift</td><td style="text-align:left">处理区域修正</td></tr><tr><td style="text-align:center">xWoi</td><td style="text-align:left">处理区域修正</td></tr><tr><td style="text-align:center">yWoi</td><td style="text-align:left">处理区域修正</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_dis_picsize_s">VIN_DIS_PICSIZE_S<a href="#vin_dis_picsize_s" class="hash-link" aria-label="VIN_DIS_PICSIZE_S的直接链接" title="VIN_DIS_PICSIZE_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_DIS_PICSIZE_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint16_t</span><span class="token plain"> pic_w</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint16_t</span><span class="token plain"> pic_h</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_DIS_PICSIZE_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义DIS属性信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">pic_w</td><td style="text-align:left">需要设置比接入尺寸  -1 的size, 如果ISP输出 1920 , 则这里设置 1919</td></tr><tr><td style="text-align:center">pic_h</td><td style="text-align:left">需要设置比接入尺寸  -1 的size</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_dis_path_sel_s">VIN_DIS_PATH_SEL_S<a href="#vin_dis_path_sel_s" class="hash-link" aria-label="VIN_DIS_PATH_SEL_S的直接链接" title="VIN_DIS_PATH_SEL_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_DIS_PATH_SEL_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> rg_dis_enable</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> rg_dis_path_sel</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> reserved0</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_DIS_PATH_SEL_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义DIS属性信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">rg_dis_enable</td><td style="text-align:left">输出类型</td></tr><tr><td style="text-align:center">rg_dis_path_sel</td><td style="text-align:left">输出类型</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_dis_crop_s">VIN_DIS_CROP_S<a href="#vin_dis_crop_s" class="hash-link" aria-label="VIN_DIS_CROP_S的直接链接" title="VIN_DIS_CROP_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_DIS_CROP_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint16_t</span><span class="token plain"> rg_dis_start</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint16_t</span><span class="token plain"> rg_dis_end</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_DIS_CROP_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义DIS属性信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">rg_dis_start</td><td style="text-align:left">处理区域修正</td></tr><tr><td style="text-align:center">rg_dis_end</td><td style="text-align:left">处理区域修正</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_dis_callback_s">VIN_DIS_CALLBACK_S<a href="#vin_dis_callback_s" class="hash-link" aria-label="VIN_DIS_CALLBACK_S的直接链接" title="VIN_DIS_CALLBACK_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_DIS_CALLBACK_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">VIN_DIS_DATA_CB</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> pipeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> event</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_DIS_MV_INFO_S </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">disData</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">userData</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_DIS_CALLBACK_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义dis回调接口</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">VIN_DIS_DATA_CB</td><td style="text-align:left">回调函数，收到数据后返回给用户</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_dis_mv_info_s">VIN_DIS_MV_INFO_S<a href="#vin_dis_mv_info_s" class="hash-link" aria-label="VIN_DIS_MV_INFO_S的直接链接" title="VIN_DIS_MV_INFO_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_DIS_MV_INFO_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain">  gmvX</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain">  gmvY</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain">  xUpdate</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain">  yUpdate</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_DIS_MV_INFO_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义坐标移动的信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">gmvX</td><td style="text-align:left">绝对坐标,相对于相机中心的x移动量, 如果相机锁好固定住，gmv就是相对于固定锁好位置的移动。</td></tr><tr><td style="text-align:center">gmvY</td><td style="text-align:left">绝对坐标,相对于相机中心的y移动量</td></tr><tr><td style="text-align:center">xUpdate</td><td style="text-align:left">相对量，相对于前一帧的x移动量, Update则是不管锁在那,只看前一帧相机晃动的位置的移动.(如果前一帧是锁好的位置,则update与gmv相同,但这只会在连续晃动的第一帧发生)</td></tr><tr><td style="text-align:center">yUpdate</td><td style="text-align:left">相对量，相对于前一帧的y移动量</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_dis_attr_s">VIN_DIS_ATTR_S<a href="#vin_dis_attr_s" class="hash-link" aria-label="VIN_DIS_ATTR_S的直接链接" title="VIN_DIS_ATTR_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_DIS_ATTR_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_DIS_PICSIZE_S picSize</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_DIS_PATH_SEL_S disPath</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> disHratio</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> disVratio</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_DIS_CROP_S xCrop</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_DIS_CROP_S yCrop</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_DIS_ATTR_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义DIS属性信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">picSize</td><td style="text-align:left">输入数据宽高</td></tr><tr><td style="text-align:center">disPath</td><td style="text-align:left">输出类型</td></tr><tr><td style="text-align:center">disHratio</td><td style="text-align:left">设置为65536</td></tr><tr><td style="text-align:center">disVrati</td><td style="text-align:left">设置为65536</td></tr><tr><td style="text-align:center">xCrop</td><td style="text-align:left">处理区域修正</td></tr><tr><td style="text-align:center">yCrop</td><td style="text-align:left">处理区域修正</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_lens_func_type_e">VIN_LENS_FUNC_TYPE_E<a href="#vin_lens_func_type_e" class="hash-link" aria-label="VIN_LENS_FUNC_TYPE_E的直接链接" title="VIN_LENS_FUNC_TYPE_E的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">HB_VIN_LENS_FUNC_TYPE_E</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_LENS_AF_TYPE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_LENS_ZOOM_TYPE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_LENS_INVALID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_LENS_FUNC_TYPE_E</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>马达功能</p>
</blockquote>
<p>【成员说明】</p>
<ul>
<li>AF自动对焦，改变像距</li>
<li>ZOOM变焦，改变焦距</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_lens_ctrl_attr_s">VIN_LENS_CTRL_ATTR_S<a href="#vin_lens_ctrl_attr_s" class="hash-link" aria-label="VIN_LENS_CTRL_ATTR_S的直接链接" title="VIN_LENS_CTRL_ATTR_S的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">HB_VIN_LENS_CTRL_ATTR_S</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint16_t</span><span class="token plain"> port</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_LENS_MOTOR_TYPE_E motorType</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> maxStep</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> initPos</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> minPos</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> maxPos</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">union</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token class-name">uint16_t</span><span class="token plain"> pwmNum</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token class-name">uint32_t</span><span class="token plain"> pwmDuty</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token class-name">uint32_t</span><span class="token plain"> pwmPeriod</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> pwmParam</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token class-name">uint16_t</span><span class="token plain"> pulseForwardNum</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token class-name">uint16_t</span><span class="token plain"> pulseBackNum</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token class-name">uint32_t</span><span class="token plain"> pulseDuty</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token class-name">uint32_t</span><span class="token plain"> pulsePeriod</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> pulseParam</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token class-name">uint16_t</span><span class="token plain"> i2cNum</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token class-name">uint32_t</span><span class="token plain"> i2cAddr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> i2cParam</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token class-name">uint16_t</span><span class="token plain"> gpioA1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token class-name">uint16_t</span><span class="token plain"> gpioA2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token class-name">uint16_t</span><span class="token plain"> gpioB1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token class-name">uint16_t</span><span class="token plain"> gpioB2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> gpioParam</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_LENS_CTRL_ATTR_S</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>定义pipe属性信息</p>
</blockquote>
<p>【成员说明】</p>
<table><thead><tr><th style="text-align:center">成员</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:center">port</td><td style="text-align:left">每一路输入，和pipeId对应</td></tr><tr><td style="text-align:center">motorType</td><td style="text-align:left">电机驱动类型，详见VIN_LENS_MOTOR_TYPE_E</td></tr><tr><td style="text-align:center">maxStep</td><td style="text-align:left">电机最大步数</td></tr><tr><td style="text-align:center">initPos</td><td style="text-align:left">电机初始位置</td></tr><tr><td style="text-align:center">minPos</td><td style="text-align:left">电机最小位置</td></tr><tr><td style="text-align:center">maxPos</td><td style="text-align:left">电机最大位置</td></tr><tr><td style="text-align:center">pwmNum</td><td style="text-align:left">马达控制pwm  设备号</td></tr><tr><td style="text-align:center">pwmDuty</td><td style="text-align:left">马达控制pwm 占空比</td></tr><tr><td style="text-align:center">pwmPeriod</td><td style="text-align:left">马达控制pwm 频率</td></tr><tr><td style="text-align:center">pulseForwardNum</td><td style="text-align:left">马达控制 前向控制 pulse 设备号</td></tr><tr><td style="text-align:center">pulseBackNum</td><td style="text-align:left">马达控制 后向控制 pulse 设备号</td></tr><tr><td style="text-align:center">pulseDuty</td><td style="text-align:left">马达控制 脉冲占空比</td></tr><tr><td style="text-align:center">pulsePeriod</td><td style="text-align:left">马达控制 脉冲 频率</td></tr><tr><td style="text-align:center">i2cNum</td><td style="text-align:left">马达控制I2C 设备号</td></tr><tr><td style="text-align:center">i2cAddr</td><td style="text-align:left">马达控制I2C 地址</td></tr><tr><td style="text-align:center">gpioA1</td><td style="text-align:left">马达控制a+ gpio 号</td></tr><tr><td style="text-align:center">gpioA2</td><td style="text-align:left">马达控制a- gpio 号</td></tr><tr><td style="text-align:center">gpioB1</td><td style="text-align:left">马达控制b+ gpio 号</td></tr><tr><td style="text-align:center">gpioB2</td><td style="text-align:left">马达控制b- gpio 号</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vin_lens_motor_type_e">VIN_LENS_MOTOR_TYPE_E<a href="#vin_lens_motor_type_e" class="hash-link" aria-label="VIN_LENS_MOTOR_TYPE_E的直接链接" title="VIN_LENS_MOTOR_TYPE_E的直接链接">​</a></h3>
<p>【结构定义】</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">HB_VIN_LENS_MOTOR_TYPE_E</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_LENS_PWM_TYPE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_LENS_PULSE_TYPE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_LENS_I2C_TYPE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_LENSSPI_TYPE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VIN_LENS_GPIO_TYPE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> VIN_LENS_MOTOR_TYPE_E</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>【功能描述】</p>
<blockquote>
<p>电机驱动类型，由以上几种。</p>
</blockquote>
<p>【成员说明】</p>
<ul>
<li>PWM 驱动、脉冲个数驱动、I2C 通信方式控制、spi 通信方式控制、GPIP 引脚时序控制。
由于硬件环境因素，只调试验证过GPIO方式。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-type">DATA TYPE<a href="#data-type" class="hash-link" aria-label="DATA TYPE的直接链接" title="DATA TYPE的直接链接">​</a></h3>
<table><thead><tr><th style="text-align:center">Data</th><th style="text-align:left">Type Description</th></tr></thead><tbody><tr><td style="text-align:center">0x28</td><td style="text-align:left">RAW6</td></tr><tr><td style="text-align:center">0x29</td><td style="text-align:left">RAW7</td></tr><tr><td style="text-align:center">0x2A</td><td style="text-align:left">RAW8</td></tr><tr><td style="text-align:center">0x2B</td><td style="text-align:left">RAW10</td></tr><tr><td style="text-align:center">0x2C</td><td style="text-align:left">RAW12</td></tr><tr><td style="text-align:center">0x2D</td><td style="text-align:left">RAW14</td></tr><tr><td style="text-align:center">0x2E</td><td style="text-align:left">Reserved</td></tr><tr><td style="text-align:center">0x18</td><td style="text-align:left">YUV 420 8-bit</td></tr><tr><td style="text-align:center">0x19</td><td style="text-align:left">YUV 420 10-bit</td></tr><tr><td style="text-align:center">0x1A</td><td style="text-align:left">Legacy YUV420 8-bit</td></tr><tr><td style="text-align:center">0x1B</td><td style="text-align:left">Reserved</td></tr><tr><td style="text-align:center">0x1C</td><td style="text-align:left">YUV 420 8-bit(Chroma Shifted Pixel Sampling)</td></tr><tr><td style="text-align:center">0x1D</td><td style="text-align:left">YUV 420 10-bit(Chroma Shifted Pixel Sampling))</td></tr><tr><td style="text-align:center">0x1E</td><td style="text-align:left">YUV 422 8-bit</td></tr><tr><td style="text-align:center">0x1F</td><td style="text-align:left">YUV 422 10-bit</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sif-mclk">SIF MCLK<a href="#sif-mclk" class="hash-link" aria-label="SIF MCLK的直接链接" title="SIF MCLK的直接链接">​</a></h3>
<table><thead><tr><th style="text-align:left">ISP应用场景</th><th style="text-align:center">SIF_MCLK(MHz)</th></tr></thead><tbody><tr><td style="text-align:left">8M 30fps输入</td><td style="text-align:center">326.4</td></tr><tr><td style="text-align:left">2M 30fps 2路分时多工</td><td style="text-align:center">148.36</td></tr><tr><td style="text-align:left">2M 30fps 1路输入</td><td style="text-align:center">102.00</td></tr><tr><td style="text-align:left">8M DOL2 30fps</td><td style="text-align:center">544.00</td></tr><tr><td style="text-align:left">2M 15fps 4路分时多工</td><td style="text-align:center">148.36</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vpu-clk">VPU CLK<a href="#vpu-clk" class="hash-link" aria-label="VPU CLK的直接链接" title="VPU CLK的直接链接">​</a></h3>
<table><thead><tr><th style="text-align:left">VPU应用场景</th><th style="text-align:center">编码</th><th style="text-align:center">VPU_BCLK/VPU_CCLK(MHz)</th></tr></thead><tbody><tr><td style="text-align:left">8M@30fps</td><td style="text-align:center">AVC</td><td style="text-align:center">326.4</td></tr><tr><td style="text-align:left"></td><td style="text-align:center">HEVC</td><td style="text-align:center">408</td></tr><tr><td style="text-align:left">2M*4@30fps</td><td style="text-align:center">AVC</td><td style="text-align:center">544</td></tr><tr><td style="text-align:left"></td><td style="text-align:center">HEVC</td><td style="text-align:center">544</td></tr><tr><td style="text-align:left">2M @30fps</td><td style="text-align:center">AVC</td><td style="text-align:center">204</td></tr><tr><td style="text-align:left"></td><td style="text-align:center">HEVC</td><td style="text-align:center">204</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="错误码">错误码<a href="#错误码" class="hash-link" aria-label="错误码的直接链接" title="错误码的直接链接">​</a></h2>
<p>VIN错误码如下表：</p>
<table><thead><tr><th style="text-align:center">错误码</th><th style="text-align:left">宏定义</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:center">-268565505</td><td style="text-align:left">HB_ERR_VIN_CREATE_PIPE_FAIL</td><td style="text-align:left">创建PIPE失败</td></tr><tr><td style="text-align:center">-268565506</td><td style="text-align:left">HB_ERR_VIN_SIF_INIT_FAIL</td><td style="text-align:left">DEV(Sif)初始化失败</td></tr><tr><td style="text-align:center">-268565507</td><td style="text-align:left">HB_ERR_VIN_DEV_START_FAIL</td><td style="text-align:left">DEV(Sif) start失败</td></tr><tr><td style="text-align:center">-268565508</td><td style="text-align:left">HB_ERR_VIN_PIPE_START_FAIL</td><td style="text-align:left">ISP start失败</td></tr><tr><td style="text-align:center">-268565509</td><td style="text-align:left">HB_ERR_VIN_CHN_UNEXIST</td><td style="text-align:left">Chn不存在</td></tr><tr><td style="text-align:center">-268565510</td><td style="text-align:left">HB_ERR_VIN_INVALID_PARAM</td><td style="text-align:left">接口参数错误</td></tr><tr><td style="text-align:center">-268565511</td><td style="text-align:left">HB_ERR_VIN_ISP_INIT_FAIL</td><td style="text-align:left">ISP初始化错误</td></tr><tr><td style="text-align:center">-268565512</td><td style="text-align:left">HB_ERR_VIN_ISP_FRAME_CORRUPTED</td><td style="text-align:left">ISP破帧，isp驱动应该会有drop</td></tr><tr><td style="text-align:center">-268565513</td><td style="text-align:left">HB_ERR_VIN_CHANNEL_INIT_FAIL</td><td style="text-align:left">ISP初始化两个chn通道时失败</td></tr><tr><td style="text-align:center">-268565514</td><td style="text-align:left">HB_ERR_VIN_DWE_INIT_FAIL</td><td style="text-align:left">DWE初始化失败</td></tr><tr><td style="text-align:center">-268565515</td><td style="text-align:left">HB_ERR_VIN_SET_DEV_ATTREX_FAIL</td><td style="text-align:left">SIF扩展属性初始化失败</td></tr><tr><td style="text-align:center">-268565516</td><td style="text-align:left">HB_ERR_VIN_LENS_INIT_FAIL</td><td style="text-align:left">马达初始化失败</td></tr><tr><td style="text-align:center">-268565517</td><td style="text-align:left">HB_ERR_VIN_SEND_PIPERAW_FAIL</td><td style="text-align:left">SIF回灌raw失败</td></tr><tr><td style="text-align:center">-268565518</td><td style="text-align:left">HB_ERR_VIN_NULL_POINT</td><td style="text-align:left">VIN模块有空指针</td></tr><tr><td style="text-align:center">-268565519</td><td style="text-align:left">HB_ERR_VIN_GET_CHNFRAME_FAIL</td><td style="text-align:left">获取ISP出来的数据失败</td></tr><tr><td style="text-align:center">-268565520</td><td style="text-align:left">HB_ERR_VIN_GET_DEVFRAME_FAIL</td><td style="text-align:left">获取SIF出来的数据失败</td></tr><tr><td style="text-align:center">-268565521</td><td style="text-align:left">HB_ERR_VIN_MD_ENABLE_FAIL</td><td style="text-align:left">使能MotionDetect失败</td></tr><tr><td style="text-align:center">-268565522</td><td style="text-align:left">HB_ERR_VIN_MD_DISABLE_FAIL</td><td style="text-align:left">关闭MotionDetect失败</td></tr><tr><td style="text-align:center">-268565523</td><td style="text-align:left">HB_ERR_VIN_SWITCH_SNS_TABLE_FAIL</td><td style="text-align:left">ISP模式linear\DOL切换失败</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="参考代码">参考代码<a href="#参考代码" class="hash-link" aria-label="参考代码的直接链接" title="参考代码的直接链接">​</a></h2>
<p>VIN部分示例代码可以参考，<a href="/rdk_doc/Advanced_development/multimedia_development/multimedia_samples#get_sif_data">get_sif_data</a>和<a href="/rdk_doc/Advanced_development/multimedia_development/multimedia_samples#get_isp_data">get_isp_data</a>。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">最后<!-- -->于 <b><time datetime="2026-01-28T11:43:20.000Z" itemprop="dateModified">2026年1月28日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/rdk_doc/Advanced_development/multimedia_development/system_control"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">7.3.3 系统控制</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rdk_doc/Advanced_development/multimedia_development/isp_system"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">7.3.5 ISP图像系统</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#概述" class="table-of-contents__link toc-highlight">概述</a><ul><li><a href="#概念" class="table-of-contents__link toc-highlight">概念</a></li></ul></li><li><a href="#功能描述" class="table-of-contents__link toc-highlight">功能描述</a><ul><li><a href="#视频输入设备" class="table-of-contents__link toc-highlight">视频输入设备</a></li><li><a href="#视频输入pipe" class="table-of-contents__link toc-highlight">视频输入PIPE</a></li><li><a href="#视频物理通道" class="table-of-contents__link toc-highlight">视频物理通道</a></li><li><a href="#绑定关系" class="table-of-contents__link toc-highlight">绑定关系</a></li></ul></li><li><a href="#api参考" class="table-of-contents__link toc-highlight">API参考</a><ul><li><a href="#hb_mipi_setbus" class="table-of-contents__link toc-highlight">HB_MIPI_SetBus</a></li><li><a href="#hb_mipi_setport" class="table-of-contents__link toc-highlight">HB_MIPI_SetPort</a></li><li><a href="#hb_mipi_sensorbindserdes" class="table-of-contents__link toc-highlight">HB_MIPI_SensorBindSerdes</a></li><li><a href="#hb_mipi_sensorbindmipi" class="table-of-contents__link toc-highlight">HB_MIPI_SensorBindMipi</a></li><li><a href="#hb_mipi_setextramode" class="table-of-contents__link toc-highlight">HB_MIPI_SetExtraMode</a></li><li><a href="#hb_mipi_initsensorhb_mipi_deinitsensor" class="table-of-contents__link toc-highlight">HB_MIPI_InitSensor/HB_MIPI_DeinitSensor</a></li><li><a href="#hb_mipi_resetsensorhb_mipi_unresetsensor" class="table-of-contents__link toc-highlight">HB_MIPI_ResetSensor/HB_MIPI_UnresetSensor</a></li><li><a href="#hb_mipi_enablesensorclockhb_mipi_disablesensorclock" class="table-of-contents__link toc-highlight">HB_MIPI_EnableSensorClock/HB_MIPI_DisableSensorClock</a></li><li><a href="#hb_mipi_setsensorclock" class="table-of-contents__link toc-highlight">HB_MIPI_SetSensorClock</a></li><li><a href="#hb_mipi_resetmipihb_mipi_unresetmipi" class="table-of-contents__link toc-highlight">HB_MIPI_ResetMipi/HB_MIPI_UnresetMipi</a></li><li><a href="#hb_mipi_setmipiattr" class="table-of-contents__link toc-highlight">HB_MIPI_SetMipiAttr</a></li><li><a href="#hb_mipi_clear" class="table-of-contents__link toc-highlight">HB_MIPI_Clear</a></li><li><a href="#hb_mipi_readsensor" class="table-of-contents__link toc-highlight">HB_MIPI_ReadSensor</a></li><li><a href="#hb_mipi_writesensor" class="table-of-contents__link toc-highlight">HB_MIPI_WriteSensor</a></li><li><a href="#hb_mipi_getsensorinfo" class="table-of-contents__link toc-highlight">HB_MIPI_GetSensorInfo</a></li><li><a href="#hb_mipi_swsensorfps" class="table-of-contents__link toc-highlight">HB_MIPI_SwSensorFps</a></li><li><a href="#hb_vin_setmipibinddevhb_vin_getmipibinddev" class="table-of-contents__link toc-highlight">HB_VIN_SetMipiBindDev/HB_VIN_GetMipiBindDev</a></li><li><a href="#hb_vin_setdevattrhb_vin_getdevattr" class="table-of-contents__link toc-highlight">HB_VIN_SetDevAttr/HB_VIN_GetDevAttr</a></li><li><a href="#hb_vin_setdevattrexhb_vin_getdevattrex" class="table-of-contents__link toc-highlight">HB_VIN_SetDevAttrEx/HB_VIN_GetDevAttrEx</a></li><li><a href="#hb_vin_enabledevhb_vin_disabledev" class="table-of-contents__link toc-highlight">HB_VIN_EnableDev/HB_VIN_DisableDev</a></li><li><a href="#hb_vin_destroydev" class="table-of-contents__link toc-highlight">HB_VIN_DestroyDev</a></li><li><a href="#hb_vin_setdevbindpipehb_vin_getdevbindpipe" class="table-of-contents__link toc-highlight">HB_VIN_SetDevBindPipe/HB_VIN_GetDevBindPipe</a></li><li><a href="#hb_vin_createpipehb_vin_destroypipe" class="table-of-contents__link toc-highlight">HB_VIN_CreatePipe/HB_VIN_DestroyPipe</a></li><li><a href="#hb_vin_startpipehb_vin_stoppipe" class="table-of-contents__link toc-highlight">HB_VIN_StartPipe/HB_VIN_StopPipe</a></li><li><a href="#hb_vin_enablechnhb_vin_disablechn" class="table-of-contents__link toc-highlight">HB_VIN_EnableChn/HB_VIN_DisableChn</a></li><li><a href="#hb_vin_setchnldcattrhb_vin_getchnldcattr" class="table-of-contents__link toc-highlight">HB_VIN_SetChnLDCAttr/HB_VIN_GetChnLDCAttr</a></li><li><a href="#hb_vin_setchndisattrhb_vin_getchndisattr" class="table-of-contents__link toc-highlight">HB_VIN_SetChnDISAttr/HB_VIN_GetChnDISAttr</a></li><li><a href="#hb_vin_setchnattr" class="table-of-contents__link toc-highlight">HB_VIN_SetChnAttr</a></li><li><a href="#hb_vin_destroychn" class="table-of-contents__link toc-highlight">HB_VIN_DestroyChn</a></li><li><a href="#hb_vin_getchnframehb_vin_releasechnframe" class="table-of-contents__link toc-highlight">HB_VIN_GetChnFrame/HB_VIN_ReleaseChnFrame</a></li><li><a href="#hb_vin_getdevframehb_vin_releasedevframe" class="table-of-contents__link toc-highlight">HB_VIN_GetDevFrame/HB_VIN_ReleaseDevFrame</a></li><li><a href="#hb_vin_sendpiperaw" class="table-of-contents__link toc-highlight">HB_VIN_SendPipeRaw</a></li><li><a href="#hb_vin_setpipeattrhb_vin_getpipeattr" class="table-of-contents__link toc-highlight">HB_VIN_SetPipeAttr/HB_VIN_GetPipeAttr</a></li><li><a href="#hb_vin_ctrlpipemirror" class="table-of-contents__link toc-highlight">HB_VIN_CtrlPipeMirror</a></li><li><a href="#hb_vin_motiondetect" class="table-of-contents__link toc-highlight">HB_VIN_MotionDetect</a></li><li><a href="#hb_vin_initlens" class="table-of-contents__link toc-highlight">HB_VIN_InitLens</a></li><li><a href="#hb_vin_deinitlens" class="table-of-contents__link toc-highlight">HB_VIN_DeinitLens</a></li><li><a href="#hb_vin_registerdiscallback" class="table-of-contents__link toc-highlight">HB_VIN_RegisterDisCallback</a></li><li><a href="#hb_vin_setdevvcnumberhb_vin_getdevvcnumber" class="table-of-contents__link toc-highlight">HB_VIN_SetDevVCNumber/HB_VIN_GetDevVCNumber</a></li><li><a href="#hb_vin_adddevvcnumber" class="table-of-contents__link toc-highlight">HB_VIN_AddDevVCNumber</a></li><li><a href="#hb_vin_setdevmclk" class="table-of-contents__link toc-highlight">HB_VIN_SetDevMclk</a></li><li><a href="#hb_vin_getchnfd" class="table-of-contents__link toc-highlight">HB_VIN_GetChnFd</a></li><li><a href="#hb_vin_closefd" class="table-of-contents__link toc-highlight">HB_VIN_CloseFd</a></li><li><a href="#hb_vin_enabledevmd" class="table-of-contents__link toc-highlight">HB_VIN_EnableDevMd</a></li><li><a href="#hb_vin_disabledevmd" class="table-of-contents__link toc-highlight">HB_VIN_DisableDevMd</a></li></ul></li><li><a href="#数据结构" class="table-of-contents__link toc-highlight">数据结构</a><ul><li><a href="#mipi_input_mode_e" class="table-of-contents__link toc-highlight">MIPI_INPUT_MODE_E</a></li><li><a href="#mipi_sensor_mode_e" class="table-of-contents__link toc-highlight">MIPI_SENSOR_MODE_E</a></li><li><a href="#mipi_deserial_info_t" class="table-of-contents__link toc-highlight">MIPI_DESERIAL_INFO_T</a></li><li><a href="#mipi_sns_info_s" class="table-of-contents__link toc-highlight">MIPI_SNS_INFO_S</a></li><li><a href="#mipi_sensor_info_s" class="table-of-contents__link toc-highlight">MIPI_SENSOR_INFO_S</a></li><li><a href="#mipi_host_cfg_s" class="table-of-contents__link toc-highlight">MIPI_HOST_CFG_S</a></li><li><a href="#mipi_attr_s" class="table-of-contents__link toc-highlight">MIPI_ATTR_S</a></li><li><a href="#mipi_spi_data_s" class="table-of-contents__link toc-highlight">MIPI_SPI_DATA_S</a></li><li><a href="#vin_dev_size_s" class="table-of-contents__link toc-highlight">VIN_DEV_SIZE_S</a></li><li><a href="#vin_mipi_attr_s" class="table-of-contents__link toc-highlight">VIN_MIPI_ATTR_S</a></li><li><a href="#vin_dev_input_ddr_attr_s" class="table-of-contents__link toc-highlight">VIN_DEV_INPUT_DDR_ATTR_S</a></li><li><a href="#vin_dev_output_ddr_s" class="table-of-contents__link toc-highlight">VIN_DEV_OUTPUT_DDR_S</a></li><li><a href="#vin_dev_output_isp_s" class="table-of-contents__link toc-highlight">VIN_DEV_OUTPUT_ISP_S</a></li><li><a href="#vin_dev_attr_s" class="table-of-contents__link toc-highlight">VIN_DEV_ATTR_S</a></li><li><a href="#vin_dev_attr_ex_s" class="table-of-contents__link toc-highlight">VIN_DEV_ATTR_EX_S</a></li><li><a href="#vin_pipe_sensor_mode_e" class="table-of-contents__link toc-highlight">VIN_PIPE_SENSOR_MODE_E</a></li><li><a href="#vin_pipe_cfa_pattern_e" class="table-of-contents__link toc-highlight">VIN_PIPE_CFA_PATTERN_E</a></li><li><a href="#vin_pipe_size_s" class="table-of-contents__link toc-highlight">VIN_PIPE_SIZE_S</a></li><li><a href="#vin_pipe_calib_s" class="table-of-contents__link toc-highlight">VIN_PIPE_CALIB_S</a></li><li><a href="#vin_pipe_attr_s" class="table-of-contents__link toc-highlight">VIN_PIPE_ATTR_S</a></li><li><a href="#vin_ldc_path_sel_s" class="table-of-contents__link toc-highlight">VIN_LDC_PATH_SEL_S</a></li><li><a href="#vin_ldc_picsize_s" class="table-of-contents__link toc-highlight">VIN_LDC_PICSIZE_S</a></li><li><a href="#vin_ldc_algoparam_s" class="table-of-contents__link toc-highlight">VIN_LDC_ALGOPARAM_S</a></li><li><a href="#vin_ldc_off_shift_s" class="table-of-contents__link toc-highlight">VIN_LDC_OFF_SHIFT_S</a></li><li><a href="#vin_ldc_woi_s" class="table-of-contents__link toc-highlight">VIN_LDC_WOI_S</a></li><li><a href="#vin_ldc_attr_s" class="table-of-contents__link toc-highlight">VIN_LDC_ATTR_S</a></li><li><a href="#vin_dis_picsize_s" class="table-of-contents__link toc-highlight">VIN_DIS_PICSIZE_S</a></li><li><a href="#vin_dis_path_sel_s" class="table-of-contents__link toc-highlight">VIN_DIS_PATH_SEL_S</a></li><li><a href="#vin_dis_crop_s" class="table-of-contents__link toc-highlight">VIN_DIS_CROP_S</a></li><li><a href="#vin_dis_callback_s" class="table-of-contents__link toc-highlight">VIN_DIS_CALLBACK_S</a></li><li><a href="#vin_dis_mv_info_s" class="table-of-contents__link toc-highlight">VIN_DIS_MV_INFO_S</a></li><li><a href="#vin_dis_attr_s" class="table-of-contents__link toc-highlight">VIN_DIS_ATTR_S</a></li><li><a href="#vin_lens_func_type_e" class="table-of-contents__link toc-highlight">VIN_LENS_FUNC_TYPE_E</a></li><li><a href="#vin_lens_ctrl_attr_s" class="table-of-contents__link toc-highlight">VIN_LENS_CTRL_ATTR_S</a></li><li><a href="#vin_lens_motor_type_e" class="table-of-contents__link toc-highlight">VIN_LENS_MOTOR_TYPE_E</a></li><li><a href="#data-type" class="table-of-contents__link toc-highlight">DATA TYPE</a></li><li><a href="#sif-mclk" class="table-of-contents__link toc-highlight">SIF MCLK</a></li><li><a href="#vpu-clk" class="table-of-contents__link toc-highlight">VPU CLK</a></li></ul></li><li><a href="#错误码" class="table-of-contents__link toc-highlight">错误码</a></li><li><a href="#参考代码" class="table-of-contents__link toc-highlight">参考代码</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">友情链接</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.guyuehome.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">古月居<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">联系我们</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/D-Robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://space.bilibili.com/437998606" target="_blank" rel="noopener noreferrer" class="footer__link-item">BiLiBiLi<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 D-Robotics.</div></div></div></footer></div>
</body>
</html>