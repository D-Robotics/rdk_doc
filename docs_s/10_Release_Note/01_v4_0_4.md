---
sidebar_position: 1
---

# RDKS100_LNX_SDK_V4.0.4

## **发布日期：** 2025-10-24

## 1. 主要信息

**RDK S100 V4.0.4** 发布内容包括：

- **Linux Kernel：** 6.1.112-rt43
- **Bootloader：** U-Boot 2022.04
- **Root File System：** Based on Ubuntu 22.04 (Jammy)，基于 Multistrap 构建
- **支持的 Host 系统：**
  - 编译环境：Ubuntu 20.04 (x64)
  - 烧录环境：Ubuntu 18.04 / 20.04 / 22.04 (x64)
- **交叉编译工具链：** arm-gnu-toolchain-11.3.rel1 (aarch64)
- **其他组件：** D-Robotics 驱动、必要固件、工具链及实用工具

## 2. 新增内容

### 2.1 Main-Domain 外设

#### 2.1.1 Camera

##### 2.1.1.1 GMSL 模组

- 支持 OV2312 LC031 模组
- 支持 ISX031 LC032 模组

##### 2.1.1.2 PYM

- 支持根据设置的输出格式，自动选择最合适的输入尺寸

### 2.2 EtherCAT

- 支持 EtherCAT IgH 主站构建及 deb 安装

### 2.3 BPU

- hbm-runtime 支持 pypi 源直接安装

### 2.4 Sample

#### 2.4.1 BPU

- 支持 C++ BPU 例程：
  - 新增 RTSP 运行 YOLOV5X 的 C/C++ sample
  - 新增视频解码后 yolov5x 推理的 C/C++ Sample
  - 新增 mipi camera 读图后 yolov5x 推理的 C/C++ Sample
  - 新增 USB camera 读图后 yolov5x 推理的 C/C++ Sample
  - 新增 paddleOCR 模型推理的 C/C++ Sample
  - 新增 ASR 模型推理的 C/C++ Sample
  - 新增 LaneNet 模型推理的 C/C++ Sample
  - 新增 yoloe11 图像分割模型推理的 C/C++ Sample
  - 新增 yolo11 位姿检查模型推理的 C/C++ Sample
  - 新增 yolo11 图像分割模型推理的 C/C++ Sample
  - 新增 unet_mobilenet 模型推理的 C/C++ Sample
  - 新增 yolo11 目标检测模型推理的 C/C++ Sample
  - 新增 yolov5x 目标检测模型推理的 C/C++ Sample
  - 新增 Mobilenetv2 图像分类模型推理的 C/C++ Sample
  - 新增 resnet18 图像分类模型推理的 C/C++ Sample

#### 2.4.2 CAN

- CAN 透传 Sample 支持拓展帧
- 优化 CAN 透传 Sample 时间戳，统一使用微秒为单位以满足性能统计需求

##### 2.4.3 SPDEV

- 显示渲染框架优化：
  - 优化显示渲染框架效率
  - 优化显示渲染框架退出后的资源释放逻辑

### 2.5 MCU-Domain

- CAN
  - 支持拓展帧透传
  - 优化时间戳，统一使用微秒为单位以满足性能统计需求

## 3. 重点问题修复

### 3.1 Root File System

- 优化 Ubuntu 应用在 S100 平台的稳定性
- 修复 hobot-configs 会覆盖 netplan 配置的问题

### 3.2 Main-Domain 外设

#### 3.2.1 Camera

- 修复由于内核开启 RTC 自动更新导致的 camera 同步帧时间戳跳变问题，关闭了内核自动同步 RTC 时间
- 修复 OVX3C 模组出现重复触发时间戳问题
- 解决 GDC buffer 释放后未置空导致的链表问题

#### 3.2.2 WiFi/Bluetooth

- 优化 WiFi 及蓝牙驱动稳定性

### 3.3 MCU-Domain

- 修复若干稳定性问题

## 4. 已知问题

### 4.1 软件已知问题

- RDK Linux
  - RTC YSN8130E 软件暂未支持
  - 部分 Ubuntu 应用在 GPU 加速下因页大小不匹配崩溃
  - CAN 透传多通道代码的时间戳单位与 Main-Domain 中间件时间戳单位不符，Main-Domain 中间件会有报错打印，但是不影响数据传输
  - 在不插入 HDMI 的情况下冷启动时，RDK S100 的桌面系统(GDM3)会默认回退为 X11 渲染，S100 目前不支持 X11 的 GPU 加速，回退后会使用 CPU 渲染，导致 CPU 占用升高。建议用户在设备启动前插入 HDMI，避免桌面渲染效率下降。
- MCU SDK
  - 目前 MCU 系统有部分稳定性问题
  - MCU 子板的 BMI088 IMU 软件未支持
  - 目前不支持锁步解锁

## 5. 升级方式

### 5.1 重新烧录

用户可以通过重新烧录完整镜像实现升级：

- 下载镜像：[RDK_LNX_SDK V4.0.4-Beta](https://archive.d-robotics.cc/downloads/os_images/rdk_s100/RDKS100-V4.0.4-Beta/RDK_LNX_SDK/firmwares/product.zip)
- 参考[1.2 系统烧录](http://localhost:3000/rdk_doc/rdk_s/Quick_start/install_os/rdk_s100)章节完成烧录

### 5.2 直接升级

为了保留现有根文件系统修改，可以使用如下方式进行升级

:::warning

本次升级需要通过工具单独升级 miniboot

:::

- 下载新版本烧录工具：[D-Navigation V2.4.1](https://archive.d-robotics.cc/downloads/software_tools/download_tools/)
- 下载最新镜像：[RDK_LNX_SDK V4.0.4-Beta](https://archive.d-robotics.cc/downloads/os_images/rdk_s100/RDKS100-V4.0.4-Beta/RDK_LNX_SDK/firmwares/product.zip)
- 参考[1.2 系统烧录](https://developer.d-robotics.cc/rdk_doc/rdk_s/Quick_start/install_os/rdk_s100)章节 uboot/usb 烧录章节进行基础配置
- 在上述配置中更改部分选项：
  - 升级配置：分区选择
    - 仅勾选：miniboot_flash，miniboot_emmc
- 更新完成后重启设备
- 执行命令获取更新内容：

  ```bash
  sudo apt update
  sudo apt upgrade
  ```

- 再次重启设备，完成系统更新
