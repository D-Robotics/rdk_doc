---
sidebar_position: 1
---

# RDKS100_LNX_SDK_V4.0.3

**发布日期：** 2025-09-01

---

## 1. 主要信息

**RDK S100 V4.0.3** 发布内容包括：

- **Linux Kernel：** 6.1.112-rt43
- **Bootloader：** U-Boot 2022.04
- **Root File System：** Based on Ubuntu 22.04 (Jammy)，基于 Multistrap 构建
- **支持的 Host 系统：**
  - 编译环境：Ubuntu 20.04 (x64)
  - 烧录环境：Ubuntu 18.04 / 20.04 / 22.04 (x64)
- **交叉编译工具链：** arm-gnu-toolchain-11.3.rel1 (aarch64)
- **其他组件：** D-Robotics 驱动、必要固件、工具链及实用工具

## 2. 新增内容

### 2.2 内核配置

- 减小默认 ION 区域到 2GiB

### 2.3 Rootfs

- 支持/boot/config.txt 配置文件
  - 支持设备树操作，包括 overlay, enable, disable
  - 支持内核 bootargs 配置
  - 支持内核打印等级配置
- 新增板端默认内核模块支持
  - 多种 CAN 控制器支持
  - IIO 框架下的多种传感器驱动支持：
    - IMU 驱动
    - 电子陀螺仪驱动
    - 加速度传感器驱动
    - 温度传感器驱动
    - 距离传感器驱动
- 新增 hb_switch_ion.sh 脚本，方便客户板端修改内存的 ION 区域大小

### 2.4 Main-Domain 外设

#### 2.4.1 Camera

##### 2.4.1.1 ISP

- 添加获取 AE 亮度信息的接口；

##### 2.4.1.2 GMSL Camera

- 支持 V4L2 获取 Intel D457 模组 depth 数据和 RGB 数据，并接入 librealsense
- 支持原始 YUV422 图像数据保存

### 2.5 Sample

- 新增了芯片测试 Sample
- 新增了多媒体模块及链路 Sample
  - 增加了 SC230AI 和 SC132GS 的 Sample
- 支持 BPU Python sample
  - 01_classification_sample
  - 02_detection_sample
  - 03_instance_segmentation_sample
  - 04_pose_sample
  - 05_open_instance_seg_sample
  - 06_lane_detection_sample
  - 07_speech_sample
  - 08_OCR_sample

### 2.6 显示支持

- 优化了 HDMI 显示的兼容性

### 2.7 MCU-Domain

- MCU 系统：
  - 支持 MCU CPU load 数据获取
  - 支持 MCU 硬件浮点运算单元
  - 支持 MCU 异常时进行 ramdump
  - 稳定性优化
- 外设
  - CAN 透传性能及稳定性优化
  - SPI 支持多 CS 配置
  - 提供 ADC 连续采样示例

## 3. 重点问题修复

### 3.1 Root File System

- 修复 linux-headers deb 包板端内核模块编译报错问题

### 3.2 Main-Domain

- 修复 ramdump 堆栈内容错误问题

### 3.3 Main-Domain 外设

- 优化了 USB 的稳定性
- Camera
  - 修复了 deinit 后，解串器和 POC 没有完成下电的问题
  - 修复了 lidar 和相机之间时间同步有时间误差的问题

### 3.4 MCU-Domain

- MCU 系统
  - 修复获取 MCU Alive 状态不准问题
- 外设：
  - 修复 Port_Func 接口获取大编号 GPIO 的值与实际值不符问题

## 4. 已知问题

### 4.1 软件已知问题

- RDK Linux
  - RTC YSN8130E 软件暂未支持
  - 部分 Ubuntu 应用在 GPU 加速下因页大小不匹配崩溃
  - CAN 透传多通道代码的时间戳单位与 Main-Domain 中间件时间戳单位不符，Main-Domain 中间件会有报错打印，但是不影响数据传输
- MCU SDK
  - 目前 MCU 系统有部分稳定性问题
  - MCU 子板的 BMI088 IMU 软件未支持
  - 目前不支持锁步解锁

## 5. 升级方式

### 5.1 重新烧录

用户可以通过重新烧录完整镜像实现升级：

- 下载镜像：[RDK_LNX_SDK V4.0.3-Beta](https://archive.d-robotics.cc/downloads/os_images/rdk_s100/RDKS100-V4.0.3-Beta/RDK_LNX_SDK/firmwares/product.zip)
- 参考[1.2 系统烧录](http://localhost:3000/rdk_doc/rdk_s/Quick_start/install_os/rdk_s100)章节完成烧录

### 5.2 直接升级

为了保留现有根文件系统修改，可以使用如下方式进行升级

:::warning

本次升级需要通过工具单独升级 miniboot

:::

- 下载新版本烧录工具：[D-Navigation V2.4.1](https://archive.d-robotics.cc/downloads/software_tools/download_tools/)
- 下载最新镜像：[RDK_LNX_SDK V4.0.3-Beta](https://archive.d-robotics.cc/downloads/os_images/rdk_s100/RDKS100-V4.0.3-Beta/RDK_LNX_SDK/firmwares/product.zip)
- 参考[1.2 系统烧录](http://localhost:3000/rdk_doc/rdk_s/Quick_start/install_os/rdk_s100#uboot-%E7%83%A7%E5%BD%95)章节 uboot 烧录章节进行基础配置
- 在上述配置中更改部分选项：
  - 升级配置：分区选择
    - 仅勾选：miniboot_flash，miniboot_emmc
- 更新完成后重启设备
- 执行命令获取更新内容：

  ```bash
  sudo apt update
  sudo apt upgrade
  ```

- 再次重启设备，完成系统更新
