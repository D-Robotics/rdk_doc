"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[27113],{28453:(e,d,n)=>{n.d(d,{R:()=>l,x:()=>s});var i=n(96540);const r={},c=i.createContext(r);function l(e){const d=i.useContext(c);return i.useMemo(function(){return"function"==typeof e?e(d):{...d,...e}},[d,e])}function s(e){let d;return d=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(c.Provider,{value:d},e.children)}},50071:(e,d,n)=>{n.r(d),n.d(d,{assets:()=>t,contentTitle:()=>s,default:()=>p,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"Advanced_development/linux_development/driver_development_s100/driver_pcie/s100x_pcie_sw_arch","title":"S100X PCIe\u8f6f\u4ef6\u67b6\u6784\u4e0e\u6a21\u5757\u5212\u5206","description":"\u8f6f\u4ef6\u6846\u67b6","source":"@site/docs_s/07_Advanced_development/02_linux_development/04_driver_development_s100/13_driver_pcie/02_s100x_pcie_sw_arch.md","sourceDirName":"07_Advanced_development/02_linux_development/04_driver_development_s100/13_driver_pcie","slug":"/Advanced_development/linux_development/driver_development_s100/driver_pcie/s100x_pcie_sw_arch","permalink":"/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_pcie/s100x_pcie_sw_arch","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1750509720000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"S100X PCIe\u786c\u4ef6\u89c4\u683c\u4ee5\u53ca\u652f\u6301\u7684\u62d3\u6251\u7ed3\u6784","permalink":"/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_pcie/s100x_pcie_hw_guide"},"next":{"title":"S100X PCIe\u6a21\u5757\u529f\u80fd\u5728kernel\u4e0b\u7684\u914d\u7f6e","permalink":"/rdk_doc/rdk_s/Advanced_development/linux_development/driver_development_s100/driver_pcie/s100x_pcie_sw_setup"}}');var r=n(74848),c=n(28453);const l={sidebar_position:2},s="S100X PCIe\u8f6f\u4ef6\u67b6\u6784\u4e0e\u6a21\u5757\u5212\u5206",t={},o=[{value:"\u8f6f\u4ef6\u6846\u67b6",id:"\u8f6f\u4ef6\u6846\u67b6",level:2},{value:"\u9a71\u52a8\u6a21\u5757\u8bf4\u660e",id:"\u9a71\u52a8\u6a21\u5757\u8bf4\u660e",level:2},{value:"PCIe\u9a71\u52a8\u52a0\u8f7d/\u5378\u8f7d",id:"pcie\u9a71\u52a8\u52a0\u8f7d\u5378\u8f7d",level:2},{value:"RC\u7aef\u52a0\u8f7d",id:"rc\u7aef\u52a0\u8f7d",level:3},{value:"EP\u7aef\u52a0\u8f7d",id:"ep\u7aef\u52a0\u8f7d",level:3},{value:"RC\u7aef\u5378\u8f7d",id:"rc\u7aef\u5378\u8f7d",level:3},{value:"EP\u7aef\u5378\u8f7d",id:"ep\u7aef\u5378\u8f7d",level:3},{value:"\u7528\u6237\u6001\u6a21\u5757\u8bf4\u660e",id:"\u7528\u6237\u6001\u6a21\u5757\u8bf4\u660e",level:2}];function h(e){const d={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.header,{children:(0,r.jsx)(d.h1,{id:"s100x-pcie\u8f6f\u4ef6\u67b6\u6784\u4e0e\u6a21\u5757\u5212\u5206",children:"S100X PCIe\u8f6f\u4ef6\u67b6\u6784\u4e0e\u6a21\u5757\u5212\u5206"})}),"\n",(0,r.jsx)(d.h2,{id:"\u8f6f\u4ef6\u6846\u67b6",children:"\u8f6f\u4ef6\u6846\u67b6"}),"\n",(0,r.jsx)(d.p,{children:"PCIe\u8f6f\u4ef6\u6846\u67b6\u5206\u4e3aRC\u548cEP\u4e24\u4e2a\u90e8\u5206\uff1a"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.img,{src:"https://rdk-doc.oss-cn-beijing.aliyuncs.com/doc/img/07_Advanced_development/02_linux_development/driver_development_s100/pcie/sw_arch.png",alt:"S100X_PCIE_sw_arch"})}),"\n",(0,r.jsx)(d.h2,{id:"\u9a71\u52a8\u6a21\u5757\u8bf4\u660e",children:"\u9a71\u52a8\u6a21\u5757\u8bf4\u660e"}),"\n",(0,r.jsx)(d.p,{children:"\u9a71\u52a8\u76f8\u5173\u7684\u6e90\u7801\u5728hobot-drivers/pcie\u76ee\u5f55\u4e0b\uff0c\u5404\u4e2a\u6a21\u5757\u7684\u7ec6\u8282\u4fe1\u606f\u5982\u4e0b\uff1a"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"side"}),(0,r.jsx)(d.th,{children:"component"}),(0,r.jsx)(d.th,{children:"output"}),(0,r.jsx)(d.th,{children:"Source file"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"both"}),(0,r.jsx)(d.td,{children:"S13E01C01 PCIe basic driver"}),(0,r.jsx)(d.td,{children:"hobot-pcie-common.ko"}),(0,r.jsx)(d.td,{children:"hobot-ep-dev/hobot-pcie-common/"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"both"}),(0,r.jsx)(d.td,{children:"S13E01C03 PCIe controller driver"}),(0,r.jsx)(d.td,{children:"hobot-pcie.ko"}),(0,r.jsx)(d.td,{children:"hobot.c"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RC"}),(0,r.jsx)(d.td,{children:"S13E01C02 PCIe device manager"}),(0,r.jsx)(d.td,{children:"hobot-pcie-dev-manager.ko"}),(0,r.jsx)(d.td,{children:"hobot-ep-dev/hobot-pcie-dev-manager"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RC"}),(0,r.jsx)(d.td,{children:"S13E01C04 PCIe RC controller driver"}),(0,r.jsx)(d.td,{children:"hobot-pcie-rc.ko"}),(0,r.jsx)(d.td,{children:"hobot-rc.c"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RC"}),(0,r.jsx)(d.td,{children:"S13E01C10 PCIe hybrid device driver"}),(0,r.jsx)(d.td,{children:"hobot-pcie-ep-dev.ko"}),(0,r.jsx)(d.td,{children:"hobot-ep-dev/hobot-pcie-ep-dev"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RC"}),(0,r.jsx)(d.td,{children:"S13E01C11 PCIe device wrapper"}),(0,r.jsx)(d.td,{}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"EP"}),(0,r.jsx)(d.td,{children:"S13E01C05 PCIe EP controller driver"}),(0,r.jsx)(d.td,{children:"hobot-pcie-ep.ko"}),(0,r.jsx)(d.td,{children:"hobot-ep.c"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"EP"}),(0,r.jsx)(d.td,{children:"S13E01C06 PCIe function wrapper"}),(0,r.jsx)(d.td,{children:"hobot-pcie-ep-fun.ko"}),(0,r.jsx)(d.td,{children:"hobot-ep-fun/"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"EP"}),(0,r.jsx)(d.td,{children:"S13E01C07 PCIe hybrid function driver"}),(0,r.jsx)(d.td,{}),(0,r.jsx)(d.td,{})]})]})]}),"\n",(0,r.jsx)(d.h2,{id:"pcie\u9a71\u52a8\u52a0\u8f7d\u5378\u8f7d",children:"PCIe\u9a71\u52a8\u52a0\u8f7d/\u5378\u8f7d"}),"\n",(0,r.jsx)(d.h3,{id:"rc\u7aef\u52a0\u8f7d",children:"RC\u7aef\u52a0\u8f7d"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-shell",children:"modprobe hobot-pcie\nmodprobe hobot-pcie-rc\nmodprobe hobot-pcie-ep-dev\nmodprobe hobot-pcie-dev-manager\n"})}),"\n",(0,r.jsx)(d.h3,{id:"ep\u7aef\u52a0\u8f7d",children:"EP\u7aef\u52a0\u8f7d"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-shell",children:"modprobe hobot-pcie\nmodprobe hobot-pcie-ep-fun\n"})}),"\n",(0,r.jsx)(d.h3,{id:"rc\u7aef\u5378\u8f7d",children:"RC\u7aef\u5378\u8f7d"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-shell",children:"rmmod hobot_pcie_dev_manager\nrmmod hobot_pcie_ep_dev\nrmmod hobot_pcie_rc\nrmmod hobot_pcie_common\nrmmod hobot_pcie\n"})}),"\n",(0,r.jsx)(d.h3,{id:"ep\u7aef\u5378\u8f7d",children:"EP\u7aef\u5378\u8f7d"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-shell",children:"rmmod hobot_pcie_ep_fun\nrmmod hobot_pcie_ep\nrmmod hobot_pcie_common\nrmmod hobot_pcie\n"})}),"\n",(0,r.jsx)(d.p,{children:"\u9700\u8981\u6ce8\u610f\uff1a"}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u5378\u8f7d\u9a71\u52a8\u524d\u4e00\u5b9a\u8981\u4fdd\u8bc1PCIe\u7684\u5e94\u7528\u7a0b\u5e8f\u90fd\u5df2\u5173\u95ed\uff0c\u6309\u7167\u5148\u5378\u8f7dRC\u9a71\u52a8\uff0c\u518d\u5378\u8f7dEP\u9a71\u52a8\u7684\u987a\u5e8f\u8fdb\u884c"}),"\n",(0,r.jsxs)(d.li,{children:["\u7cfb\u7edf\u4f11\u7720\u524d\u9700\u8981\u9075\u5faa\u4ee5\u4e0b\u6d41\u7a0b\uff1a","\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u505c\u6389\u4e24\u7aef\u7684PCIe\u5e94\u7528\u7a0b\u5e8f"}),"\n",(0,r.jsx)(d.li,{children:"\u5378\u8f7dRC\u9a71\u52a8"}),"\n",(0,r.jsx)(d.li,{children:"\u5378\u8f7dEP\u9a71\u52a8"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(d.li,{children:["\u7cfb\u7edf\u5524\u9192\u540e\u9700\u8981\u9075\u5faa\u4ee5\u4e0b\u6d41\u7a0b\uff1a","\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u52a0\u8f7dEP\u9a71\u52a8"}),"\n",(0,r.jsx)(d.li,{children:"\u52a0\u8f7dRC\u9a71\u52a8"}),"\n",(0,r.jsx)(d.li,{children:"\u542f\u52a8PCIe\u5e94\u7528\u7a0b\u5e8f"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(d.li,{children:"\u94fe\u8def\u4fe1\u53f7\u4e0d\u7a33\u5b9a\u6216\u5bf9\u7aef\u91cd\u542f\u5bfc\u81f4PCIe link down\u540e\uff0c\u9700\u8981\u91cd\u542fRC\u548cEP\u4ee5\u4fdd\u8bc1PCIe\u529f\u80fd\u7684\u53ef\u7528\u6027\u4ee5\u53ca\u7cfb\u7edf\u7684\u7a33\u5b9a\u6027"}),"\n",(0,r.jsx)(d.li,{children:"\u5728\u4e0d\u4f7f\u7528pcie\u529f\u80fd\u7684\u65f6\u5019\uff0c\u4e0d\u8981\u52a0\u8f7dpcie\u76f8\u5173\u9a71\u52a8"}),"\n",(0,r.jsxs)(d.li,{children:["\u7cfb\u7edf\u91cd\u542f\u524d\u9700\u8981\u9075\u5faa\u4ee5\u4e0b\u6d41\u7a0b\uff1a","\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u505c\u6389\u4e24\u7aef\u7684PCIe\u5e94\u7528\u7a0b\u5e8f"}),"\n",(0,r.jsx)(d.li,{children:"\u5378\u8f7dRC\u9a71\u52a8"}),"\n",(0,r.jsx)(d.li,{children:"\u5378\u8f7dEP\u9a71\u52a8"}),"\n",(0,r.jsx)(d.li,{children:"RC\u7cfb\u7edf\u91cd\u542f"}),"\n",(0,r.jsx)(d.li,{children:"EP\u7cfb\u7edf\u91cd\u542f"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(d.h2,{id:"\u7528\u6237\u6001\u6a21\u5757\u8bf4\u660e",children:"\u7528\u6237\u6001\u6a21\u5757\u8bf4\u660e"}),"\n",(0,r.jsx)(d.p,{children:"\u7528\u6237\u6001\u76f8\u5173\u7684\u6e90\u7801\u5728hbre\u76ee\u5f55\u4e0b\uff0c\u5404\u4e2a\u6a21\u5757\u7684\u7ec6\u8282\u4fe1\u606f\u5982\u4e0b\uff1a"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"side"}),(0,r.jsx)(d.th,{children:"component"}),(0,r.jsx)(d.th,{children:"output"}),(0,r.jsx)(d.th,{children:"Source file"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"both"}),(0,r.jsx)(d.td,{children:"S13E01C15 PCIe user library"}),(0,r.jsx)(d.td,{children:"libhbpcie.so"}),(0,r.jsx)(d.td,{children:"libhbpcie/"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"both"}),(0,r.jsx)(d.td,{children:"S13E01C16 PCIe High Level API"}),(0,r.jsx)(d.td,{children:"libhbpciehl.so"}),(0,r.jsx)(d.td,{children:"libhbpciehl/"})]})]})]})]})}function p(e={}){const{wrapper:d}={...(0,c.R)(),...e.components};return d?(0,r.jsx)(d,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);